
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Official documentation for the Lilia Framework">
      
      
        <meta name="author" content="Lilia Framework Team">
      
      
        <link rel="canonical" href="https://liliaframework.github.io/meta/tool/">
      
      
        <link rel="prev" href="../player/">
      
      
        <link rel="next" href="../../modules/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Tool Gun Meta - Lilia Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lavender">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tool-gun-meta" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Lilia Documentation" class="md-header__button md-logo" aria-label="Lilia Documentation" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lilia Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tool Gun Meta
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lavender"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="lavender"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/LiliaFramework/Lilia" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../changelog/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../compatibility/" class="md-tabs__link">
        
  
  
    
  
  Addon Compatibility

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../gettingstarted/" class="md-tabs__link">
        
  
  
    
  
  Getting Started with Lilia

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../installation/" class="md-tabs__link">
        
  
  
    
  
  Installation Guide

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../definitions/attributes/" class="md-tabs__link">
          
  
  
    
  
  Definitions

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../hooks/client/" class="md-tabs__link">
          
  
  
    
  
  Hooks

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../libraries/lia.admin/" class="md-tabs__link">
          
  
  
    
  
  Libraries

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../character/" class="md-tabs__link">
          
  
  
    
  
  Meta

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../modules/" class="md-tabs__link">
          
  
  
    
  
  Modules

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Lilia Documentation" class="md-nav__button md-logo" aria-label="Lilia Documentation" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Lilia Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/LiliaFramework/Lilia" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../compatibility/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Addon Compatibility
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gettingstarted/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with Lilia
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../definitions/attributes/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Definitions
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../hooks/client/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Hooks
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../libraries/lia.admin/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Libraries
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Meta
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Meta
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../character/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Character Meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../entity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Entity Meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inventory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inventory Meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../item/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Item Meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../panel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Panel Meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../player/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Player Meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Tool Gun Meta
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Tool Gun Meta
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create" class="md-nav__link">
    <span class="md-ellipsis">
      create
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createconvars" class="md-nav__link">
    <span class="md-ellipsis">
      createConVars
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updatedata" class="md-nav__link">
    <span class="md-ellipsis">
      updateData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updatedata_1" class="md-nav__link">
    <span class="md-ellipsis">
      updateData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updatedata_2" class="md-nav__link">
    <span class="md-ellipsis">
      updateData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#freezemovement" class="md-nav__link">
    <span class="md-ellipsis">
      freezeMovement
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#freezemovement_1" class="md-nav__link">
    <span class="md-ellipsis">
      freezeMovement
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unfreezemovement" class="md-nav__link">
    <span class="md-ellipsis">
      unfreezeMovement
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#freezemovement_2" class="md-nav__link">
    <span class="md-ellipsis">
      freezeMovement
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawhud" class="md-nav__link">
    <span class="md-ellipsis">
      drawHUD
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawhud_1" class="md-nav__link">
    <span class="md-ellipsis">
      drawHUD
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawhud_2" class="md-nav__link">
    <span class="md-ellipsis">
      drawHUD
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawhud_3" class="md-nav__link">
    <span class="md-ellipsis">
      drawHUD
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getserverinfo" class="md-nav__link">
    <span class="md-ellipsis">
      getServerInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#buildconvarlist" class="md-nav__link">
    <span class="md-ellipsis">
      buildConVarList
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getclientinfo" class="md-nav__link">
    <span class="md-ellipsis">
      getClientInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getclientnumber" class="md-nav__link">
    <span class="md-ellipsis">
      getClientNumber
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#allowed" class="md-nav__link">
    <span class="md-ellipsis">
      allowed
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#init" class="md-nav__link">
    <span class="md-ellipsis">
      init
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#init_1" class="md-nav__link">
    <span class="md-ellipsis">
      init
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#init_2" class="md-nav__link">
    <span class="md-ellipsis">
      init
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getmode" class="md-nav__link">
    <span class="md-ellipsis">
      getMode
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getswep" class="md-nav__link">
    <span class="md-ellipsis">
      getSWEP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getowner" class="md-nav__link">
    <span class="md-ellipsis">
      GetOwner
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getweapon" class="md-nav__link">
    <span class="md-ellipsis">
      getWeapon
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#leftclick" class="md-nav__link">
    <span class="md-ellipsis">
      leftClick
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#leftclick_1" class="md-nav__link">
    <span class="md-ellipsis">
      leftClick
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#leftclick_2" class="md-nav__link">
    <span class="md-ellipsis">
      leftClick
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#leftclick_3" class="md-nav__link">
    <span class="md-ellipsis">
      leftClick
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rightclick" class="md-nav__link">
    <span class="md-ellipsis">
      rightClick
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rightclick_1" class="md-nav__link">
    <span class="md-ellipsis">
      rightClick
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rightclick_2" class="md-nav__link">
    <span class="md-ellipsis">
      rightClick
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rightclick_3" class="md-nav__link">
    <span class="md-ellipsis">
      rightClick
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reload" class="md-nav__link">
    <span class="md-ellipsis">
      reload
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reload_1" class="md-nav__link">
    <span class="md-ellipsis">
      reload
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reload_2" class="md-nav__link">
    <span class="md-ellipsis">
      reload
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reload_3" class="md-nav__link">
    <span class="md-ellipsis">
      reload
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy" class="md-nav__link">
    <span class="md-ellipsis">
      deploy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy_1" class="md-nav__link">
    <span class="md-ellipsis">
      deploy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy_2" class="md-nav__link">
    <span class="md-ellipsis">
      deploy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy_3" class="md-nav__link">
    <span class="md-ellipsis">
      deploy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#holster" class="md-nav__link">
    <span class="md-ellipsis">
      holster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#holster_1" class="md-nav__link">
    <span class="md-ellipsis">
      holster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#holster_2" class="md-nav__link">
    <span class="md-ellipsis">
      holster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#holster_3" class="md-nav__link">
    <span class="md-ellipsis">
      holster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#think" class="md-nav__link">
    <span class="md-ellipsis">
      think
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#think_1" class="md-nav__link">
    <span class="md-ellipsis">
      think
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#think_2" class="md-nav__link">
    <span class="md-ellipsis">
      think
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#think_3" class="md-nav__link">
    <span class="md-ellipsis">
      think
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checkobjects" class="md-nav__link">
    <span class="md-ellipsis">
      checkObjects
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checkobjects_1" class="md-nav__link">
    <span class="md-ellipsis">
      checkObjects
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checkobjects_2" class="md-nav__link">
    <span class="md-ellipsis">
      checkObjects
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checkobjects_3" class="md-nav__link">
    <span class="md-ellipsis">
      checkObjects
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clearobjects" class="md-nav__link">
    <span class="md-ellipsis">
      clearObjects
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clearobjects_1" class="md-nav__link">
    <span class="md-ellipsis">
      clearObjects
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clearobjects_2" class="md-nav__link">
    <span class="md-ellipsis">
      clearObjects
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#releaseghostentity" class="md-nav__link">
    <span class="md-ellipsis">
      releaseGhostEntity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#releaseghostentity_1" class="md-nav__link">
    <span class="md-ellipsis">
      releaseGhostEntity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#releaseghostentity_2" class="md-nav__link">
    <span class="md-ellipsis">
      releaseGhostEntity
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../modules/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="tool-gun-meta">Tool Gun Meta</h1>
<p>Tool gun management system for the Lilia framework.</p>
<hr />
<p>Overview</p>
<p>The tool gun meta table provides comprehensive functionality for managing tool gun instances, tool operations, and tool-specific functionality in the Lilia framework. It handles tool creation, configuration, object management, and tool-specific operations. The meta table operates on both server and client sides, with the server managing tool validation and data while the client provides tool interaction and display. It includes integration with the Garry's Mod tool system for tool functionality, object system for tool objects, network system for tool synchronization, and permission system for tool access control. The meta table ensures proper tool instance management, object handling, tool synchronization, and comprehensive tool lifecycle management from creation to destruction.</p>
<hr />
<h3 id="create">create</h3>
<p><strong>Purpose</strong></p>
<p>Creates a new instance of the tool gun object with default properties</p>
<p><strong>When Called</strong></p>
<p>When initializing a new tool gun instance for a specific tool mode</p>
<p><strong>Returns</strong></p>
<ul>
<li>table - The newly created tool gun object</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">-- Simple: Create a basic tool gun instance</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">tool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">toolGunMeta</span><span class="p">:</span><span class="nf">create</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">-- Medium: Create tool with custom properties</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">tool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">toolGunMeta</span><span class="p">:</span><span class="nf">create</span><span class="p">()</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nv">tool</span><span class="p">.</span><span class="py">Mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;custom_tool&quot;</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="nv">tool</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">-- High: Create tool with full configuration and custom objects</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">tool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">toolGunMeta</span><span class="p">:</span><span class="nf">create</span><span class="p">()</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nv">tool</span><span class="p">.</span><span class="py">Mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;advanced_builder&quot;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="nv">tool</span><span class="p">.</span><span class="py">ClientConVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="p">[</span><span class="s2">&quot;build_size&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="p">[</span><span class="s2">&quot;build_material&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;wood&quot;</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="p">}</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="nv">tool</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="nv">tool</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span></code></pre></div></p>
<hr />
<h3 id="createconvars">createConVars</h3>
<p><strong>Purpose</strong></p>
<p>Creates console variables (ConVars) for the tool gun based on the current mode</p>
<p><strong>When Called</strong></p>
<p>During tool initialization to set up configurable options for the tool</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (different behavior on client vs server)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">-- Simple: Initialize basic ConVars for a tool</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">tool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">toolGunMeta</span><span class="p">:</span><span class="nf">create</span><span class="p">()</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">createConVars</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">-- Medium: Set up tool with client-side options</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">tool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">toolGunMeta</span><span class="p">:</span><span class="nf">create</span><span class="p">()</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nv">tool</span><span class="p">.</span><span class="py">ClientConVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{[</span><span class="s2">&quot;size&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;material&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;wood&quot;</span><span class="p">}</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">createConVars</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">-- High: Advanced tool with multiple client and server ConVars</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">tool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">toolGunMeta</span><span class="p">:</span><span class="nf">create</span><span class="p">()</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nv">tool</span><span class="p">.</span><span class="py">Mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;advanced_builder&quot;</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="nv">tool</span><span class="p">.</span><span class="py">ClientConVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="p">[</span><span class="s2">&quot;build_size&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="p">[</span><span class="s2">&quot;build_material&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;wood&quot;</span><span class="p">,</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="p">[</span><span class="s2">&quot;auto_align&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="p">}</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">createConVars</span><span class="p">()</span>
</span></code></pre></div></p>
<hr />
<h3 id="updatedata">updateData</h3>
<p><strong>Purpose</strong></p>
<p>Updates the tool's data and state information (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>During tool operation to refresh data or synchronize with server/client state</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">-- Simple: Basic data update call</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">-- Medium: Update data with custom logic</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">ObjectCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">-- High: Advanced data synchronization with networking</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">        </span><span class="c1">-- Server-side data update</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SyncDataToClients</span><span class="p">()</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">        </span><span class="c1">-- Client-side data refresh</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">RequestServerUpdate</span><span class="p">()</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="updatedata_1">updateData</h3>
<p><strong>Purpose</strong></p>
<p>Updates the tool's data and state information (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>During tool operation to refresh data or synchronize with server/client state</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">-- Simple: Basic data update call</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1">-- Medium: Update data with custom logic</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">ObjectCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1">-- High: Advanced data synchronization with networking</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">        </span><span class="c1">-- Server-side data update</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SyncDataToClients</span><span class="p">()</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">        </span><span class="c1">-- Client-side data refresh</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">RequestServerUpdate</span><span class="p">()</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="updatedata_2">updateData</h3>
<p><strong>Purpose</strong></p>
<p>Updates the tool's data and state information (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>During tool operation to refresh data or synchronize with server/client state</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">-- Simple: Basic data update call</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1">-- Medium: Update data with custom logic</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">ObjectCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">-- High: Advanced data synchronization with networking</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">        </span><span class="c1">-- Server-side data update</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SyncDataToClients</span><span class="p">()</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">        </span><span class="c1">-- Client-side data refresh</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">RequestServerUpdate</span><span class="p">()</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="freezemovement">freezeMovement</h3>
<p><strong>Purpose</strong></p>
<p>Freezes player movement during tool operation (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the tool needs to restrict player movement for precise operations</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Client (affects local player movement)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1">-- Simple: Basic movement freeze</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">freezeMovement</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">-- Medium: Conditional movement freezing</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">freezeMovement</span><span class="p">()</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_ATTACK</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">SetMoveType</span><span class="p">(</span><span class="nv">MOVETYPE_NONE</span><span class="p">)</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1">-- High: Advanced movement control with restoration</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">freezeMovement</span><span class="p">()</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">ply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ply</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">()</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenAngles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ply</span><span class="p">:</span><span class="nf">GetAngles</span><span class="p">()</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">        </span><span class="nv">ply</span><span class="p">:</span><span class="nf">SetMoveType</span><span class="p">(</span><span class="nv">MOVETYPE_NONE</span><span class="p">)</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="kr">end</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">unfreezeMovement</span><span class="p">()</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">ply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="w">        </span><span class="nv">ply</span><span class="p">:</span><span class="nf">SetMoveType</span><span class="p">(</span><span class="nv">MOVETYPE_WALK</span><span class="p">)</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenAngles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="freezemovement_1">freezeMovement</h3>
<p><strong>Purpose</strong></p>
<p>Freezes player movement during tool operation (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the tool needs to restrict player movement for precise operations</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Client (affects local player movement)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1">-- Simple: Basic movement freeze</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">freezeMovement</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1">-- Medium: Conditional movement freezing</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">freezeMovement</span><span class="p">()</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_ATTACK</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">SetMoveType</span><span class="p">(</span><span class="nv">MOVETYPE_NONE</span><span class="p">)</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1">-- High: Advanced movement control with restoration</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">freezeMovement</span><span class="p">()</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">ply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ply</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">()</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenAngles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ply</span><span class="p">:</span><span class="nf">GetAngles</span><span class="p">()</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">        </span><span class="nv">ply</span><span class="p">:</span><span class="nf">SetMoveType</span><span class="p">(</span><span class="nv">MOVETYPE_NONE</span><span class="p">)</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="kr">end</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">unfreezeMovement</span><span class="p">()</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">ply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">        </span><span class="nv">ply</span><span class="p">:</span><span class="nf">SetMoveType</span><span class="p">(</span><span class="nv">MOVETYPE_WALK</span><span class="p">)</span>
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenAngles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-20-16"><a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-20-17"><a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="unfreezemovement">unfreezeMovement</h3>
<p><strong>Purpose</strong></p>
<p>Freezes player movement during tool operation (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the tool needs to restrict player movement for precise operations</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Client (affects local player movement)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1">-- Simple: Basic movement freeze</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">freezeMovement</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1">-- Medium: Conditional movement freezing</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">freezeMovement</span><span class="p">()</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_ATTACK</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">SetMoveType</span><span class="p">(</span><span class="nv">MOVETYPE_NONE</span><span class="p">)</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1">-- High: Advanced movement control with restoration</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">freezeMovement</span><span class="p">()</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">ply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ply</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">()</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenAngles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ply</span><span class="p">:</span><span class="nf">GetAngles</span><span class="p">()</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">        </span><span class="nv">ply</span><span class="p">:</span><span class="nf">SetMoveType</span><span class="p">(</span><span class="nv">MOVETYPE_NONE</span><span class="p">)</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="kr">end</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">unfreezeMovement</span><span class="p">()</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">ply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">        </span><span class="nv">ply</span><span class="p">:</span><span class="nf">SetMoveType</span><span class="p">(</span><span class="nv">MOVETYPE_WALK</span><span class="p">)</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenAngles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="freezemovement_2">freezeMovement</h3>
<p><strong>Purpose</strong></p>
<p>Freezes player movement during tool operation (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the tool needs to restrict player movement for precise operations</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Client (affects local player movement)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1">-- Simple: Basic movement freeze</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">freezeMovement</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1">-- Medium: Conditional movement freezing</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">freezeMovement</span><span class="p">()</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_ATTACK</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">SetMoveType</span><span class="p">(</span><span class="nv">MOVETYPE_NONE</span><span class="p">)</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1">-- High: Advanced movement control with restoration</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">freezeMovement</span><span class="p">()</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">ply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ply</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">()</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenAngles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ply</span><span class="p">:</span><span class="nf">GetAngles</span><span class="p">()</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="w">        </span><span class="nv">ply</span><span class="p">:</span><span class="nf">SetMoveType</span><span class="p">(</span><span class="nv">MOVETYPE_NONE</span><span class="p">)</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="kr">end</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">unfreezeMovement</span><span class="p">()</span>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">ply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="w">        </span><span class="nv">ply</span><span class="p">:</span><span class="nf">SetMoveType</span><span class="p">(</span><span class="nv">MOVETYPE_WALK</span><span class="p">)</span>
</span><span id="__span-26-14"><a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-26-15"><a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="w">        </span><span class="nv">ply</span><span class="p">.</span><span class="py">FrozenAngles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-26-16"><a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-26-17"><a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="drawhud">drawHUD</h3>
<p><strong>Purpose</strong></p>
<p>Draws HUD elements for the tool gun interface (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>Every frame when the tool gun is active and HUD should be displayed</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Client (HUD rendering only occurs on client)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1">-- Simple: Draw basic tool information</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">drawHUD</span><span class="p">()</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;default&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">)</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1">-- Medium: Draw tool progress and object count</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">drawHUD</span><span class="p">()</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">scrW</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ScrW</span><span class="p">(),</span><span class="w"> </span><span class="nf">ScrH</span><span class="p">()</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">    </span><span class="c1">-- Draw tool name and stage</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;liaGenericFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">scrW</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">)</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="w">    </span><span class="c1">-- Draw progress bar</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">progress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">3</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetDrawColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">)</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawRect</span><span class="p">(</span><span class="nv">scrW</span><span class="o">/</span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="nv">progress</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1">-- High: Advanced HUD with object preview and controls</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">drawHUD</span><span class="p">()</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">scrW</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ScrW</span><span class="p">(),</span><span class="w"> </span><span class="nf">ScrH</span><span class="p">()</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="w">    </span><span class="c1">-- Draw tool header</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetDrawColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="nv">scrW</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">)</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="w">    </span><span class="c1">-- Draw tool name and status</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">():</span><span class="nf">upper</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;liaGenericFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">)</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="w">    </span><span class="c1">-- Draw object list</span>
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">120</span>
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="w">        </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Object &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;liaSmallFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">)</span>
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="w">        </span><span class="nv">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">20</span>
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-29-15"><a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a><span class="w">    </span><span class="c1">-- Draw control hints</span>
</span><span id="__span-29-16"><a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Left Click: Place | Right Click: Cancel | Reload: Clear&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;liaSmallFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">scrW</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">)</span>
</span><span id="__span-29-17"><a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="drawhud_1">drawHUD</h3>
<p><strong>Purpose</strong></p>
<p>Draws HUD elements for the tool gun interface (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>Every frame when the tool gun is active and HUD should be displayed</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Client (HUD rendering only occurs on client)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1">-- Simple: Draw basic tool information</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">drawHUD</span><span class="p">()</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;default&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">)</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1">-- Medium: Draw tool progress and object count</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">drawHUD</span><span class="p">()</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">scrW</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ScrW</span><span class="p">(),</span><span class="w"> </span><span class="nf">ScrH</span><span class="p">()</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">    </span><span class="c1">-- Draw tool name and stage</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;liaGenericFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">scrW</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">)</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">    </span><span class="c1">-- Draw progress bar</span>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">progress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">3</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetDrawColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">)</span>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawRect</span><span class="p">(</span><span class="nv">scrW</span><span class="o">/</span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="nv">progress</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1">-- High: Advanced HUD with object preview and controls</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">drawHUD</span><span class="p">()</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">scrW</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ScrW</span><span class="p">(),</span><span class="w"> </span><span class="nf">ScrH</span><span class="p">()</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="w">    </span><span class="c1">-- Draw tool header</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetDrawColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="nv">scrW</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">)</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="w">    </span><span class="c1">-- Draw tool name and status</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">():</span><span class="nf">upper</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;liaGenericFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">)</span>
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="w">    </span><span class="c1">-- Draw object list</span>
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">120</span>
</span><span id="__span-32-11"><a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-32-12"><a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="w">        </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Object &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;liaSmallFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">)</span>
</span><span id="__span-32-13"><a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="w">        </span><span class="nv">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">20</span>
</span><span id="__span-32-14"><a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-32-15"><a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="w">    </span><span class="c1">-- Draw control hints</span>
</span><span id="__span-32-16"><a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Left Click: Place | Right Click: Cancel | Reload: Clear&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;liaSmallFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">scrW</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">)</span>
</span><span id="__span-32-17"><a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="drawhud_2">drawHUD</h3>
<p><strong>Purpose</strong></p>
<p>Draws HUD elements for the tool gun interface (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>Every frame when the tool gun is active and HUD should be displayed</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Client (HUD rendering only occurs on client)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1">-- Simple: Draw basic tool information</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">drawHUD</span><span class="p">()</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;default&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">)</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="c1">-- Medium: Draw tool progress and object count</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">drawHUD</span><span class="p">()</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">scrW</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ScrW</span><span class="p">(),</span><span class="w"> </span><span class="nf">ScrH</span><span class="p">()</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">    </span><span class="c1">-- Draw tool name and stage</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;liaGenericFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">scrW</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">)</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="w">    </span><span class="c1">-- Draw progress bar</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">progress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">3</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetDrawColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">)</span>
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawRect</span><span class="p">(</span><span class="nv">scrW</span><span class="o">/</span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="nv">progress</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-34-10"><a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1">-- High: Advanced HUD with object preview and controls</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">drawHUD</span><span class="p">()</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">scrW</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ScrW</span><span class="p">(),</span><span class="w"> </span><span class="nf">ScrH</span><span class="p">()</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">    </span><span class="c1">-- Draw tool header</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetDrawColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="nv">scrW</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">)</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">    </span><span class="c1">-- Draw tool name and status</span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">():</span><span class="nf">upper</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;liaGenericFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">)</span>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">    </span><span class="c1">-- Draw object list</span>
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">120</span>
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-35-12"><a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="w">        </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Object &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;liaSmallFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">)</span>
</span><span id="__span-35-13"><a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="w">        </span><span class="nv">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">20</span>
</span><span id="__span-35-14"><a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-35-15"><a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="w">    </span><span class="c1">-- Draw control hints</span>
</span><span id="__span-35-16"><a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Left Click: Place | Right Click: Cancel | Reload: Clear&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;liaSmallFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">scrW</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">)</span>
</span><span id="__span-35-17"><a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="drawhud_3">drawHUD</h3>
<p><strong>Purpose</strong></p>
<p>Draws HUD elements for the tool gun interface (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>Every frame when the tool gun is active and HUD should be displayed</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Client (HUD rendering only occurs on client)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="c1">-- Simple: Draw basic tool information</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">drawHUD</span><span class="p">()</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;default&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">)</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="c1">-- Medium: Draw tool progress and object count</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">drawHUD</span><span class="p">()</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">scrW</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ScrW</span><span class="p">(),</span><span class="w"> </span><span class="nf">ScrH</span><span class="p">()</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="w">    </span><span class="c1">-- Draw tool name and stage</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;liaGenericFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">scrW</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">)</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="w">    </span><span class="c1">-- Draw progress bar</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">progress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">3</span>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetDrawColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">)</span>
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawRect</span><span class="p">(</span><span class="nv">scrW</span><span class="o">/</span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="nv">progress</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-37-10"><a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="c1">-- High: Advanced HUD with object preview and controls</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">drawHUD</span><span class="p">()</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">scrW</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ScrW</span><span class="p">(),</span><span class="w"> </span><span class="nf">ScrH</span><span class="p">()</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">    </span><span class="c1">-- Draw tool header</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetDrawColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="nv">scrW</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">)</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="w">    </span><span class="c1">-- Draw tool name and status</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">():</span><span class="nf">upper</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;liaGenericFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">)</span>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">    </span><span class="c1">-- Draw object list</span>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">120</span>
</span><span id="__span-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-38-12"><a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="w">        </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Object &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;liaSmallFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">)</span>
</span><span id="__span-38-13"><a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="w">        </span><span class="nv">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">20</span>
</span><span id="__span-38-14"><a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-38-15"><a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="w">    </span><span class="c1">-- Draw control hints</span>
</span><span id="__span-38-16"><a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Left Click: Place | Right Click: Cancel | Reload: Clear&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;liaSmallFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">scrW</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nv">scrH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="nv">color_white</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">)</span>
</span><span id="__span-38-17"><a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="getserverinfo">getServerInfo</h3>
<p><strong>Purpose</strong></p>
<p>Retrieves server-side ConVar information for the current tool mode</p>
<p><strong>When Called</strong></p>
<p>When the tool needs to access server configuration values</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>property</code> (<em>string</em>): The name of the ConVar property to retrieve</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>ConVar - The server ConVar object for the specified property</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server (accesses server-side console variables)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="c1">-- Simple: Get basic server ConVar</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">maxObjects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getServerInfo</span><span class="p">(</span><span class="s2">&quot;max_objects&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="c1">-- Medium: Use server info for validation</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">maxObjects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getServerInfo</span><span class="p">(</span><span class="s2">&quot;max_objects&quot;</span><span class="p">)</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">tool</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nv">maxObjects</span><span class="p">:</span><span class="nf">GetInt</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">    </span><span class="nv">tool</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Maximum objects reached&quot;</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="c1">-- High: Advanced server configuration management</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">serverConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="kd">local</span><span class="w"> </span><span class="nv">properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;max_objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;build_speed&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;auto_save&quot;</span><span class="p">}</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">prop</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">properties</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">convar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getServerInfo</span><span class="p">(</span><span class="nv">prop</span><span class="p">)</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="w">    </span><span class="nv">serverConfig</span><span class="p">[</span><span class="nv">prop</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">convar</span><span class="p">:</span><span class="nf">GetInt</span><span class="p">()</span>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="kr">end</span>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="kr">if</span><span class="w"> </span><span class="nv">serverConfig</span><span class="p">.</span><span class="py">auto_save</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="w">    </span><span class="nv">tool</span><span class="p">:</span><span class="nf">ScheduleAutoSave</span><span class="p">(</span><span class="nv">serverConfig</span><span class="p">.</span><span class="py">auto_save</span><span class="p">)</span>
</span><span id="__span-41-10"><a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="buildconvarlist">buildConVarList</h3>
<p><strong>Purpose</strong></p>
<p>Builds a formatted list of ConVars for the current tool mode</p>
<p><strong>When Called</strong></p>
<p>When the tool needs to provide a list of available ConVars for UI or configuration</p>
<p><strong>Returns</strong></p>
<ul>
<li>table - A table mapping ConVar names to their default values</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be used on both client and server)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="c1">-- Simple: Get basic ConVar list</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">convars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">buildConVarList</span><span class="p">()</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="nf">PrintTable</span><span class="p">(</span><span class="nv">convars</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="c1">-- Medium: Use ConVar list for UI population</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">convars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">buildConVarList</span><span class="p">()</span>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="kr">for</span><span class="w"> </span><span class="nv">name</span><span class="p">,</span><span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">convars</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">panel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vgui</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;DTextEntry&quot;</span><span class="p">)</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">    </span><span class="nv">panel</span><span class="p">:</span><span class="nf">SetConVar</span><span class="p">(</span><span class="nv">name</span><span class="p">)</span>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="w">    </span><span class="nv">panel</span><span class="p">:</span><span class="nf">SetValue</span><span class="p">(</span><span class="nv">default</span><span class="p">)</span>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="c1">-- High: Advanced ConVar management with validation</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">convars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">buildConVarList</span><span class="p">()</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="kd">local</span><span class="w"> </span><span class="nv">validatedConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="kr">for</span><span class="w"> </span><span class="nv">name</span><span class="p">,</span><span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">convars</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">GetConVar</span><span class="p">(</span><span class="nv">name</span><span class="p">):</span><span class="nf">GetString</span><span class="p">()</span>
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">ValidateConVar</span><span class="p">(</span><span class="nv">name</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="w">        </span><span class="nv">validatedConfig</span><span class="p">[</span><span class="nv">name</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span>
</span><span id="__span-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="w">        </span><span class="nv">validatedConfig</span><span class="p">[</span><span class="nv">name</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">default</span>
</span><span id="__span-44-10"><a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="w">        </span><span class="c1">-- Invalid ConVar value for &quot; .. name .. &quot;, using default</span>
</span><span id="__span-44-11"><a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-44-12"><a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a><span class="kr">end</span>
</span><span id="__span-44-13"><a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a><span class="nv">self</span><span class="p">:</span><span class="nf">ApplyConfiguration</span><span class="p">(</span><span class="nv">validatedConfig</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getclientinfo">getClientInfo</h3>
<p><strong>Purpose</strong></p>
<p>Retrieves client-side ConVar information for the current tool mode</p>
<p><strong>When Called</strong></p>
<p>When the tool needs to access client configuration values from the owner</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>property</code> (<em>string</em>): The name of the ConVar property to retrieve</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>string - The current value of the client's ConVar for the specified property</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (accesses client-side data through the owner)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="c1">-- Simple: Get basic client ConVar value</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="s2">&quot;build_size&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="c1">-- Medium: Use client info for tool behavior</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">material</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="s2">&quot;build_material&quot;</span><span class="p">)</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="kr">if</span><span class="w"> </span><span class="nv">material</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;wood&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">SetMaterial</span><span class="p">(</span><span class="s2">&quot;wood&quot;</span><span class="p">)</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="c1">-- High: Advanced client configuration with fallback</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;build_size&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;build_material&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;auto_align&quot;</span><span class="p">}</span>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="kd">local</span><span class="w"> </span><span class="nv">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">prop</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">properties</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="nv">prop</span><span class="p">)</span>
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-47-7"><a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="w">        </span><span class="nv">config</span><span class="p">[</span><span class="nv">prop</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span>
</span><span id="__span-47-8"><a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-47-9"><a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">        </span><span class="nv">config</span><span class="p">[</span><span class="nv">prop</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">ClientConVar</span><span class="p">[</span><span class="nv">prop</span><span class="p">]</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
</span><span id="__span-47-10"><a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-47-11"><a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a><span class="kr">end</span>
</span><span id="__span-47-12"><a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="nv">self</span><span class="p">:</span><span class="nf">ApplyClientConfiguration</span><span class="p">(</span><span class="nv">config</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getclientnumber">getClientNumber</h3>
<p><strong>Purpose</strong></p>
<p>Retrieves client-side ConVar information as a number for the current tool mode</p>
<p><strong>When Called</strong></p>
<p>When the tool needs numeric client configuration values with fallback defaults</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>property</code> (<em>string</em>): The name of the ConVar property to retrieve</li>
<li><code>default</code> (<em>number</em>): Default value if ConVar is not found or invalid</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>number - The numeric value of the client's ConVar or the default value</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (accesses client-side data through the owner)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="c1">-- Simple: Get basic numeric client ConVar</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getClientNumber</span><span class="p">(</span><span class="s2">&quot;build_size&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="c1">-- Medium: Use numeric client info for calculations</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getClientNumber</span><span class="p">(</span><span class="s2">&quot;object_count&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="kd">local</span><span class="w"> </span><span class="nv">spacing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getClientNumber</span><span class="p">(</span><span class="s2">&quot;build_spacing&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-49-5"><a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">Vector</span><span class="p">(</span><span class="nv">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">spacing</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-49-6"><a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateObjectAt</span><span class="p">(</span><span class="nv">pos</span><span class="p">)</span>
</span><span id="__span-49-7"><a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="c1">-- High: Advanced numeric configuration with validation</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">numericConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="p">[</span><span class="s2">&quot;build_size&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nv">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="nv">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">},</span>
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="p">[</span><span class="s2">&quot;build_speed&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nv">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="nv">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">},</span>
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="p">[</span><span class="s2">&quot;max_objects&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="nv">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nv">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="p">}</span>
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="p">}</span>
</span><span id="__span-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="kd">local</span><span class="w"> </span><span class="nv">validatedNumbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-50-8"><a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="kr">for</span><span class="w"> </span><span class="nv">prop</span><span class="p">,</span><span class="w"> </span><span class="nv">config</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">numericConfig</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-50-9"><a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getClientNumber</span><span class="p">(</span><span class="nv">prop</span><span class="p">,</span><span class="w"> </span><span class="nv">config</span><span class="p">.</span><span class="py">default</span><span class="p">)</span>
</span><span id="__span-50-10"><a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a><span class="w">    </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">math</span><span class="p">.</span><span class="nf">Clamp</span><span class="p">(</span><span class="nv">value</span><span class="p">,</span><span class="w"> </span><span class="nv">config</span><span class="p">.</span><span class="py">min</span><span class="p">,</span><span class="w"> </span><span class="nv">config</span><span class="p">.</span><span class="py">max</span><span class="p">)</span>
</span><span id="__span-50-11"><a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a><span class="w">    </span><span class="nv">validatedNumbers</span><span class="p">[</span><span class="nv">prop</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span>
</span><span id="__span-50-12"><a id="__codelineno-50-12" name="__codelineno-50-12" href="#__codelineno-50-12"></a><span class="kr">end</span>
</span><span id="__span-50-13"><a id="__codelineno-50-13" name="__codelineno-50-13" href="#__codelineno-50-13"></a><span class="nv">self</span><span class="p">:</span><span class="nf">ApplyNumericConfiguration</span><span class="p">(</span><span class="nv">validatedNumbers</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="allowed">allowed</h3>
<p><strong>Purpose</strong></p>
<p>Checks if the tool is allowed to be used based on server configuration</p>
<p><strong>When Called</strong></p>
<p>Before performing tool operations to verify permissions</p>
<p><strong>Returns</strong></p>
<ul>
<li>boolean - True if the tool is allowed, false otherwise</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (client always returns true, server checks ConVar)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="c1">-- Simple: Basic permission check</span>
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="c1">-- Medium: Permission-based tool behavior</span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="kr">if</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="w">    </span><span class="nv">tool</span><span class="p">:</span><span class="nf">PerformAction</span><span class="p">()</span>
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="kr">else</span>
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="w">    </span><span class="nv">tool</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool usage not allowed&quot;</span>
</span><span id="__span-52-6"><a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="c1">-- High: Advanced permission system with logging</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">playerName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">Name</span><span class="p">()</span>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">toolMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()</span>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Player %s attempted to use %s but was denied&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">playerName</span><span class="p">,</span><span class="w"> </span><span class="nv">toolMode</span><span class="p">))</span>
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-53-7"><a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="w">        </span><span class="nv">tool</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;Tool usage is currently disabled&quot;</span><span class="p">)</span>
</span><span id="__span-53-8"><a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-53-9"><a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-53-10"><a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="kr">end</span>
</span><span id="__span-53-11"><a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a><span class="c1">-- Continue with allowed operation</span>
</span><span id="__span-53-12"><a id="__codelineno-53-12" name="__codelineno-53-12" href="#__codelineno-53-12"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">PerformAction</span><span class="p">()</span>
</span></code></pre></div></p>
<hr />
<h3 id="init">init</h3>
<p><strong>Purpose</strong></p>
<p>Initializes the tool gun instance (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the tool gun is first created or deployed</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool initialization)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="c1">-- Simple: Basic initialization</span>
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="c1">-- Medium: Initialize with custom setup</span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-55-5"><a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-55-6"><a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="c1">-- High: Advanced initialization with networking and validation</span>
</span><span id="__span-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-56-3"><a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">    </span><span class="c1">-- Initialize basic properties</span>
</span><span id="__span-56-4"><a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-56-5"><a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-56-6"><a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="w">    </span><span class="c1">-- Set up networking if server</span>
</span><span id="__span-56-7"><a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-56-8"><a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">InitializeNetworkChannels</span><span class="p">()</span>
</span><span id="__span-56-9"><a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-56-10"><a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a><span class="w">    </span><span class="c1">-- Load saved data if available</span>
</span><span id="__span-56-11"><a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">file</span><span class="p">.</span><span class="nf">Exists</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">SavePath</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DATA&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-56-12"><a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">LoadToolData</span><span class="p">()</span>
</span><span id="__span-56-13"><a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-56-14"><a id="__codelineno-56-14" name="__codelineno-56-14" href="#__codelineno-56-14"></a><span class="w">    </span><span class="c1">-- Initialize ghost entity</span>
</span><span id="__span-56-15"><a id="__codelineno-56-15" name="__codelineno-56-15" href="#__codelineno-56-15"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateGhostEntity</span><span class="p">()</span>
</span><span id="__span-56-16"><a id="__codelineno-56-16" name="__codelineno-56-16" href="#__codelineno-56-16"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tool &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; initialized for &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-56-17"><a id="__codelineno-56-17" name="__codelineno-56-17" href="#__codelineno-56-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="init_1">init</h3>
<p><strong>Purpose</strong></p>
<p>Initializes the tool gun instance (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the tool gun is first created or deployed</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool initialization)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="c1">-- Simple: Basic initialization</span>
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="c1">-- Medium: Initialize with custom setup</span>
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-58-4"><a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-58-5"><a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-58-6"><a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="c1">-- High: Advanced initialization with networking and validation</span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="w">    </span><span class="c1">-- Initialize basic properties</span>
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="w">    </span><span class="c1">-- Set up networking if server</span>
</span><span id="__span-59-7"><a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-59-8"><a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">InitializeNetworkChannels</span><span class="p">()</span>
</span><span id="__span-59-9"><a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-59-10"><a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a><span class="w">    </span><span class="c1">-- Load saved data if available</span>
</span><span id="__span-59-11"><a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">file</span><span class="p">.</span><span class="nf">Exists</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">SavePath</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DATA&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-59-12"><a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">LoadToolData</span><span class="p">()</span>
</span><span id="__span-59-13"><a id="__codelineno-59-13" name="__codelineno-59-13" href="#__codelineno-59-13"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-59-14"><a id="__codelineno-59-14" name="__codelineno-59-14" href="#__codelineno-59-14"></a><span class="w">    </span><span class="c1">-- Initialize ghost entity</span>
</span><span id="__span-59-15"><a id="__codelineno-59-15" name="__codelineno-59-15" href="#__codelineno-59-15"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateGhostEntity</span><span class="p">()</span>
</span><span id="__span-59-16"><a id="__codelineno-59-16" name="__codelineno-59-16" href="#__codelineno-59-16"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tool &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; initialized for &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-59-17"><a id="__codelineno-59-17" name="__codelineno-59-17" href="#__codelineno-59-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="init_2">init</h3>
<p><strong>Purpose</strong></p>
<p>Initializes the tool gun instance (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the tool gun is first created or deployed</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool initialization)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="c1">-- Simple: Basic initialization</span>
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="c1">-- Medium: Initialize with custom setup</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="c1">-- High: Advanced initialization with networking and validation</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="w">    </span><span class="c1">-- Initialize basic properties</span>
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-62-6"><a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="w">    </span><span class="c1">-- Set up networking if server</span>
</span><span id="__span-62-7"><a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-62-8"><a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">InitializeNetworkChannels</span><span class="p">()</span>
</span><span id="__span-62-9"><a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-62-10"><a id="__codelineno-62-10" name="__codelineno-62-10" href="#__codelineno-62-10"></a><span class="w">    </span><span class="c1">-- Load saved data if available</span>
</span><span id="__span-62-11"><a id="__codelineno-62-11" name="__codelineno-62-11" href="#__codelineno-62-11"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">file</span><span class="p">.</span><span class="nf">Exists</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">SavePath</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DATA&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-62-12"><a id="__codelineno-62-12" name="__codelineno-62-12" href="#__codelineno-62-12"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">LoadToolData</span><span class="p">()</span>
</span><span id="__span-62-13"><a id="__codelineno-62-13" name="__codelineno-62-13" href="#__codelineno-62-13"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-62-14"><a id="__codelineno-62-14" name="__codelineno-62-14" href="#__codelineno-62-14"></a><span class="w">    </span><span class="c1">-- Initialize ghost entity</span>
</span><span id="__span-62-15"><a id="__codelineno-62-15" name="__codelineno-62-15" href="#__codelineno-62-15"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateGhostEntity</span><span class="p">()</span>
</span><span id="__span-62-16"><a id="__codelineno-62-16" name="__codelineno-62-16" href="#__codelineno-62-16"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tool &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; initialized for &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-62-17"><a id="__codelineno-62-17" name="__codelineno-62-17" href="#__codelineno-62-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="getmode">getMode</h3>
<p><strong>Purpose</strong></p>
<p>Retrieves the current tool mode identifier</p>
<p><strong>When Called</strong></p>
<p>When other methods need to know which tool mode is active</p>
<p><strong>Returns</strong></p>
<ul>
<li>string - The current tool mode name</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="c1">-- Simple: Get current tool mode</span>
</span><span id="__span-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="c1">-- Medium: Use mode for conditional behavior</span>
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()</span>
</span><span id="__span-64-3"><a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="kr">if</span><span class="w"> </span><span class="nv">mode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;builder&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-64-4"><a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a><span class="w">    </span><span class="nv">tool</span><span class="p">:</span><span class="nf">EnableBuildMode</span><span class="p">()</span>
</span><span id="__span-64-5"><a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">mode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;remover&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-64-6"><a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a><span class="w">        </span><span class="nv">tool</span><span class="p">:</span><span class="nf">EnableRemoveMode</span><span class="p">()</span>
</span><span id="__span-64-7"><a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a><span class="w">    </span><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="c1">-- High: Advanced mode-based configuration and validation</span>
</span><span id="__span-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()</span>
</span><span id="__span-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="c1">-- Validate mode exists and is allowed</span>
</span><span id="__span-65-4"><a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">ToolModes</span><span class="p">[</span><span class="nv">mode</span><span class="p">]</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-65-5"><a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="w">    </span><span class="nb">error</span><span class="p">(</span><span class="s2">&quot;Invalid tool mode: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">mode</span><span class="p">)</span>
</span><span id="__span-65-6"><a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a><span class="w">    </span><span class="kr">return</span>
</span><span id="__span-65-7"><a id="__codelineno-65-7" name="__codelineno-65-7" href="#__codelineno-65-7"></a><span class="kr">end</span>
</span><span id="__span-65-8"><a id="__codelineno-65-8" name="__codelineno-65-8" href="#__codelineno-65-8"></a><span class="c1">-- Apply mode-specific configuration</span>
</span><span id="__span-65-9"><a id="__codelineno-65-9" name="__codelineno-65-9" href="#__codelineno-65-9"></a><span class="kd">local</span><span class="w"> </span><span class="nv">modeConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">ToolModes</span><span class="p">[</span><span class="nv">mode</span><span class="p">]</span>
</span><span id="__span-65-10"><a id="__codelineno-65-10" name="__codelineno-65-10" href="#__codelineno-65-10"></a><span class="kr">for</span><span class="w"> </span><span class="nv">setting</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">modeConfig</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-65-11"><a id="__codelineno-65-11" name="__codelineno-65-11" href="#__codelineno-65-11"></a><span class="w">    </span><span class="nv">self</span><span class="p">[</span><span class="nv">setting</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span>
</span><span id="__span-65-12"><a id="__codelineno-65-12" name="__codelineno-65-12" href="#__codelineno-65-12"></a><span class="kr">end</span>
</span><span id="__span-65-13"><a id="__codelineno-65-13" name="__codelineno-65-13" href="#__codelineno-65-13"></a><span class="c1">-- Initialize mode-specific systems</span>
</span><span id="__span-65-14"><a id="__codelineno-65-14" name="__codelineno-65-14" href="#__codelineno-65-14"></a><span class="nv">self</span><span class="p">:</span><span class="nf">InitializeModeSystems</span><span class="p">(</span><span class="nv">mode</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getswep">getSWEP</h3>
<p><strong>Purpose</strong></p>
<p>Retrieves the SWEP (Scripted Weapon) instance associated with this tool</p>
<p><strong>When Called</strong></p>
<p>When the tool needs to access the underlying weapon entity</p>
<p><strong>Returns</strong></p>
<ul>
<li>Weapon - The SWEP entity instance</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="c1">-- Simple: Get the weapon instance</span>
</span><span id="__span-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">swep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getSWEP</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="c1">-- Medium: Use SWEP for weapon-specific operations</span>
</span><span id="__span-67-2"><a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">swep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getSWEP</span><span class="p">()</span>
</span><span id="__span-67-3"><a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">swep</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-67-4"><a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">ammo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">swep</span><span class="p">:</span><span class="nf">GetPrimaryAmmoType</span><span class="p">()</span>
</span><span id="__span-67-5"><a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Primary ammo type: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">ammo</span><span class="p">)</span>
</span><span id="__span-67-6"><a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="c1">-- High: Advanced SWEP interaction and validation</span>
</span><span id="__span-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">swep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getSWEP</span><span class="p">()</span>
</span><span id="__span-68-3"><a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="c1">-- Validate SWEP exists and is valid</span>
</span><span id="__span-68-4"><a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">swep</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-68-5"><a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="w">    </span><span class="nb">error</span><span class="p">(</span><span class="s2">&quot;Tool SWEP is not valid&quot;</span><span class="p">)</span>
</span><span id="__span-68-6"><a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a><span class="w">    </span><span class="kr">return</span>
</span><span id="__span-68-7"><a id="__codelineno-68-7" name="__codelineno-68-7" href="#__codelineno-68-7"></a><span class="kr">end</span>
</span><span id="__span-68-8"><a id="__codelineno-68-8" name="__codelineno-68-8" href="#__codelineno-68-8"></a><span class="c1">-- Access weapon properties</span>
</span><span id="__span-68-9"><a id="__codelineno-68-9" name="__codelineno-68-9" href="#__codelineno-68-9"></a><span class="kd">local</span><span class="w"> </span><span class="nv">weaponClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">swep</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span>
</span><span id="__span-68-10"><a id="__codelineno-68-10" name="__codelineno-68-10" href="#__codelineno-68-10"></a><span class="kd">local</span><span class="w"> </span><span class="nv">isReloading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">swep</span><span class="p">:</span><span class="nf">IsReloading</span><span class="p">()</span>
</span><span id="__span-68-11"><a id="__codelineno-68-11" name="__codelineno-68-11" href="#__codelineno-68-11"></a><span class="c1">-- Perform weapon-specific operations</span>
</span><span id="__span-68-12"><a id="__codelineno-68-12" name="__codelineno-68-12" href="#__codelineno-68-12"></a><span class="kr">if</span><span class="w"> </span><span class="nv">weaponClass</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;weapon_physgun&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-68-13"><a id="__codelineno-68-13" name="__codelineno-68-13" href="#__codelineno-68-13"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">HandlePhysgunSpecificLogic</span><span class="p">(</span><span class="nv">swep</span><span class="p">)</span>
</span><span id="__span-68-14"><a id="__codelineno-68-14" name="__codelineno-68-14" href="#__codelineno-68-14"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">weaponClass</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;weapon_physcannon&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-68-15"><a id="__codelineno-68-15" name="__codelineno-68-15" href="#__codelineno-68-15"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">HandleGravityGunSpecificLogic</span><span class="p">(</span><span class="nv">swep</span><span class="p">)</span>
</span><span id="__span-68-16"><a id="__codelineno-68-16" name="__codelineno-68-16" href="#__codelineno-68-16"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-68-17"><a id="__codelineno-68-17" name="__codelineno-68-17" href="#__codelineno-68-17"></a><span class="w">    </span><span class="c1">-- Update tool state based on weapon</span>
</span><span id="__span-68-18"><a id="__codelineno-68-18" name="__codelineno-68-18" href="#__codelineno-68-18"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastWeaponCheck</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span></code></pre></div></p>
<hr />
<h3 id="getowner">GetOwner</h3>
<p><strong>Purpose</strong></p>
<p>Retrieves the player who owns/holds this tool gun</p>
<p><strong>When Called</strong></p>
<p>When the tool needs to access the owning player for permissions, communication, or data</p>
<p><strong>Returns</strong></p>
<ul>
<li>Player - The player entity that owns this tool</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="c1">-- Simple: Get the tool owner</span>
</span><span id="__span-69-2"><a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="c1">-- Medium: Use owner for player-specific operations</span>
</span><span id="__span-70-2"><a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-70-3"><a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-70-4"><a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">health</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">Health</span><span class="p">()</span>
</span><span id="__span-70-5"><a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="w">    </span><span class="nv">tool</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Owner health: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">health</span>
</span><span id="__span-70-6"><a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="c1">-- High: Advanced owner validation and management</span>
</span><span id="__span-71-2"><a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-71-3"><a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="c1">-- Validate owner exists and is valid</span>
</span><span id="__span-71-4"><a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-71-5"><a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tool has no valid owner&quot;</span><span class="p">)</span>
</span><span id="__span-71-6"><a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-71-7"><a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a><span class="kr">end</span>
</span><span id="__span-71-8"><a id="__codelineno-71-8" name="__codelineno-71-8" href="#__codelineno-71-8"></a><span class="c1">-- Check owner permissions</span>
</span><span id="__span-71-9"><a id="__codelineno-71-9" name="__codelineno-71-9" href="#__codelineno-71-9"></a><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">IsAdmin</span><span class="p">()</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">IsSuperAdmin</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-71-10"><a id="__codelineno-71-10" name="__codelineno-71-10" href="#__codelineno-71-10"></a><span class="w">    </span><span class="nv">tool</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Insufficient permissions&quot;</span>
</span><span id="__span-71-11"><a id="__codelineno-71-11" name="__codelineno-71-11" href="#__codelineno-71-11"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-71-12"><a id="__codelineno-71-12" name="__codelineno-71-12" href="#__codelineno-71-12"></a><span class="kr">end</span>
</span><span id="__span-71-13"><a id="__codelineno-71-13" name="__codelineno-71-13" href="#__codelineno-71-13"></a><span class="c1">-- Perform owner-specific operations</span>
</span><span id="__span-71-14"><a id="__codelineno-71-14" name="__codelineno-71-14" href="#__codelineno-71-14"></a><span class="kd">local</span><span class="w"> </span><span class="nv">steamID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">SteamID</span><span class="p">()</span>
</span><span id="__span-71-15"><a id="__codelineno-71-15" name="__codelineno-71-15" href="#__codelineno-71-15"></a><span class="kd">local</span><span class="w"> </span><span class="nv">team</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">Team</span><span class="p">()</span>
</span><span id="__span-71-16"><a id="__codelineno-71-16" name="__codelineno-71-16" href="#__codelineno-71-16"></a><span class="c1">-- Log tool usage</span>
</span><span id="__span-71-17"><a id="__codelineno-71-17" name="__codelineno-71-17" href="#__codelineno-71-17"></a><span class="nb">print</span><span class="p">(</span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Player %s (Team %d) used tool %s&quot;</span><span class="p">,</span>
</span><span id="__span-71-18"><a id="__codelineno-71-18" name="__codelineno-71-18" href="#__codelineno-71-18"></a><span class="nv">owner</span><span class="p">:</span><span class="nf">Name</span><span class="p">(),</span><span class="w"> </span><span class="nv">team</span><span class="p">,</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()))</span>
</span><span id="__span-71-19"><a id="__codelineno-71-19" name="__codelineno-71-19" href="#__codelineno-71-19"></a><span class="c1">-- Apply team-based restrictions</span>
</span><span id="__span-71-20"><a id="__codelineno-71-20" name="__codelineno-71-20" href="#__codelineno-71-20"></a><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">HasTeamRestrictions</span><span class="p">(</span><span class="nv">team</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-71-21"><a id="__codelineno-71-21" name="__codelineno-71-21" href="#__codelineno-71-21"></a><span class="w">    </span><span class="nv">tool</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Your team cannot use this tool&quot;</span>
</span><span id="__span-71-22"><a id="__codelineno-71-22" name="__codelineno-71-22" href="#__codelineno-71-22"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-71-23"><a id="__codelineno-71-23" name="__codelineno-71-23" href="#__codelineno-71-23"></a><span class="kr">end</span>
</span><span id="__span-71-24"><a id="__codelineno-71-24" name="__codelineno-71-24" href="#__codelineno-71-24"></a><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span></code></pre></div></p>
<hr />
<h3 id="getweapon">getWeapon</h3>
<p><strong>Purpose</strong></p>
<p>Retrieves the weapon entity associated with this tool gun</p>
<p><strong>When Called</strong></p>
<p>When the tool needs to access the weapon entity for physics or rendering operations</p>
<p><strong>Returns</strong></p>
<ul>
<li>Weapon - The weapon entity instance</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="c1">-- Simple: Get the weapon entity</span>
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getWeapon</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="c1">-- Medium: Use weapon for position and angle operations</span>
</span><span id="__span-73-2"><a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getWeapon</span><span class="p">()</span>
</span><span id="__span-73-3"><a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">weapon</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-73-4"><a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">weapon</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">()</span>
</span><span id="__span-73-5"><a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">ang</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">weapon</span><span class="p">:</span><span class="nf">GetAngles</span><span class="p">()</span>
</span><span id="__span-73-6"><a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="nv">pos</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">ang</span><span class="p">:</span><span class="nf">Forward</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-73-7"><a id="__codelineno-73-7" name="__codelineno-73-7" href="#__codelineno-73-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="c1">-- High: Advanced weapon interaction and validation</span>
</span><span id="__span-74-2"><a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">getWeapon</span><span class="p">()</span>
</span><span id="__span-74-3"><a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a><span class="c1">-- Validate weapon exists and is valid</span>
</span><span id="__span-74-4"><a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">weapon</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-74-5"><a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tool weapon is not valid&quot;</span><span class="p">)</span>
</span><span id="__span-74-6"><a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-74-7"><a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a><span class="kr">end</span>
</span><span id="__span-74-8"><a id="__codelineno-74-8" name="__codelineno-74-8" href="#__codelineno-74-8"></a><span class="c1">-- Access weapon properties</span>
</span><span id="__span-74-9"><a id="__codelineno-74-9" name="__codelineno-74-9" href="#__codelineno-74-9"></a><span class="kd">local</span><span class="w"> </span><span class="nv">weaponClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">weapon</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span>
</span><span id="__span-74-10"><a id="__codelineno-74-10" name="__codelineno-74-10" href="#__codelineno-74-10"></a><span class="kd">local</span><span class="w"> </span><span class="nv">worldModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">weapon</span><span class="p">:</span><span class="nf">GetModel</span><span class="p">()</span>
</span><span id="__span-74-11"><a id="__codelineno-74-11" name="__codelineno-74-11" href="#__codelineno-74-11"></a><span class="c1">-- Perform weapon-specific operations</span>
</span><span id="__span-74-12"><a id="__codelineno-74-12" name="__codelineno-74-12" href="#__codelineno-74-12"></a><span class="kr">if</span><span class="w"> </span><span class="nv">weaponClass</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;weapon_physgun&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-74-13"><a id="__codelineno-74-13" name="__codelineno-74-13" href="#__codelineno-74-13"></a><span class="w">    </span><span class="c1">-- Handle physics gun specific logic</span>
</span><span id="__span-74-14"><a id="__codelineno-74-14" name="__codelineno-74-14" href="#__codelineno-74-14"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">heldEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">weapon</span><span class="p">:</span><span class="nf">GetParent</span><span class="p">()</span>
</span><span id="__span-74-15"><a id="__codelineno-74-15" name="__codelineno-74-15" href="#__codelineno-74-15"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">heldEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-74-16"><a id="__codelineno-74-16" name="__codelineno-74-16" href="#__codelineno-74-16"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">HandleHeldEntity</span><span class="p">(</span><span class="nv">heldEntity</span><span class="p">)</span>
</span><span id="__span-74-17"><a id="__codelineno-74-17" name="__codelineno-74-17" href="#__codelineno-74-17"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-74-18"><a id="__codelineno-74-18" name="__codelineno-74-18" href="#__codelineno-74-18"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">weaponClass</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;weapon_toolgun&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-74-19"><a id="__codelineno-74-19" name="__codelineno-74-19" href="#__codelineno-74-19"></a><span class="w">        </span><span class="c1">-- Handle tool gun specific logic</span>
</span><span id="__span-74-20"><a id="__codelineno-74-20" name="__codelineno-74-20" href="#__codelineno-74-20"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">toolMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()</span>
</span><span id="__span-74-21"><a id="__codelineno-74-21" name="__codelineno-74-21" href="#__codelineno-74-21"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">toolMode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;builder&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-74-22"><a id="__codelineno-74-22" name="__codelineno-74-22" href="#__codelineno-74-22"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">UpdateGhostEntity</span><span class="p">()</span>
</span><span id="__span-74-23"><a id="__codelineno-74-23" name="__codelineno-74-23" href="#__codelineno-74-23"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-74-24"><a id="__codelineno-74-24" name="__codelineno-74-24" href="#__codelineno-74-24"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-74-25"><a id="__codelineno-74-25" name="__codelineno-74-25" href="#__codelineno-74-25"></a><span class="w">    </span><span class="c1">-- Update tool state based on weapon</span>
</span><span id="__span-74-26"><a id="__codelineno-74-26" name="__codelineno-74-26" href="#__codelineno-74-26"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastWeaponUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span></code></pre></div></p>
<hr />
<h3 id="leftclick">leftClick</h3>
<p><strong>Purpose</strong></p>
<p>Handles left mouse button click interactions (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the player left-clicks while holding the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>boolean - True if the click was handled, false otherwise</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="c1">-- Simple: Basic left click handling</span>
</span><span id="__span-75-2"><a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-75-3"><a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Left clicked!&quot;</span><span class="p">)</span>
</span><span id="__span-75-4"><a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-75-5"><a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="c1">-- Medium: Left click with object placement</span>
</span><span id="__span-76-2"><a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-76-3"><a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-76-4"><a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-76-5"><a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-76-6"><a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ents</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;prop_physics&quot;</span><span class="p">)</span>
</span><span id="__span-76-7"><a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a><span class="w">    </span><span class="nv">entity</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-76-8"><a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a><span class="w">    </span><span class="nv">entity</span><span class="p">:</span><span class="nf">Spawn</span><span class="p">()</span>
</span><span id="__span-76-9"><a id="__codelineno-76-9" name="__codelineno-76-9" href="#__codelineno-76-9"></a><span class="w">    </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">Ent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">Time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()})</span>
</span><span id="__span-76-10"><a id="__codelineno-76-10" name="__codelineno-76-10" href="#__codelineno-76-10"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-76-11"><a id="__codelineno-76-11" name="__codelineno-76-11" href="#__codelineno-76-11"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="c1">-- High: Advanced left click with validation and networking</span>
</span><span id="__span-77-2"><a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-77-3"><a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-77-4"><a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a><span class="w">    </span><span class="c1">-- Validate permissions and conditions</span>
</span><span id="__span-77-5"><a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-77-6"><a id="__codelineno-77-6" name="__codelineno-77-6" href="#__codelineno-77-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_USE</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-77-7"><a id="__codelineno-77-7" name="__codelineno-77-7" href="#__codelineno-77-7"></a><span class="w">    </span><span class="c1">-- Get target position and validate</span>
</span><span id="__span-77-8"><a id="__codelineno-77-8" name="__codelineno-77-8" href="#__codelineno-77-8"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-77-9"><a id="__codelineno-77-9" name="__codelineno-77-9" href="#__codelineno-77-9"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitWorld</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-77-10"><a id="__codelineno-77-10" name="__codelineno-77-10" href="#__codelineno-77-10"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Invalid target&quot;</span>
</span><span id="__span-77-11"><a id="__codelineno-77-11" name="__codelineno-77-11" href="#__codelineno-77-11"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-77-12"><a id="__codelineno-77-12" name="__codelineno-77-12" href="#__codelineno-77-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-77-13"><a id="__codelineno-77-13" name="__codelineno-77-13" href="#__codelineno-77-13"></a><span class="w">    </span><span class="c1">-- Check distance and line of sight</span>
</span><span id="__span-77-14"><a id="__codelineno-77-14" name="__codelineno-77-14" href="#__codelineno-77-14"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">distance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">():</span><span class="nf">Distance</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-77-15"><a id="__codelineno-77-15" name="__codelineno-77-15" href="#__codelineno-77-15"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">distance</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientNumber</span><span class="p">(</span><span class="s2">&quot;max_distance&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-77-16"><a id="__codelineno-77-16" name="__codelineno-77-16" href="#__codelineno-77-16"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Too far away&quot;</span>
</span><span id="__span-77-17"><a id="__codelineno-77-17" name="__codelineno-77-17" href="#__codelineno-77-17"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-77-18"><a id="__codelineno-77-18" name="__codelineno-77-18" href="#__codelineno-77-18"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-77-19"><a id="__codelineno-77-19" name="__codelineno-77-19" href="#__codelineno-77-19"></a><span class="w">    </span><span class="c1">-- Create object with server validation</span>
</span><span id="__span-77-20"><a id="__codelineno-77-20" name="__codelineno-77-20" href="#__codelineno-77-20"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-77-21"><a id="__codelineno-77-21" name="__codelineno-77-21" href="#__codelineno-77-21"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateServerObject</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">,</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitNormal</span><span class="p">)</span>
</span><span id="__span-77-22"><a id="__codelineno-77-22" name="__codelineno-77-22" href="#__codelineno-77-22"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">success</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-77-23"><a id="__codelineno-77-23" name="__codelineno-77-23" href="#__codelineno-77-23"></a><span class="w">            </span><span class="c1">-- Network to clients</span>
</span><span id="__span-77-24"><a id="__codelineno-77-24" name="__codelineno-77-24" href="#__codelineno-77-24"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_object_created&quot;</span><span class="p">)</span>
</span><span id="__span-77-25"><a id="__codelineno-77-25" name="__codelineno-77-25" href="#__codelineno-77-25"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteVector</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-77-26"><a id="__codelineno-77-26" name="__codelineno-77-26" href="#__codelineno-77-26"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Broadcast</span><span class="p">()</span>
</span><span id="__span-77-27"><a id="__codelineno-77-27" name="__codelineno-77-27" href="#__codelineno-77-27"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-77-28"><a id="__codelineno-77-28" name="__codelineno-77-28" href="#__codelineno-77-28"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-77-29"><a id="__codelineno-77-29" name="__codelineno-77-29" href="#__codelineno-77-29"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-77-30"><a id="__codelineno-77-30" name="__codelineno-77-30" href="#__codelineno-77-30"></a><span class="w">        </span><span class="c1">-- Send request to server</span>
</span><span id="__span-77-31"><a id="__codelineno-77-31" name="__codelineno-77-31" href="#__codelineno-77-31"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_create_request&quot;</span><span class="p">)</span>
</span><span id="__span-77-32"><a id="__codelineno-77-32" name="__codelineno-77-32" href="#__codelineno-77-32"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteVector</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-77-33"><a id="__codelineno-77-33" name="__codelineno-77-33" href="#__codelineno-77-33"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">SendToServer</span><span class="p">()</span>
</span><span id="__span-77-34"><a id="__codelineno-77-34" name="__codelineno-77-34" href="#__codelineno-77-34"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-77-35"><a id="__codelineno-77-35" name="__codelineno-77-35" href="#__codelineno-77-35"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-77-36"><a id="__codelineno-77-36" name="__codelineno-77-36" href="#__codelineno-77-36"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-77-37"><a id="__codelineno-77-37" name="__codelineno-77-37" href="#__codelineno-77-37"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="leftclick_1">leftClick</h3>
<p><strong>Purpose</strong></p>
<p>Handles left mouse button click interactions (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the player left-clicks while holding the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>boolean - True if the click was handled, false otherwise</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="c1">-- Simple: Basic left click handling</span>
</span><span id="__span-78-2"><a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-78-3"><a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Left clicked!&quot;</span><span class="p">)</span>
</span><span id="__span-78-4"><a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-78-5"><a id="__codelineno-78-5" name="__codelineno-78-5" href="#__codelineno-78-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="c1">-- Medium: Left click with object placement</span>
</span><span id="__span-79-2"><a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-79-3"><a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-79-4"><a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-79-5"><a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-79-6"><a id="__codelineno-79-6" name="__codelineno-79-6" href="#__codelineno-79-6"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ents</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;prop_physics&quot;</span><span class="p">)</span>
</span><span id="__span-79-7"><a id="__codelineno-79-7" name="__codelineno-79-7" href="#__codelineno-79-7"></a><span class="w">    </span><span class="nv">entity</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-79-8"><a id="__codelineno-79-8" name="__codelineno-79-8" href="#__codelineno-79-8"></a><span class="w">    </span><span class="nv">entity</span><span class="p">:</span><span class="nf">Spawn</span><span class="p">()</span>
</span><span id="__span-79-9"><a id="__codelineno-79-9" name="__codelineno-79-9" href="#__codelineno-79-9"></a><span class="w">    </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">Ent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">Time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()})</span>
</span><span id="__span-79-10"><a id="__codelineno-79-10" name="__codelineno-79-10" href="#__codelineno-79-10"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-79-11"><a id="__codelineno-79-11" name="__codelineno-79-11" href="#__codelineno-79-11"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="c1">-- High: Advanced left click with validation and networking</span>
</span><span id="__span-80-2"><a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-80-3"><a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-80-4"><a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a><span class="w">    </span><span class="c1">-- Validate permissions and conditions</span>
</span><span id="__span-80-5"><a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-80-6"><a id="__codelineno-80-6" name="__codelineno-80-6" href="#__codelineno-80-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_USE</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-80-7"><a id="__codelineno-80-7" name="__codelineno-80-7" href="#__codelineno-80-7"></a><span class="w">    </span><span class="c1">-- Get target position and validate</span>
</span><span id="__span-80-8"><a id="__codelineno-80-8" name="__codelineno-80-8" href="#__codelineno-80-8"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-80-9"><a id="__codelineno-80-9" name="__codelineno-80-9" href="#__codelineno-80-9"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitWorld</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-80-10"><a id="__codelineno-80-10" name="__codelineno-80-10" href="#__codelineno-80-10"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Invalid target&quot;</span>
</span><span id="__span-80-11"><a id="__codelineno-80-11" name="__codelineno-80-11" href="#__codelineno-80-11"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-80-12"><a id="__codelineno-80-12" name="__codelineno-80-12" href="#__codelineno-80-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-80-13"><a id="__codelineno-80-13" name="__codelineno-80-13" href="#__codelineno-80-13"></a><span class="w">    </span><span class="c1">-- Check distance and line of sight</span>
</span><span id="__span-80-14"><a id="__codelineno-80-14" name="__codelineno-80-14" href="#__codelineno-80-14"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">distance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">():</span><span class="nf">Distance</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-80-15"><a id="__codelineno-80-15" name="__codelineno-80-15" href="#__codelineno-80-15"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">distance</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientNumber</span><span class="p">(</span><span class="s2">&quot;max_distance&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-80-16"><a id="__codelineno-80-16" name="__codelineno-80-16" href="#__codelineno-80-16"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Too far away&quot;</span>
</span><span id="__span-80-17"><a id="__codelineno-80-17" name="__codelineno-80-17" href="#__codelineno-80-17"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-80-18"><a id="__codelineno-80-18" name="__codelineno-80-18" href="#__codelineno-80-18"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-80-19"><a id="__codelineno-80-19" name="__codelineno-80-19" href="#__codelineno-80-19"></a><span class="w">    </span><span class="c1">-- Create object with server validation</span>
</span><span id="__span-80-20"><a id="__codelineno-80-20" name="__codelineno-80-20" href="#__codelineno-80-20"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-80-21"><a id="__codelineno-80-21" name="__codelineno-80-21" href="#__codelineno-80-21"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateServerObject</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">,</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitNormal</span><span class="p">)</span>
</span><span id="__span-80-22"><a id="__codelineno-80-22" name="__codelineno-80-22" href="#__codelineno-80-22"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">success</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-80-23"><a id="__codelineno-80-23" name="__codelineno-80-23" href="#__codelineno-80-23"></a><span class="w">            </span><span class="c1">-- Network to clients</span>
</span><span id="__span-80-24"><a id="__codelineno-80-24" name="__codelineno-80-24" href="#__codelineno-80-24"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_object_created&quot;</span><span class="p">)</span>
</span><span id="__span-80-25"><a id="__codelineno-80-25" name="__codelineno-80-25" href="#__codelineno-80-25"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteVector</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-80-26"><a id="__codelineno-80-26" name="__codelineno-80-26" href="#__codelineno-80-26"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Broadcast</span><span class="p">()</span>
</span><span id="__span-80-27"><a id="__codelineno-80-27" name="__codelineno-80-27" href="#__codelineno-80-27"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-80-28"><a id="__codelineno-80-28" name="__codelineno-80-28" href="#__codelineno-80-28"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-80-29"><a id="__codelineno-80-29" name="__codelineno-80-29" href="#__codelineno-80-29"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-80-30"><a id="__codelineno-80-30" name="__codelineno-80-30" href="#__codelineno-80-30"></a><span class="w">        </span><span class="c1">-- Send request to server</span>
</span><span id="__span-80-31"><a id="__codelineno-80-31" name="__codelineno-80-31" href="#__codelineno-80-31"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_create_request&quot;</span><span class="p">)</span>
</span><span id="__span-80-32"><a id="__codelineno-80-32" name="__codelineno-80-32" href="#__codelineno-80-32"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteVector</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-80-33"><a id="__codelineno-80-33" name="__codelineno-80-33" href="#__codelineno-80-33"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">SendToServer</span><span class="p">()</span>
</span><span id="__span-80-34"><a id="__codelineno-80-34" name="__codelineno-80-34" href="#__codelineno-80-34"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-80-35"><a id="__codelineno-80-35" name="__codelineno-80-35" href="#__codelineno-80-35"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-80-36"><a id="__codelineno-80-36" name="__codelineno-80-36" href="#__codelineno-80-36"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-80-37"><a id="__codelineno-80-37" name="__codelineno-80-37" href="#__codelineno-80-37"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="leftclick_2">leftClick</h3>
<p><strong>Purpose</strong></p>
<p>Handles left mouse button click interactions (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the player left-clicks while holding the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>boolean - True if the click was handled, false otherwise</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="c1">-- Simple: Basic left click handling</span>
</span><span id="__span-81-2"><a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-81-3"><a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Left clicked!&quot;</span><span class="p">)</span>
</span><span id="__span-81-4"><a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-81-5"><a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="c1">-- Medium: Left click with object placement</span>
</span><span id="__span-82-2"><a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-82-3"><a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-82-4"><a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-82-5"><a id="__codelineno-82-5" name="__codelineno-82-5" href="#__codelineno-82-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-82-6"><a id="__codelineno-82-6" name="__codelineno-82-6" href="#__codelineno-82-6"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ents</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;prop_physics&quot;</span><span class="p">)</span>
</span><span id="__span-82-7"><a id="__codelineno-82-7" name="__codelineno-82-7" href="#__codelineno-82-7"></a><span class="w">    </span><span class="nv">entity</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-82-8"><a id="__codelineno-82-8" name="__codelineno-82-8" href="#__codelineno-82-8"></a><span class="w">    </span><span class="nv">entity</span><span class="p">:</span><span class="nf">Spawn</span><span class="p">()</span>
</span><span id="__span-82-9"><a id="__codelineno-82-9" name="__codelineno-82-9" href="#__codelineno-82-9"></a><span class="w">    </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">Ent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">Time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()})</span>
</span><span id="__span-82-10"><a id="__codelineno-82-10" name="__codelineno-82-10" href="#__codelineno-82-10"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-82-11"><a id="__codelineno-82-11" name="__codelineno-82-11" href="#__codelineno-82-11"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="c1">-- High: Advanced left click with validation and networking</span>
</span><span id="__span-83-2"><a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-83-3"><a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-83-4"><a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a><span class="w">    </span><span class="c1">-- Validate permissions and conditions</span>
</span><span id="__span-83-5"><a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-83-6"><a id="__codelineno-83-6" name="__codelineno-83-6" href="#__codelineno-83-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_USE</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-83-7"><a id="__codelineno-83-7" name="__codelineno-83-7" href="#__codelineno-83-7"></a><span class="w">    </span><span class="c1">-- Get target position and validate</span>
</span><span id="__span-83-8"><a id="__codelineno-83-8" name="__codelineno-83-8" href="#__codelineno-83-8"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-83-9"><a id="__codelineno-83-9" name="__codelineno-83-9" href="#__codelineno-83-9"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitWorld</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-83-10"><a id="__codelineno-83-10" name="__codelineno-83-10" href="#__codelineno-83-10"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Invalid target&quot;</span>
</span><span id="__span-83-11"><a id="__codelineno-83-11" name="__codelineno-83-11" href="#__codelineno-83-11"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-83-12"><a id="__codelineno-83-12" name="__codelineno-83-12" href="#__codelineno-83-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-83-13"><a id="__codelineno-83-13" name="__codelineno-83-13" href="#__codelineno-83-13"></a><span class="w">    </span><span class="c1">-- Check distance and line of sight</span>
</span><span id="__span-83-14"><a id="__codelineno-83-14" name="__codelineno-83-14" href="#__codelineno-83-14"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">distance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">():</span><span class="nf">Distance</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-83-15"><a id="__codelineno-83-15" name="__codelineno-83-15" href="#__codelineno-83-15"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">distance</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientNumber</span><span class="p">(</span><span class="s2">&quot;max_distance&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-83-16"><a id="__codelineno-83-16" name="__codelineno-83-16" href="#__codelineno-83-16"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Too far away&quot;</span>
</span><span id="__span-83-17"><a id="__codelineno-83-17" name="__codelineno-83-17" href="#__codelineno-83-17"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-83-18"><a id="__codelineno-83-18" name="__codelineno-83-18" href="#__codelineno-83-18"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-83-19"><a id="__codelineno-83-19" name="__codelineno-83-19" href="#__codelineno-83-19"></a><span class="w">    </span><span class="c1">-- Create object with server validation</span>
</span><span id="__span-83-20"><a id="__codelineno-83-20" name="__codelineno-83-20" href="#__codelineno-83-20"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-83-21"><a id="__codelineno-83-21" name="__codelineno-83-21" href="#__codelineno-83-21"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateServerObject</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">,</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitNormal</span><span class="p">)</span>
</span><span id="__span-83-22"><a id="__codelineno-83-22" name="__codelineno-83-22" href="#__codelineno-83-22"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">success</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-83-23"><a id="__codelineno-83-23" name="__codelineno-83-23" href="#__codelineno-83-23"></a><span class="w">            </span><span class="c1">-- Network to clients</span>
</span><span id="__span-83-24"><a id="__codelineno-83-24" name="__codelineno-83-24" href="#__codelineno-83-24"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_object_created&quot;</span><span class="p">)</span>
</span><span id="__span-83-25"><a id="__codelineno-83-25" name="__codelineno-83-25" href="#__codelineno-83-25"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteVector</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-83-26"><a id="__codelineno-83-26" name="__codelineno-83-26" href="#__codelineno-83-26"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Broadcast</span><span class="p">()</span>
</span><span id="__span-83-27"><a id="__codelineno-83-27" name="__codelineno-83-27" href="#__codelineno-83-27"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-83-28"><a id="__codelineno-83-28" name="__codelineno-83-28" href="#__codelineno-83-28"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-83-29"><a id="__codelineno-83-29" name="__codelineno-83-29" href="#__codelineno-83-29"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-83-30"><a id="__codelineno-83-30" name="__codelineno-83-30" href="#__codelineno-83-30"></a><span class="w">        </span><span class="c1">-- Send request to server</span>
</span><span id="__span-83-31"><a id="__codelineno-83-31" name="__codelineno-83-31" href="#__codelineno-83-31"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_create_request&quot;</span><span class="p">)</span>
</span><span id="__span-83-32"><a id="__codelineno-83-32" name="__codelineno-83-32" href="#__codelineno-83-32"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteVector</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-83-33"><a id="__codelineno-83-33" name="__codelineno-83-33" href="#__codelineno-83-33"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">SendToServer</span><span class="p">()</span>
</span><span id="__span-83-34"><a id="__codelineno-83-34" name="__codelineno-83-34" href="#__codelineno-83-34"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-83-35"><a id="__codelineno-83-35" name="__codelineno-83-35" href="#__codelineno-83-35"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-83-36"><a id="__codelineno-83-36" name="__codelineno-83-36" href="#__codelineno-83-36"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-83-37"><a id="__codelineno-83-37" name="__codelineno-83-37" href="#__codelineno-83-37"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="leftclick_3">leftClick</h3>
<p><strong>Purpose</strong></p>
<p>Handles left mouse button click interactions (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the player left-clicks while holding the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>boolean - True if the click was handled, false otherwise</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="c1">-- Simple: Basic left click handling</span>
</span><span id="__span-84-2"><a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-84-3"><a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Left clicked!&quot;</span><span class="p">)</span>
</span><span id="__span-84-4"><a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-84-5"><a id="__codelineno-84-5" name="__codelineno-84-5" href="#__codelineno-84-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="c1">-- Medium: Left click with object placement</span>
</span><span id="__span-85-2"><a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-85-3"><a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">tool</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-85-4"><a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-85-5"><a id="__codelineno-85-5" name="__codelineno-85-5" href="#__codelineno-85-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-85-6"><a id="__codelineno-85-6" name="__codelineno-85-6" href="#__codelineno-85-6"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ents</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;prop_physics&quot;</span><span class="p">)</span>
</span><span id="__span-85-7"><a id="__codelineno-85-7" name="__codelineno-85-7" href="#__codelineno-85-7"></a><span class="w">    </span><span class="nv">entity</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-85-8"><a id="__codelineno-85-8" name="__codelineno-85-8" href="#__codelineno-85-8"></a><span class="w">    </span><span class="nv">entity</span><span class="p">:</span><span class="nf">Spawn</span><span class="p">()</span>
</span><span id="__span-85-9"><a id="__codelineno-85-9" name="__codelineno-85-9" href="#__codelineno-85-9"></a><span class="w">    </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">Ent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">Time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()})</span>
</span><span id="__span-85-10"><a id="__codelineno-85-10" name="__codelineno-85-10" href="#__codelineno-85-10"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-85-11"><a id="__codelineno-85-11" name="__codelineno-85-11" href="#__codelineno-85-11"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="c1">-- High: Advanced left click with validation and networking</span>
</span><span id="__span-86-2"><a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-86-3"><a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-86-4"><a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a><span class="w">    </span><span class="c1">-- Validate permissions and conditions</span>
</span><span id="__span-86-5"><a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-86-6"><a id="__codelineno-86-6" name="__codelineno-86-6" href="#__codelineno-86-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_USE</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-86-7"><a id="__codelineno-86-7" name="__codelineno-86-7" href="#__codelineno-86-7"></a><span class="w">    </span><span class="c1">-- Get target position and validate</span>
</span><span id="__span-86-8"><a id="__codelineno-86-8" name="__codelineno-86-8" href="#__codelineno-86-8"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-86-9"><a id="__codelineno-86-9" name="__codelineno-86-9" href="#__codelineno-86-9"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitWorld</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-86-10"><a id="__codelineno-86-10" name="__codelineno-86-10" href="#__codelineno-86-10"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Invalid target&quot;</span>
</span><span id="__span-86-11"><a id="__codelineno-86-11" name="__codelineno-86-11" href="#__codelineno-86-11"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-86-12"><a id="__codelineno-86-12" name="__codelineno-86-12" href="#__codelineno-86-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-86-13"><a id="__codelineno-86-13" name="__codelineno-86-13" href="#__codelineno-86-13"></a><span class="w">    </span><span class="c1">-- Check distance and line of sight</span>
</span><span id="__span-86-14"><a id="__codelineno-86-14" name="__codelineno-86-14" href="#__codelineno-86-14"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">distance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">():</span><span class="nf">Distance</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-86-15"><a id="__codelineno-86-15" name="__codelineno-86-15" href="#__codelineno-86-15"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">distance</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientNumber</span><span class="p">(</span><span class="s2">&quot;max_distance&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-86-16"><a id="__codelineno-86-16" name="__codelineno-86-16" href="#__codelineno-86-16"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Too far away&quot;</span>
</span><span id="__span-86-17"><a id="__codelineno-86-17" name="__codelineno-86-17" href="#__codelineno-86-17"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-86-18"><a id="__codelineno-86-18" name="__codelineno-86-18" href="#__codelineno-86-18"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-86-19"><a id="__codelineno-86-19" name="__codelineno-86-19" href="#__codelineno-86-19"></a><span class="w">    </span><span class="c1">-- Create object with server validation</span>
</span><span id="__span-86-20"><a id="__codelineno-86-20" name="__codelineno-86-20" href="#__codelineno-86-20"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-86-21"><a id="__codelineno-86-21" name="__codelineno-86-21" href="#__codelineno-86-21"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateServerObject</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">,</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitNormal</span><span class="p">)</span>
</span><span id="__span-86-22"><a id="__codelineno-86-22" name="__codelineno-86-22" href="#__codelineno-86-22"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">success</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-86-23"><a id="__codelineno-86-23" name="__codelineno-86-23" href="#__codelineno-86-23"></a><span class="w">            </span><span class="c1">-- Network to clients</span>
</span><span id="__span-86-24"><a id="__codelineno-86-24" name="__codelineno-86-24" href="#__codelineno-86-24"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_object_created&quot;</span><span class="p">)</span>
</span><span id="__span-86-25"><a id="__codelineno-86-25" name="__codelineno-86-25" href="#__codelineno-86-25"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteVector</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-86-26"><a id="__codelineno-86-26" name="__codelineno-86-26" href="#__codelineno-86-26"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Broadcast</span><span class="p">()</span>
</span><span id="__span-86-27"><a id="__codelineno-86-27" name="__codelineno-86-27" href="#__codelineno-86-27"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-86-28"><a id="__codelineno-86-28" name="__codelineno-86-28" href="#__codelineno-86-28"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-86-29"><a id="__codelineno-86-29" name="__codelineno-86-29" href="#__codelineno-86-29"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-86-30"><a id="__codelineno-86-30" name="__codelineno-86-30" href="#__codelineno-86-30"></a><span class="w">        </span><span class="c1">-- Send request to server</span>
</span><span id="__span-86-31"><a id="__codelineno-86-31" name="__codelineno-86-31" href="#__codelineno-86-31"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_create_request&quot;</span><span class="p">)</span>
</span><span id="__span-86-32"><a id="__codelineno-86-32" name="__codelineno-86-32" href="#__codelineno-86-32"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteVector</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-86-33"><a id="__codelineno-86-33" name="__codelineno-86-33" href="#__codelineno-86-33"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">SendToServer</span><span class="p">()</span>
</span><span id="__span-86-34"><a id="__codelineno-86-34" name="__codelineno-86-34" href="#__codelineno-86-34"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-86-35"><a id="__codelineno-86-35" name="__codelineno-86-35" href="#__codelineno-86-35"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-86-36"><a id="__codelineno-86-36" name="__codelineno-86-36" href="#__codelineno-86-36"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-86-37"><a id="__codelineno-86-37" name="__codelineno-86-37" href="#__codelineno-86-37"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="rightclick">rightClick</h3>
<p><strong>Purpose</strong></p>
<p>Handles right mouse button click interactions (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the player right-clicks while holding the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>boolean - True if the click was handled, false otherwise</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="c1">-- Simple: Basic right click handling</span>
</span><span id="__span-87-2"><a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">rightClick</span><span class="p">()</span>
</span><span id="__span-87-3"><a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Right clicked!&quot;</span>
</span><span id="__span-87-4"><a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-87-5"><a id="__codelineno-87-5" name="__codelineno-87-5" href="#__codelineno-87-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-88-1"><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="c1">-- Medium: Right click for object selection/manipulation</span>
</span><span id="__span-88-2"><a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">rightClick</span><span class="p">()</span>
</span><span id="__span-88-3"><a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-88-4"><a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-88-5"><a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">hitEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Entity</span>
</span><span id="__span-88-6"><a id="__codelineno-88-6" name="__codelineno-88-6" href="#__codelineno-88-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;prop_physics&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-88-7"><a id="__codelineno-88-7" name="__codelineno-88-7" href="#__codelineno-88-7"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">SelectedEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">hitEntity</span>
</span><span id="__span-88-8"><a id="__codelineno-88-8" name="__codelineno-88-8" href="#__codelineno-88-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Selected: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">GetModel</span><span class="p">()</span>
</span><span id="__span-88-9"><a id="__codelineno-88-9" name="__codelineno-88-9" href="#__codelineno-88-9"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-88-10"><a id="__codelineno-88-10" name="__codelineno-88-10" href="#__codelineno-88-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-88-11"><a id="__codelineno-88-11" name="__codelineno-88-11" href="#__codelineno-88-11"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-88-12"><a id="__codelineno-88-12" name="__codelineno-88-12" href="#__codelineno-88-12"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-89-1"><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="c1">-- High: Advanced right click with context menus and validation</span>
</span><span id="__span-89-2"><a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">rightClick</span><span class="p">()</span>
</span><span id="__span-89-3"><a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-89-4"><a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a><span class="w">    </span><span class="c1">-- Get target and validate</span>
</span><span id="__span-89-5"><a id="__codelineno-89-5" name="__codelineno-89-5" href="#__codelineno-89-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-89-6"><a id="__codelineno-89-6" name="__codelineno-89-6" href="#__codelineno-89-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-89-7"><a id="__codelineno-89-7" name="__codelineno-89-7" href="#__codelineno-89-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">hitEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Entity</span>
</span><span id="__span-89-8"><a id="__codelineno-89-8" name="__codelineno-89-8" href="#__codelineno-89-8"></a><span class="w">    </span><span class="c1">-- Handle different target types</span>
</span><span id="__span-89-9"><a id="__codelineno-89-9" name="__codelineno-89-9" href="#__codelineno-89-9"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitWorld</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-89-10"><a id="__codelineno-89-10" name="__codelineno-89-10" href="#__codelineno-89-10"></a><span class="w">        </span><span class="c1">-- World click - show position info</span>
</span><span id="__span-89-11"><a id="__codelineno-89-11" name="__codelineno-89-11" href="#__codelineno-89-11"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span>
</span><span id="__span-89-12"><a id="__codelineno-89-12" name="__codelineno-89-12" href="#__codelineno-89-12"></a><span class="w">            </span><span class="s2">&quot;World: %.2f, %.2f, %.2f&quot;</span><span class="p">,</span>
</span><span id="__span-89-13"><a id="__codelineno-89-13" name="__codelineno-89-13" href="#__codelineno-89-13"></a><span class="w">            </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">.</span><span class="py">x</span><span class="p">,</span>
</span><span id="__span-89-14"><a id="__codelineno-89-14" name="__codelineno-89-14" href="#__codelineno-89-14"></a><span class="w">            </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">.</span><span class="py">y</span><span class="p">,</span>
</span><span id="__span-89-15"><a id="__codelineno-89-15" name="__codelineno-89-15" href="#__codelineno-89-15"></a><span class="w">            </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">.</span><span class="py">z</span>
</span><span id="__span-89-16"><a id="__codelineno-89-16" name="__codelineno-89-16" href="#__codelineno-89-16"></a><span class="w">        </span><span class="p">)</span>
</span><span id="__span-89-17"><a id="__codelineno-89-17" name="__codelineno-89-17" href="#__codelineno-89-17"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-89-18"><a id="__codelineno-89-18" name="__codelineno-89-18" href="#__codelineno-89-18"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-89-19"><a id="__codelineno-89-19" name="__codelineno-89-19" href="#__codelineno-89-19"></a><span class="w">        </span><span class="c1">-- Entity click - show context menu or manipulate</span>
</span><span id="__span-89-20"><a id="__codelineno-89-20" name="__codelineno-89-20" href="#__codelineno-89-20"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">IsPlayer</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-89-21"><a id="__codelineno-89-21" name="__codelineno-89-21" href="#__codelineno-89-21"></a><span class="w">            </span><span class="c1">-- Player interaction</span>
</span><span id="__span-89-22"><a id="__codelineno-89-22" name="__codelineno-89-22" href="#__codelineno-89-22"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_SPEED</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-89-23"><a id="__codelineno-89-23" name="__codelineno-89-23" href="#__codelineno-89-23"></a><span class="w">                </span><span class="nv">self</span><span class="p">:</span><span class="nf">OpenPlayerMenu</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span>
</span><span id="__span-89-24"><a id="__codelineno-89-24" name="__codelineno-89-24" href="#__codelineno-89-24"></a><span class="w">            </span><span class="kr">else</span>
</span><span id="__span-89-25"><a id="__codelineno-89-25" name="__codelineno-89-25" href="#__codelineno-89-25"></a><span class="w">                </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Hold SHIFT for player menu&quot;</span>
</span><span id="__span-89-26"><a id="__codelineno-89-26" name="__codelineno-89-26" href="#__codelineno-89-26"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-89-27"><a id="__codelineno-89-27" name="__codelineno-89-27" href="#__codelineno-89-27"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-89-28"><a id="__codelineno-89-28" name="__codelineno-89-28" href="#__codelineno-89-28"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;prop_physics&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-89-29"><a id="__codelineno-89-29" name="__codelineno-89-29" href="#__codelineno-89-29"></a><span class="w">            </span><span class="c1">-- Prop manipulation</span>
</span><span id="__span-89-30"><a id="__codelineno-89-30" name="__codelineno-89-30" href="#__codelineno-89-30"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">CanManipulateEntity</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-89-31"><a id="__codelineno-89-31" name="__codelineno-89-31" href="#__codelineno-89-31"></a><span class="w">                </span><span class="kr">if</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_DUCK</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-89-32"><a id="__codelineno-89-32" name="__codelineno-89-32" href="#__codelineno-89-32"></a><span class="w">                    </span><span class="nv">self</span><span class="p">:</span><span class="nf">RemoveEntity</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span>
</span><span id="__span-89-33"><a id="__codelineno-89-33" name="__codelineno-89-33" href="#__codelineno-89-33"></a><span class="w">                </span><span class="kr">else</span>
</span><span id="__span-89-34"><a id="__codelineno-89-34" name="__codelineno-89-34" href="#__codelineno-89-34"></a><span class="w">                    </span><span class="nv">self</span><span class="p">:</span><span class="nf">SelectEntity</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span>
</span><span id="__span-89-35"><a id="__codelineno-89-35" name="__codelineno-89-35" href="#__codelineno-89-35"></a><span class="w">                </span><span class="kr">end</span>
</span><span id="__span-89-36"><a id="__codelineno-89-36" name="__codelineno-89-36" href="#__codelineno-89-36"></a><span class="w">                </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-89-37"><a id="__codelineno-89-37" name="__codelineno-89-37" href="#__codelineno-89-37"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-89-38"><a id="__codelineno-89-38" name="__codelineno-89-38" href="#__codelineno-89-38"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-89-39"><a id="__codelineno-89-39" name="__codelineno-89-39" href="#__codelineno-89-39"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-89-40"><a id="__codelineno-89-40" name="__codelineno-89-40" href="#__codelineno-89-40"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-89-41"><a id="__codelineno-89-41" name="__codelineno-89-41" href="#__codelineno-89-41"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="rightclick_1">rightClick</h3>
<p><strong>Purpose</strong></p>
<p>Handles right mouse button click interactions (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the player right-clicks while holding the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>boolean - True if the click was handled, false otherwise</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-90-1"><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="c1">-- Simple: Basic right click handling</span>
</span><span id="__span-90-2"><a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">rightClick</span><span class="p">()</span>
</span><span id="__span-90-3"><a id="__codelineno-90-3" name="__codelineno-90-3" href="#__codelineno-90-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Right clicked!&quot;</span>
</span><span id="__span-90-4"><a id="__codelineno-90-4" name="__codelineno-90-4" href="#__codelineno-90-4"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-90-5"><a id="__codelineno-90-5" name="__codelineno-90-5" href="#__codelineno-90-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-91-1"><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="c1">-- Medium: Right click for object selection/manipulation</span>
</span><span id="__span-91-2"><a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">rightClick</span><span class="p">()</span>
</span><span id="__span-91-3"><a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-91-4"><a id="__codelineno-91-4" name="__codelineno-91-4" href="#__codelineno-91-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-91-5"><a id="__codelineno-91-5" name="__codelineno-91-5" href="#__codelineno-91-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">hitEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Entity</span>
</span><span id="__span-91-6"><a id="__codelineno-91-6" name="__codelineno-91-6" href="#__codelineno-91-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;prop_physics&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-91-7"><a id="__codelineno-91-7" name="__codelineno-91-7" href="#__codelineno-91-7"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">SelectedEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">hitEntity</span>
</span><span id="__span-91-8"><a id="__codelineno-91-8" name="__codelineno-91-8" href="#__codelineno-91-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Selected: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">GetModel</span><span class="p">()</span>
</span><span id="__span-91-9"><a id="__codelineno-91-9" name="__codelineno-91-9" href="#__codelineno-91-9"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-91-10"><a id="__codelineno-91-10" name="__codelineno-91-10" href="#__codelineno-91-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-91-11"><a id="__codelineno-91-11" name="__codelineno-91-11" href="#__codelineno-91-11"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-91-12"><a id="__codelineno-91-12" name="__codelineno-91-12" href="#__codelineno-91-12"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-92-1"><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="c1">-- High: Advanced right click with context menus and validation</span>
</span><span id="__span-92-2"><a id="__codelineno-92-2" name="__codelineno-92-2" href="#__codelineno-92-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">rightClick</span><span class="p">()</span>
</span><span id="__span-92-3"><a id="__codelineno-92-3" name="__codelineno-92-3" href="#__codelineno-92-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-92-4"><a id="__codelineno-92-4" name="__codelineno-92-4" href="#__codelineno-92-4"></a><span class="w">    </span><span class="c1">-- Get target and validate</span>
</span><span id="__span-92-5"><a id="__codelineno-92-5" name="__codelineno-92-5" href="#__codelineno-92-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-92-6"><a id="__codelineno-92-6" name="__codelineno-92-6" href="#__codelineno-92-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-92-7"><a id="__codelineno-92-7" name="__codelineno-92-7" href="#__codelineno-92-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">hitEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Entity</span>
</span><span id="__span-92-8"><a id="__codelineno-92-8" name="__codelineno-92-8" href="#__codelineno-92-8"></a><span class="w">    </span><span class="c1">-- Handle different target types</span>
</span><span id="__span-92-9"><a id="__codelineno-92-9" name="__codelineno-92-9" href="#__codelineno-92-9"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitWorld</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-92-10"><a id="__codelineno-92-10" name="__codelineno-92-10" href="#__codelineno-92-10"></a><span class="w">        </span><span class="c1">-- World click - show position info</span>
</span><span id="__span-92-11"><a id="__codelineno-92-11" name="__codelineno-92-11" href="#__codelineno-92-11"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span>
</span><span id="__span-92-12"><a id="__codelineno-92-12" name="__codelineno-92-12" href="#__codelineno-92-12"></a><span class="w">            </span><span class="s2">&quot;World: %.2f, %.2f, %.2f&quot;</span><span class="p">,</span>
</span><span id="__span-92-13"><a id="__codelineno-92-13" name="__codelineno-92-13" href="#__codelineno-92-13"></a><span class="w">            </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">.</span><span class="py">x</span><span class="p">,</span>
</span><span id="__span-92-14"><a id="__codelineno-92-14" name="__codelineno-92-14" href="#__codelineno-92-14"></a><span class="w">            </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">.</span><span class="py">y</span><span class="p">,</span>
</span><span id="__span-92-15"><a id="__codelineno-92-15" name="__codelineno-92-15" href="#__codelineno-92-15"></a><span class="w">            </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">.</span><span class="py">z</span>
</span><span id="__span-92-16"><a id="__codelineno-92-16" name="__codelineno-92-16" href="#__codelineno-92-16"></a><span class="w">        </span><span class="p">)</span>
</span><span id="__span-92-17"><a id="__codelineno-92-17" name="__codelineno-92-17" href="#__codelineno-92-17"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-92-18"><a id="__codelineno-92-18" name="__codelineno-92-18" href="#__codelineno-92-18"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-92-19"><a id="__codelineno-92-19" name="__codelineno-92-19" href="#__codelineno-92-19"></a><span class="w">        </span><span class="c1">-- Entity click - show context menu or manipulate</span>
</span><span id="__span-92-20"><a id="__codelineno-92-20" name="__codelineno-92-20" href="#__codelineno-92-20"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">IsPlayer</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-92-21"><a id="__codelineno-92-21" name="__codelineno-92-21" href="#__codelineno-92-21"></a><span class="w">            </span><span class="c1">-- Player interaction</span>
</span><span id="__span-92-22"><a id="__codelineno-92-22" name="__codelineno-92-22" href="#__codelineno-92-22"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_SPEED</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-92-23"><a id="__codelineno-92-23" name="__codelineno-92-23" href="#__codelineno-92-23"></a><span class="w">                </span><span class="nv">self</span><span class="p">:</span><span class="nf">OpenPlayerMenu</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span>
</span><span id="__span-92-24"><a id="__codelineno-92-24" name="__codelineno-92-24" href="#__codelineno-92-24"></a><span class="w">            </span><span class="kr">else</span>
</span><span id="__span-92-25"><a id="__codelineno-92-25" name="__codelineno-92-25" href="#__codelineno-92-25"></a><span class="w">                </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Hold SHIFT for player menu&quot;</span>
</span><span id="__span-92-26"><a id="__codelineno-92-26" name="__codelineno-92-26" href="#__codelineno-92-26"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-92-27"><a id="__codelineno-92-27" name="__codelineno-92-27" href="#__codelineno-92-27"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-92-28"><a id="__codelineno-92-28" name="__codelineno-92-28" href="#__codelineno-92-28"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;prop_physics&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-92-29"><a id="__codelineno-92-29" name="__codelineno-92-29" href="#__codelineno-92-29"></a><span class="w">            </span><span class="c1">-- Prop manipulation</span>
</span><span id="__span-92-30"><a id="__codelineno-92-30" name="__codelineno-92-30" href="#__codelineno-92-30"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">CanManipulateEntity</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-92-31"><a id="__codelineno-92-31" name="__codelineno-92-31" href="#__codelineno-92-31"></a><span class="w">                </span><span class="kr">if</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_DUCK</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-92-32"><a id="__codelineno-92-32" name="__codelineno-92-32" href="#__codelineno-92-32"></a><span class="w">                    </span><span class="nv">self</span><span class="p">:</span><span class="nf">RemoveEntity</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span>
</span><span id="__span-92-33"><a id="__codelineno-92-33" name="__codelineno-92-33" href="#__codelineno-92-33"></a><span class="w">                </span><span class="kr">else</span>
</span><span id="__span-92-34"><a id="__codelineno-92-34" name="__codelineno-92-34" href="#__codelineno-92-34"></a><span class="w">                    </span><span class="nv">self</span><span class="p">:</span><span class="nf">SelectEntity</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span>
</span><span id="__span-92-35"><a id="__codelineno-92-35" name="__codelineno-92-35" href="#__codelineno-92-35"></a><span class="w">                </span><span class="kr">end</span>
</span><span id="__span-92-36"><a id="__codelineno-92-36" name="__codelineno-92-36" href="#__codelineno-92-36"></a><span class="w">                </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-92-37"><a id="__codelineno-92-37" name="__codelineno-92-37" href="#__codelineno-92-37"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-92-38"><a id="__codelineno-92-38" name="__codelineno-92-38" href="#__codelineno-92-38"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-92-39"><a id="__codelineno-92-39" name="__codelineno-92-39" href="#__codelineno-92-39"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-92-40"><a id="__codelineno-92-40" name="__codelineno-92-40" href="#__codelineno-92-40"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-92-41"><a id="__codelineno-92-41" name="__codelineno-92-41" href="#__codelineno-92-41"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="rightclick_2">rightClick</h3>
<p><strong>Purpose</strong></p>
<p>Handles right mouse button click interactions (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the player right-clicks while holding the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>boolean - True if the click was handled, false otherwise</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-93-1"><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="c1">-- Simple: Basic right click handling</span>
</span><span id="__span-93-2"><a id="__codelineno-93-2" name="__codelineno-93-2" href="#__codelineno-93-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">rightClick</span><span class="p">()</span>
</span><span id="__span-93-3"><a id="__codelineno-93-3" name="__codelineno-93-3" href="#__codelineno-93-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Right clicked!&quot;</span>
</span><span id="__span-93-4"><a id="__codelineno-93-4" name="__codelineno-93-4" href="#__codelineno-93-4"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-93-5"><a id="__codelineno-93-5" name="__codelineno-93-5" href="#__codelineno-93-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-94-1"><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="c1">-- Medium: Right click for object selection/manipulation</span>
</span><span id="__span-94-2"><a id="__codelineno-94-2" name="__codelineno-94-2" href="#__codelineno-94-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">rightClick</span><span class="p">()</span>
</span><span id="__span-94-3"><a id="__codelineno-94-3" name="__codelineno-94-3" href="#__codelineno-94-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-94-4"><a id="__codelineno-94-4" name="__codelineno-94-4" href="#__codelineno-94-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-94-5"><a id="__codelineno-94-5" name="__codelineno-94-5" href="#__codelineno-94-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">hitEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Entity</span>
</span><span id="__span-94-6"><a id="__codelineno-94-6" name="__codelineno-94-6" href="#__codelineno-94-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;prop_physics&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-94-7"><a id="__codelineno-94-7" name="__codelineno-94-7" href="#__codelineno-94-7"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">SelectedEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">hitEntity</span>
</span><span id="__span-94-8"><a id="__codelineno-94-8" name="__codelineno-94-8" href="#__codelineno-94-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Selected: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">GetModel</span><span class="p">()</span>
</span><span id="__span-94-9"><a id="__codelineno-94-9" name="__codelineno-94-9" href="#__codelineno-94-9"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-94-10"><a id="__codelineno-94-10" name="__codelineno-94-10" href="#__codelineno-94-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-94-11"><a id="__codelineno-94-11" name="__codelineno-94-11" href="#__codelineno-94-11"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-94-12"><a id="__codelineno-94-12" name="__codelineno-94-12" href="#__codelineno-94-12"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-95-1"><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="c1">-- High: Advanced right click with context menus and validation</span>
</span><span id="__span-95-2"><a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">rightClick</span><span class="p">()</span>
</span><span id="__span-95-3"><a id="__codelineno-95-3" name="__codelineno-95-3" href="#__codelineno-95-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-95-4"><a id="__codelineno-95-4" name="__codelineno-95-4" href="#__codelineno-95-4"></a><span class="w">    </span><span class="c1">-- Get target and validate</span>
</span><span id="__span-95-5"><a id="__codelineno-95-5" name="__codelineno-95-5" href="#__codelineno-95-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-95-6"><a id="__codelineno-95-6" name="__codelineno-95-6" href="#__codelineno-95-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-95-7"><a id="__codelineno-95-7" name="__codelineno-95-7" href="#__codelineno-95-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">hitEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Entity</span>
</span><span id="__span-95-8"><a id="__codelineno-95-8" name="__codelineno-95-8" href="#__codelineno-95-8"></a><span class="w">    </span><span class="c1">-- Handle different target types</span>
</span><span id="__span-95-9"><a id="__codelineno-95-9" name="__codelineno-95-9" href="#__codelineno-95-9"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitWorld</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-95-10"><a id="__codelineno-95-10" name="__codelineno-95-10" href="#__codelineno-95-10"></a><span class="w">        </span><span class="c1">-- World click - show position info</span>
</span><span id="__span-95-11"><a id="__codelineno-95-11" name="__codelineno-95-11" href="#__codelineno-95-11"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span>
</span><span id="__span-95-12"><a id="__codelineno-95-12" name="__codelineno-95-12" href="#__codelineno-95-12"></a><span class="w">            </span><span class="s2">&quot;World: %.2f, %.2f, %.2f&quot;</span><span class="p">,</span>
</span><span id="__span-95-13"><a id="__codelineno-95-13" name="__codelineno-95-13" href="#__codelineno-95-13"></a><span class="w">            </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">.</span><span class="py">x</span><span class="p">,</span>
</span><span id="__span-95-14"><a id="__codelineno-95-14" name="__codelineno-95-14" href="#__codelineno-95-14"></a><span class="w">            </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">.</span><span class="py">y</span><span class="p">,</span>
</span><span id="__span-95-15"><a id="__codelineno-95-15" name="__codelineno-95-15" href="#__codelineno-95-15"></a><span class="w">            </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">.</span><span class="py">z</span>
</span><span id="__span-95-16"><a id="__codelineno-95-16" name="__codelineno-95-16" href="#__codelineno-95-16"></a><span class="w">        </span><span class="p">)</span>
</span><span id="__span-95-17"><a id="__codelineno-95-17" name="__codelineno-95-17" href="#__codelineno-95-17"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-95-18"><a id="__codelineno-95-18" name="__codelineno-95-18" href="#__codelineno-95-18"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-95-19"><a id="__codelineno-95-19" name="__codelineno-95-19" href="#__codelineno-95-19"></a><span class="w">        </span><span class="c1">-- Entity click - show context menu or manipulate</span>
</span><span id="__span-95-20"><a id="__codelineno-95-20" name="__codelineno-95-20" href="#__codelineno-95-20"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">IsPlayer</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-95-21"><a id="__codelineno-95-21" name="__codelineno-95-21" href="#__codelineno-95-21"></a><span class="w">            </span><span class="c1">-- Player interaction</span>
</span><span id="__span-95-22"><a id="__codelineno-95-22" name="__codelineno-95-22" href="#__codelineno-95-22"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_SPEED</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-95-23"><a id="__codelineno-95-23" name="__codelineno-95-23" href="#__codelineno-95-23"></a><span class="w">                </span><span class="nv">self</span><span class="p">:</span><span class="nf">OpenPlayerMenu</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span>
</span><span id="__span-95-24"><a id="__codelineno-95-24" name="__codelineno-95-24" href="#__codelineno-95-24"></a><span class="w">            </span><span class="kr">else</span>
</span><span id="__span-95-25"><a id="__codelineno-95-25" name="__codelineno-95-25" href="#__codelineno-95-25"></a><span class="w">                </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Hold SHIFT for player menu&quot;</span>
</span><span id="__span-95-26"><a id="__codelineno-95-26" name="__codelineno-95-26" href="#__codelineno-95-26"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-95-27"><a id="__codelineno-95-27" name="__codelineno-95-27" href="#__codelineno-95-27"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-95-28"><a id="__codelineno-95-28" name="__codelineno-95-28" href="#__codelineno-95-28"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;prop_physics&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-95-29"><a id="__codelineno-95-29" name="__codelineno-95-29" href="#__codelineno-95-29"></a><span class="w">            </span><span class="c1">-- Prop manipulation</span>
</span><span id="__span-95-30"><a id="__codelineno-95-30" name="__codelineno-95-30" href="#__codelineno-95-30"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">CanManipulateEntity</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-95-31"><a id="__codelineno-95-31" name="__codelineno-95-31" href="#__codelineno-95-31"></a><span class="w">                </span><span class="kr">if</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_DUCK</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-95-32"><a id="__codelineno-95-32" name="__codelineno-95-32" href="#__codelineno-95-32"></a><span class="w">                    </span><span class="nv">self</span><span class="p">:</span><span class="nf">RemoveEntity</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span>
</span><span id="__span-95-33"><a id="__codelineno-95-33" name="__codelineno-95-33" href="#__codelineno-95-33"></a><span class="w">                </span><span class="kr">else</span>
</span><span id="__span-95-34"><a id="__codelineno-95-34" name="__codelineno-95-34" href="#__codelineno-95-34"></a><span class="w">                    </span><span class="nv">self</span><span class="p">:</span><span class="nf">SelectEntity</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span>
</span><span id="__span-95-35"><a id="__codelineno-95-35" name="__codelineno-95-35" href="#__codelineno-95-35"></a><span class="w">                </span><span class="kr">end</span>
</span><span id="__span-95-36"><a id="__codelineno-95-36" name="__codelineno-95-36" href="#__codelineno-95-36"></a><span class="w">                </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-95-37"><a id="__codelineno-95-37" name="__codelineno-95-37" href="#__codelineno-95-37"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-95-38"><a id="__codelineno-95-38" name="__codelineno-95-38" href="#__codelineno-95-38"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-95-39"><a id="__codelineno-95-39" name="__codelineno-95-39" href="#__codelineno-95-39"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-95-40"><a id="__codelineno-95-40" name="__codelineno-95-40" href="#__codelineno-95-40"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-95-41"><a id="__codelineno-95-41" name="__codelineno-95-41" href="#__codelineno-95-41"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="rightclick_3">rightClick</h3>
<p><strong>Purpose</strong></p>
<p>Handles right mouse button click interactions (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>When the player right-clicks while holding the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>boolean - True if the click was handled, false otherwise</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-96-1"><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="c1">-- Simple: Basic right click handling</span>
</span><span id="__span-96-2"><a id="__codelineno-96-2" name="__codelineno-96-2" href="#__codelineno-96-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">rightClick</span><span class="p">()</span>
</span><span id="__span-96-3"><a id="__codelineno-96-3" name="__codelineno-96-3" href="#__codelineno-96-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Right clicked!&quot;</span>
</span><span id="__span-96-4"><a id="__codelineno-96-4" name="__codelineno-96-4" href="#__codelineno-96-4"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-96-5"><a id="__codelineno-96-5" name="__codelineno-96-5" href="#__codelineno-96-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-97-1"><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="c1">-- Medium: Right click for object selection/manipulation</span>
</span><span id="__span-97-2"><a id="__codelineno-97-2" name="__codelineno-97-2" href="#__codelineno-97-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">rightClick</span><span class="p">()</span>
</span><span id="__span-97-3"><a id="__codelineno-97-3" name="__codelineno-97-3" href="#__codelineno-97-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-97-4"><a id="__codelineno-97-4" name="__codelineno-97-4" href="#__codelineno-97-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-97-5"><a id="__codelineno-97-5" name="__codelineno-97-5" href="#__codelineno-97-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">hitEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Entity</span>
</span><span id="__span-97-6"><a id="__codelineno-97-6" name="__codelineno-97-6" href="#__codelineno-97-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;prop_physics&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-97-7"><a id="__codelineno-97-7" name="__codelineno-97-7" href="#__codelineno-97-7"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">SelectedEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">hitEntity</span>
</span><span id="__span-97-8"><a id="__codelineno-97-8" name="__codelineno-97-8" href="#__codelineno-97-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Selected: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">GetModel</span><span class="p">()</span>
</span><span id="__span-97-9"><a id="__codelineno-97-9" name="__codelineno-97-9" href="#__codelineno-97-9"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-97-10"><a id="__codelineno-97-10" name="__codelineno-97-10" href="#__codelineno-97-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-97-11"><a id="__codelineno-97-11" name="__codelineno-97-11" href="#__codelineno-97-11"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-97-12"><a id="__codelineno-97-12" name="__codelineno-97-12" href="#__codelineno-97-12"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-98-1"><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a><span class="c1">-- High: Advanced right click with context menus and validation</span>
</span><span id="__span-98-2"><a id="__codelineno-98-2" name="__codelineno-98-2" href="#__codelineno-98-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">rightClick</span><span class="p">()</span>
</span><span id="__span-98-3"><a id="__codelineno-98-3" name="__codelineno-98-3" href="#__codelineno-98-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-98-4"><a id="__codelineno-98-4" name="__codelineno-98-4" href="#__codelineno-98-4"></a><span class="w">    </span><span class="c1">-- Get target and validate</span>
</span><span id="__span-98-5"><a id="__codelineno-98-5" name="__codelineno-98-5" href="#__codelineno-98-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-98-6"><a id="__codelineno-98-6" name="__codelineno-98-6" href="#__codelineno-98-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-98-7"><a id="__codelineno-98-7" name="__codelineno-98-7" href="#__codelineno-98-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">hitEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Entity</span>
</span><span id="__span-98-8"><a id="__codelineno-98-8" name="__codelineno-98-8" href="#__codelineno-98-8"></a><span class="w">    </span><span class="c1">-- Handle different target types</span>
</span><span id="__span-98-9"><a id="__codelineno-98-9" name="__codelineno-98-9" href="#__codelineno-98-9"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitWorld</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-98-10"><a id="__codelineno-98-10" name="__codelineno-98-10" href="#__codelineno-98-10"></a><span class="w">        </span><span class="c1">-- World click - show position info</span>
</span><span id="__span-98-11"><a id="__codelineno-98-11" name="__codelineno-98-11" href="#__codelineno-98-11"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span>
</span><span id="__span-98-12"><a id="__codelineno-98-12" name="__codelineno-98-12" href="#__codelineno-98-12"></a><span class="w">            </span><span class="s2">&quot;World: %.2f, %.2f, %.2f&quot;</span><span class="p">,</span>
</span><span id="__span-98-13"><a id="__codelineno-98-13" name="__codelineno-98-13" href="#__codelineno-98-13"></a><span class="w">            </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">.</span><span class="py">x</span><span class="p">,</span>
</span><span id="__span-98-14"><a id="__codelineno-98-14" name="__codelineno-98-14" href="#__codelineno-98-14"></a><span class="w">            </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">.</span><span class="py">y</span><span class="p">,</span>
</span><span id="__span-98-15"><a id="__codelineno-98-15" name="__codelineno-98-15" href="#__codelineno-98-15"></a><span class="w">            </span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">.</span><span class="py">z</span>
</span><span id="__span-98-16"><a id="__codelineno-98-16" name="__codelineno-98-16" href="#__codelineno-98-16"></a><span class="w">        </span><span class="p">)</span>
</span><span id="__span-98-17"><a id="__codelineno-98-17" name="__codelineno-98-17" href="#__codelineno-98-17"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-98-18"><a id="__codelineno-98-18" name="__codelineno-98-18" href="#__codelineno-98-18"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-98-19"><a id="__codelineno-98-19" name="__codelineno-98-19" href="#__codelineno-98-19"></a><span class="w">        </span><span class="c1">-- Entity click - show context menu or manipulate</span>
</span><span id="__span-98-20"><a id="__codelineno-98-20" name="__codelineno-98-20" href="#__codelineno-98-20"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">IsPlayer</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-98-21"><a id="__codelineno-98-21" name="__codelineno-98-21" href="#__codelineno-98-21"></a><span class="w">            </span><span class="c1">-- Player interaction</span>
</span><span id="__span-98-22"><a id="__codelineno-98-22" name="__codelineno-98-22" href="#__codelineno-98-22"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_SPEED</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-98-23"><a id="__codelineno-98-23" name="__codelineno-98-23" href="#__codelineno-98-23"></a><span class="w">                </span><span class="nv">self</span><span class="p">:</span><span class="nf">OpenPlayerMenu</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span>
</span><span id="__span-98-24"><a id="__codelineno-98-24" name="__codelineno-98-24" href="#__codelineno-98-24"></a><span class="w">            </span><span class="kr">else</span>
</span><span id="__span-98-25"><a id="__codelineno-98-25" name="__codelineno-98-25" href="#__codelineno-98-25"></a><span class="w">                </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Hold SHIFT for player menu&quot;</span>
</span><span id="__span-98-26"><a id="__codelineno-98-26" name="__codelineno-98-26" href="#__codelineno-98-26"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-98-27"><a id="__codelineno-98-27" name="__codelineno-98-27" href="#__codelineno-98-27"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-98-28"><a id="__codelineno-98-28" name="__codelineno-98-28" href="#__codelineno-98-28"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">hitEntity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;prop_physics&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-98-29"><a id="__codelineno-98-29" name="__codelineno-98-29" href="#__codelineno-98-29"></a><span class="w">            </span><span class="c1">-- Prop manipulation</span>
</span><span id="__span-98-30"><a id="__codelineno-98-30" name="__codelineno-98-30" href="#__codelineno-98-30"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">CanManipulateEntity</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-98-31"><a id="__codelineno-98-31" name="__codelineno-98-31" href="#__codelineno-98-31"></a><span class="w">                </span><span class="kr">if</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_DUCK</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-98-32"><a id="__codelineno-98-32" name="__codelineno-98-32" href="#__codelineno-98-32"></a><span class="w">                    </span><span class="nv">self</span><span class="p">:</span><span class="nf">RemoveEntity</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span>
</span><span id="__span-98-33"><a id="__codelineno-98-33" name="__codelineno-98-33" href="#__codelineno-98-33"></a><span class="w">                </span><span class="kr">else</span>
</span><span id="__span-98-34"><a id="__codelineno-98-34" name="__codelineno-98-34" href="#__codelineno-98-34"></a><span class="w">                    </span><span class="nv">self</span><span class="p">:</span><span class="nf">SelectEntity</span><span class="p">(</span><span class="nv">hitEntity</span><span class="p">)</span>
</span><span id="__span-98-35"><a id="__codelineno-98-35" name="__codelineno-98-35" href="#__codelineno-98-35"></a><span class="w">                </span><span class="kr">end</span>
</span><span id="__span-98-36"><a id="__codelineno-98-36" name="__codelineno-98-36" href="#__codelineno-98-36"></a><span class="w">                </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-98-37"><a id="__codelineno-98-37" name="__codelineno-98-37" href="#__codelineno-98-37"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-98-38"><a id="__codelineno-98-38" name="__codelineno-98-38" href="#__codelineno-98-38"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-98-39"><a id="__codelineno-98-39" name="__codelineno-98-39" href="#__codelineno-98-39"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-98-40"><a id="__codelineno-98-40" name="__codelineno-98-40" href="#__codelineno-98-40"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-98-41"><a id="__codelineno-98-41" name="__codelineno-98-41" href="#__codelineno-98-41"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="reload">reload</h3>
<p><strong>Purpose</strong></p>
<p>Handles reload key press to clear/reset tool objects and state</p>
<p><strong>When Called</strong></p>
<p>When the player presses the reload key (default R) while holding the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-99-1"><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a><span class="c1">-- Simple: Basic reload functionality</span>
</span><span id="__span-99-2"><a id="__codelineno-99-2" name="__codelineno-99-2" href="#__codelineno-99-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">reload</span><span class="p">()</span>
</span><span id="__span-99-3"><a id="__codelineno-99-3" name="__codelineno-99-3" href="#__codelineno-99-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-99-4"><a id="__codelineno-99-4" name="__codelineno-99-4" href="#__codelineno-99-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Objects cleared&quot;</span>
</span><span id="__span-99-5"><a id="__codelineno-99-5" name="__codelineno-99-5" href="#__codelineno-99-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-100-1"><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a><span class="c1">-- Medium: Reload with confirmation and logging</span>
</span><span id="__span-100-2"><a id="__codelineno-100-2" name="__codelineno-100-2" href="#__codelineno-100-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">reload</span><span class="p">()</span>
</span><span id="__span-100-3"><a id="__codelineno-100-3" name="__codelineno-100-3" href="#__codelineno-100-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-100-4"><a id="__codelineno-100-4" name="__codelineno-100-4" href="#__codelineno-100-4"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;No objects to clear&quot;</span>
</span><span id="__span-100-5"><a id="__codelineno-100-5" name="__codelineno-100-5" href="#__codelineno-100-5"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-100-6"><a id="__codelineno-100-6" name="__codelineno-100-6" href="#__codelineno-100-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-100-7"><a id="__codelineno-100-7" name="__codelineno-100-7" href="#__codelineno-100-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span>
</span><span id="__span-100-8"><a id="__codelineno-100-8" name="__codelineno-100-8" href="#__codelineno-100-8"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-100-9"><a id="__codelineno-100-9" name="__codelineno-100-9" href="#__codelineno-100-9"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">count</span><span class="p">)</span>
</span><span id="__span-100-10"><a id="__codelineno-100-10" name="__codelineno-100-10" href="#__codelineno-100-10"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-100-11"><a id="__codelineno-100-11" name="__codelineno-100-11" href="#__codelineno-100-11"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Player &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; cleared &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; objects&quot;</span><span class="p">)</span>
</span><span id="__span-100-12"><a id="__codelineno-100-12" name="__codelineno-100-12" href="#__codelineno-100-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-100-13"><a id="__codelineno-100-13" name="__codelineno-100-13" href="#__codelineno-100-13"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-101-1"><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="c1">-- High: Advanced reload with backup and networking</span>
</span><span id="__span-101-2"><a id="__codelineno-101-2" name="__codelineno-101-2" href="#__codelineno-101-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">reload</span><span class="p">()</span>
</span><span id="__span-101-3"><a id="__codelineno-101-3" name="__codelineno-101-3" href="#__codelineno-101-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-101-4"><a id="__codelineno-101-4" name="__codelineno-101-4" href="#__codelineno-101-4"></a><span class="w">    </span><span class="c1">-- Check if there are objects to clear</span>
</span><span id="__span-101-5"><a id="__codelineno-101-5" name="__codelineno-101-5" href="#__codelineno-101-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-101-6"><a id="__codelineno-101-6" name="__codelineno-101-6" href="#__codelineno-101-6"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;No objects to clear&quot;</span>
</span><span id="__span-101-7"><a id="__codelineno-101-7" name="__codelineno-101-7" href="#__codelineno-101-7"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-101-8"><a id="__codelineno-101-8" name="__codelineno-101-8" href="#__codelineno-101-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-101-9"><a id="__codelineno-101-9" name="__codelineno-101-9" href="#__codelineno-101-9"></a><span class="w">    </span><span class="c1">-- Create backup before clearing (if configured)</span>
</span><span id="__span-101-10"><a id="__codelineno-101-10" name="__codelineno-101-10" href="#__codelineno-101-10"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="s2">&quot;backup_on_reload&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-101-11"><a id="__codelineno-101-11" name="__codelineno-101-11" href="#__codelineno-101-11"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateBackup</span><span class="p">()</span>
</span><span id="__span-101-12"><a id="__codelineno-101-12" name="__codelineno-101-12" href="#__codelineno-101-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-101-13"><a id="__codelineno-101-13" name="__codelineno-101-13" href="#__codelineno-101-13"></a><span class="w">    </span><span class="c1">-- Clear objects with individual cleanup</span>
</span><span id="__span-101-14"><a id="__codelineno-101-14" name="__codelineno-101-14" href="#__codelineno-101-14"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-101-15"><a id="__codelineno-101-15" name="__codelineno-101-15" href="#__codelineno-101-15"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-101-16"><a id="__codelineno-101-16" name="__codelineno-101-16" href="#__codelineno-101-16"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">[</span><span class="nv">i</span><span class="p">]</span>
</span><span id="__span-101-17"><a id="__codelineno-101-17" name="__codelineno-101-17" href="#__codelineno-101-17"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-101-18"><a id="__codelineno-101-18" name="__codelineno-101-18" href="#__codelineno-101-18"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-101-19"><a id="__codelineno-101-19" name="__codelineno-101-19" href="#__codelineno-101-19"></a><span class="w">                </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-101-20"><a id="__codelineno-101-20" name="__codelineno-101-20" href="#__codelineno-101-20"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-101-21"><a id="__codelineno-101-21" name="__codelineno-101-21" href="#__codelineno-101-21"></a><span class="w">            </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-101-22"><a id="__codelineno-101-22" name="__codelineno-101-22" href="#__codelineno-101-22"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-101-23"><a id="__codelineno-101-23" name="__codelineno-101-23" href="#__codelineno-101-23"></a><span class="w">        </span><span class="nb">table.remove</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
</span><span id="__span-101-24"><a id="__codelineno-101-24" name="__codelineno-101-24" href="#__codelineno-101-24"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-101-25"><a id="__codelineno-101-25" name="__codelineno-101-25" href="#__codelineno-101-25"></a><span class="w">    </span><span class="c1">-- Reset tool state</span>
</span><span id="__span-101-26"><a id="__codelineno-101-26" name="__codelineno-101-26" href="#__codelineno-101-26"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-101-27"><a id="__codelineno-101-27" name="__codelineno-101-27" href="#__codelineno-101-27"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-101-28"><a id="__codelineno-101-28" name="__codelineno-101-28" href="#__codelineno-101-28"></a><span class="w">    </span><span class="c1">-- Notify and log</span>
</span><span id="__span-101-29"><a id="__codelineno-101-29" name="__codelineno-101-29" href="#__codelineno-101-29"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">clearedCount</span><span class="p">)</span>
</span><span id="__span-101-30"><a id="__codelineno-101-30" name="__codelineno-101-30" href="#__codelineno-101-30"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-101-31"><a id="__codelineno-101-31" name="__codelineno-101-31" href="#__codelineno-101-31"></a><span class="w">        </span><span class="c1">-- Network cleanup confirmation to client</span>
</span><span id="__span-101-32"><a id="__codelineno-101-32" name="__codelineno-101-32" href="#__codelineno-101-32"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_objects_cleared&quot;</span><span class="p">)</span>
</span><span id="__span-101-33"><a id="__codelineno-101-33" name="__codelineno-101-33" href="#__codelineno-101-33"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteUInt</span><span class="p">(</span><span class="nv">clearedCount</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span>
</span><span id="__span-101-34"><a id="__codelineno-101-34" name="__codelineno-101-34" href="#__codelineno-101-34"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-101-35"><a id="__codelineno-101-35" name="__codelineno-101-35" href="#__codelineno-101-35"></a><span class="w">        </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; cleared &quot; .. clearedCount .. &quot; tool objects</span>
</span><span id="__span-101-36"><a id="__codelineno-101-36" name="__codelineno-101-36" href="#__codelineno-101-36"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-101-37"><a id="__codelineno-101-37" name="__codelineno-101-37" href="#__codelineno-101-37"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="reload_1">reload</h3>
<p><strong>Purpose</strong></p>
<p>Handles reload key press to clear/reset tool objects and state</p>
<p><strong>When Called</strong></p>
<p>When the player presses the reload key (default R) while holding the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-102-1"><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a><span class="c1">-- Simple: Basic reload functionality</span>
</span><span id="__span-102-2"><a id="__codelineno-102-2" name="__codelineno-102-2" href="#__codelineno-102-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">reload</span><span class="p">()</span>
</span><span id="__span-102-3"><a id="__codelineno-102-3" name="__codelineno-102-3" href="#__codelineno-102-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-102-4"><a id="__codelineno-102-4" name="__codelineno-102-4" href="#__codelineno-102-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Objects cleared&quot;</span>
</span><span id="__span-102-5"><a id="__codelineno-102-5" name="__codelineno-102-5" href="#__codelineno-102-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-103-1"><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="c1">-- Medium: Reload with confirmation and logging</span>
</span><span id="__span-103-2"><a id="__codelineno-103-2" name="__codelineno-103-2" href="#__codelineno-103-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">reload</span><span class="p">()</span>
</span><span id="__span-103-3"><a id="__codelineno-103-3" name="__codelineno-103-3" href="#__codelineno-103-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-103-4"><a id="__codelineno-103-4" name="__codelineno-103-4" href="#__codelineno-103-4"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;No objects to clear&quot;</span>
</span><span id="__span-103-5"><a id="__codelineno-103-5" name="__codelineno-103-5" href="#__codelineno-103-5"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-103-6"><a id="__codelineno-103-6" name="__codelineno-103-6" href="#__codelineno-103-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-103-7"><a id="__codelineno-103-7" name="__codelineno-103-7" href="#__codelineno-103-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span>
</span><span id="__span-103-8"><a id="__codelineno-103-8" name="__codelineno-103-8" href="#__codelineno-103-8"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-103-9"><a id="__codelineno-103-9" name="__codelineno-103-9" href="#__codelineno-103-9"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">count</span><span class="p">)</span>
</span><span id="__span-103-10"><a id="__codelineno-103-10" name="__codelineno-103-10" href="#__codelineno-103-10"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-103-11"><a id="__codelineno-103-11" name="__codelineno-103-11" href="#__codelineno-103-11"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Player &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; cleared &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; objects&quot;</span><span class="p">)</span>
</span><span id="__span-103-12"><a id="__codelineno-103-12" name="__codelineno-103-12" href="#__codelineno-103-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-103-13"><a id="__codelineno-103-13" name="__codelineno-103-13" href="#__codelineno-103-13"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-104-1"><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="c1">-- High: Advanced reload with backup and networking</span>
</span><span id="__span-104-2"><a id="__codelineno-104-2" name="__codelineno-104-2" href="#__codelineno-104-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">reload</span><span class="p">()</span>
</span><span id="__span-104-3"><a id="__codelineno-104-3" name="__codelineno-104-3" href="#__codelineno-104-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-104-4"><a id="__codelineno-104-4" name="__codelineno-104-4" href="#__codelineno-104-4"></a><span class="w">    </span><span class="c1">-- Check if there are objects to clear</span>
</span><span id="__span-104-5"><a id="__codelineno-104-5" name="__codelineno-104-5" href="#__codelineno-104-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-104-6"><a id="__codelineno-104-6" name="__codelineno-104-6" href="#__codelineno-104-6"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;No objects to clear&quot;</span>
</span><span id="__span-104-7"><a id="__codelineno-104-7" name="__codelineno-104-7" href="#__codelineno-104-7"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-104-8"><a id="__codelineno-104-8" name="__codelineno-104-8" href="#__codelineno-104-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-104-9"><a id="__codelineno-104-9" name="__codelineno-104-9" href="#__codelineno-104-9"></a><span class="w">    </span><span class="c1">-- Create backup before clearing (if configured)</span>
</span><span id="__span-104-10"><a id="__codelineno-104-10" name="__codelineno-104-10" href="#__codelineno-104-10"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="s2">&quot;backup_on_reload&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-104-11"><a id="__codelineno-104-11" name="__codelineno-104-11" href="#__codelineno-104-11"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateBackup</span><span class="p">()</span>
</span><span id="__span-104-12"><a id="__codelineno-104-12" name="__codelineno-104-12" href="#__codelineno-104-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-104-13"><a id="__codelineno-104-13" name="__codelineno-104-13" href="#__codelineno-104-13"></a><span class="w">    </span><span class="c1">-- Clear objects with individual cleanup</span>
</span><span id="__span-104-14"><a id="__codelineno-104-14" name="__codelineno-104-14" href="#__codelineno-104-14"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-104-15"><a id="__codelineno-104-15" name="__codelineno-104-15" href="#__codelineno-104-15"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-104-16"><a id="__codelineno-104-16" name="__codelineno-104-16" href="#__codelineno-104-16"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">[</span><span class="nv">i</span><span class="p">]</span>
</span><span id="__span-104-17"><a id="__codelineno-104-17" name="__codelineno-104-17" href="#__codelineno-104-17"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-104-18"><a id="__codelineno-104-18" name="__codelineno-104-18" href="#__codelineno-104-18"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-104-19"><a id="__codelineno-104-19" name="__codelineno-104-19" href="#__codelineno-104-19"></a><span class="w">                </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-104-20"><a id="__codelineno-104-20" name="__codelineno-104-20" href="#__codelineno-104-20"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-104-21"><a id="__codelineno-104-21" name="__codelineno-104-21" href="#__codelineno-104-21"></a><span class="w">            </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-104-22"><a id="__codelineno-104-22" name="__codelineno-104-22" href="#__codelineno-104-22"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-104-23"><a id="__codelineno-104-23" name="__codelineno-104-23" href="#__codelineno-104-23"></a><span class="w">        </span><span class="nb">table.remove</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
</span><span id="__span-104-24"><a id="__codelineno-104-24" name="__codelineno-104-24" href="#__codelineno-104-24"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-104-25"><a id="__codelineno-104-25" name="__codelineno-104-25" href="#__codelineno-104-25"></a><span class="w">    </span><span class="c1">-- Reset tool state</span>
</span><span id="__span-104-26"><a id="__codelineno-104-26" name="__codelineno-104-26" href="#__codelineno-104-26"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-104-27"><a id="__codelineno-104-27" name="__codelineno-104-27" href="#__codelineno-104-27"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-104-28"><a id="__codelineno-104-28" name="__codelineno-104-28" href="#__codelineno-104-28"></a><span class="w">    </span><span class="c1">-- Notify and log</span>
</span><span id="__span-104-29"><a id="__codelineno-104-29" name="__codelineno-104-29" href="#__codelineno-104-29"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">clearedCount</span><span class="p">)</span>
</span><span id="__span-104-30"><a id="__codelineno-104-30" name="__codelineno-104-30" href="#__codelineno-104-30"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-104-31"><a id="__codelineno-104-31" name="__codelineno-104-31" href="#__codelineno-104-31"></a><span class="w">        </span><span class="c1">-- Network cleanup confirmation to client</span>
</span><span id="__span-104-32"><a id="__codelineno-104-32" name="__codelineno-104-32" href="#__codelineno-104-32"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_objects_cleared&quot;</span><span class="p">)</span>
</span><span id="__span-104-33"><a id="__codelineno-104-33" name="__codelineno-104-33" href="#__codelineno-104-33"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteUInt</span><span class="p">(</span><span class="nv">clearedCount</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span>
</span><span id="__span-104-34"><a id="__codelineno-104-34" name="__codelineno-104-34" href="#__codelineno-104-34"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-104-35"><a id="__codelineno-104-35" name="__codelineno-104-35" href="#__codelineno-104-35"></a><span class="w">        </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; cleared &quot; .. clearedCount .. &quot; tool objects</span>
</span><span id="__span-104-36"><a id="__codelineno-104-36" name="__codelineno-104-36" href="#__codelineno-104-36"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-104-37"><a id="__codelineno-104-37" name="__codelineno-104-37" href="#__codelineno-104-37"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="reload_2">reload</h3>
<p><strong>Purpose</strong></p>
<p>Handles reload key press to clear/reset tool objects and state</p>
<p><strong>When Called</strong></p>
<p>When the player presses the reload key (default R) while holding the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-105-1"><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a><span class="c1">-- Simple: Basic reload functionality</span>
</span><span id="__span-105-2"><a id="__codelineno-105-2" name="__codelineno-105-2" href="#__codelineno-105-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">reload</span><span class="p">()</span>
</span><span id="__span-105-3"><a id="__codelineno-105-3" name="__codelineno-105-3" href="#__codelineno-105-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-105-4"><a id="__codelineno-105-4" name="__codelineno-105-4" href="#__codelineno-105-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Objects cleared&quot;</span>
</span><span id="__span-105-5"><a id="__codelineno-105-5" name="__codelineno-105-5" href="#__codelineno-105-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-106-1"><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a><span class="c1">-- Medium: Reload with confirmation and logging</span>
</span><span id="__span-106-2"><a id="__codelineno-106-2" name="__codelineno-106-2" href="#__codelineno-106-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">reload</span><span class="p">()</span>
</span><span id="__span-106-3"><a id="__codelineno-106-3" name="__codelineno-106-3" href="#__codelineno-106-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-106-4"><a id="__codelineno-106-4" name="__codelineno-106-4" href="#__codelineno-106-4"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;No objects to clear&quot;</span>
</span><span id="__span-106-5"><a id="__codelineno-106-5" name="__codelineno-106-5" href="#__codelineno-106-5"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-106-6"><a id="__codelineno-106-6" name="__codelineno-106-6" href="#__codelineno-106-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-106-7"><a id="__codelineno-106-7" name="__codelineno-106-7" href="#__codelineno-106-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span>
</span><span id="__span-106-8"><a id="__codelineno-106-8" name="__codelineno-106-8" href="#__codelineno-106-8"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-106-9"><a id="__codelineno-106-9" name="__codelineno-106-9" href="#__codelineno-106-9"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">count</span><span class="p">)</span>
</span><span id="__span-106-10"><a id="__codelineno-106-10" name="__codelineno-106-10" href="#__codelineno-106-10"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-106-11"><a id="__codelineno-106-11" name="__codelineno-106-11" href="#__codelineno-106-11"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Player &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; cleared &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; objects&quot;</span><span class="p">)</span>
</span><span id="__span-106-12"><a id="__codelineno-106-12" name="__codelineno-106-12" href="#__codelineno-106-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-106-13"><a id="__codelineno-106-13" name="__codelineno-106-13" href="#__codelineno-106-13"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-107-1"><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a><span class="c1">-- High: Advanced reload with backup and networking</span>
</span><span id="__span-107-2"><a id="__codelineno-107-2" name="__codelineno-107-2" href="#__codelineno-107-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">reload</span><span class="p">()</span>
</span><span id="__span-107-3"><a id="__codelineno-107-3" name="__codelineno-107-3" href="#__codelineno-107-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-107-4"><a id="__codelineno-107-4" name="__codelineno-107-4" href="#__codelineno-107-4"></a><span class="w">    </span><span class="c1">-- Check if there are objects to clear</span>
</span><span id="__span-107-5"><a id="__codelineno-107-5" name="__codelineno-107-5" href="#__codelineno-107-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-107-6"><a id="__codelineno-107-6" name="__codelineno-107-6" href="#__codelineno-107-6"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;No objects to clear&quot;</span>
</span><span id="__span-107-7"><a id="__codelineno-107-7" name="__codelineno-107-7" href="#__codelineno-107-7"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-107-8"><a id="__codelineno-107-8" name="__codelineno-107-8" href="#__codelineno-107-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-107-9"><a id="__codelineno-107-9" name="__codelineno-107-9" href="#__codelineno-107-9"></a><span class="w">    </span><span class="c1">-- Create backup before clearing (if configured)</span>
</span><span id="__span-107-10"><a id="__codelineno-107-10" name="__codelineno-107-10" href="#__codelineno-107-10"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="s2">&quot;backup_on_reload&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-107-11"><a id="__codelineno-107-11" name="__codelineno-107-11" href="#__codelineno-107-11"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateBackup</span><span class="p">()</span>
</span><span id="__span-107-12"><a id="__codelineno-107-12" name="__codelineno-107-12" href="#__codelineno-107-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-107-13"><a id="__codelineno-107-13" name="__codelineno-107-13" href="#__codelineno-107-13"></a><span class="w">    </span><span class="c1">-- Clear objects with individual cleanup</span>
</span><span id="__span-107-14"><a id="__codelineno-107-14" name="__codelineno-107-14" href="#__codelineno-107-14"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-107-15"><a id="__codelineno-107-15" name="__codelineno-107-15" href="#__codelineno-107-15"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-107-16"><a id="__codelineno-107-16" name="__codelineno-107-16" href="#__codelineno-107-16"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">[</span><span class="nv">i</span><span class="p">]</span>
</span><span id="__span-107-17"><a id="__codelineno-107-17" name="__codelineno-107-17" href="#__codelineno-107-17"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-107-18"><a id="__codelineno-107-18" name="__codelineno-107-18" href="#__codelineno-107-18"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-107-19"><a id="__codelineno-107-19" name="__codelineno-107-19" href="#__codelineno-107-19"></a><span class="w">                </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-107-20"><a id="__codelineno-107-20" name="__codelineno-107-20" href="#__codelineno-107-20"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-107-21"><a id="__codelineno-107-21" name="__codelineno-107-21" href="#__codelineno-107-21"></a><span class="w">            </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-107-22"><a id="__codelineno-107-22" name="__codelineno-107-22" href="#__codelineno-107-22"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-107-23"><a id="__codelineno-107-23" name="__codelineno-107-23" href="#__codelineno-107-23"></a><span class="w">        </span><span class="nb">table.remove</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
</span><span id="__span-107-24"><a id="__codelineno-107-24" name="__codelineno-107-24" href="#__codelineno-107-24"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-107-25"><a id="__codelineno-107-25" name="__codelineno-107-25" href="#__codelineno-107-25"></a><span class="w">    </span><span class="c1">-- Reset tool state</span>
</span><span id="__span-107-26"><a id="__codelineno-107-26" name="__codelineno-107-26" href="#__codelineno-107-26"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-107-27"><a id="__codelineno-107-27" name="__codelineno-107-27" href="#__codelineno-107-27"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-107-28"><a id="__codelineno-107-28" name="__codelineno-107-28" href="#__codelineno-107-28"></a><span class="w">    </span><span class="c1">-- Notify and log</span>
</span><span id="__span-107-29"><a id="__codelineno-107-29" name="__codelineno-107-29" href="#__codelineno-107-29"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">clearedCount</span><span class="p">)</span>
</span><span id="__span-107-30"><a id="__codelineno-107-30" name="__codelineno-107-30" href="#__codelineno-107-30"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-107-31"><a id="__codelineno-107-31" name="__codelineno-107-31" href="#__codelineno-107-31"></a><span class="w">        </span><span class="c1">-- Network cleanup confirmation to client</span>
</span><span id="__span-107-32"><a id="__codelineno-107-32" name="__codelineno-107-32" href="#__codelineno-107-32"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_objects_cleared&quot;</span><span class="p">)</span>
</span><span id="__span-107-33"><a id="__codelineno-107-33" name="__codelineno-107-33" href="#__codelineno-107-33"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteUInt</span><span class="p">(</span><span class="nv">clearedCount</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span>
</span><span id="__span-107-34"><a id="__codelineno-107-34" name="__codelineno-107-34" href="#__codelineno-107-34"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-107-35"><a id="__codelineno-107-35" name="__codelineno-107-35" href="#__codelineno-107-35"></a><span class="w">        </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; cleared &quot; .. clearedCount .. &quot; tool objects</span>
</span><span id="__span-107-36"><a id="__codelineno-107-36" name="__codelineno-107-36" href="#__codelineno-107-36"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-107-37"><a id="__codelineno-107-37" name="__codelineno-107-37" href="#__codelineno-107-37"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="reload_3">reload</h3>
<p><strong>Purpose</strong></p>
<p>Handles reload key press to clear/reset tool objects and state</p>
<p><strong>When Called</strong></p>
<p>When the player presses the reload key (default R) while holding the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-108-1"><a id="__codelineno-108-1" name="__codelineno-108-1" href="#__codelineno-108-1"></a><span class="c1">-- Simple: Basic reload functionality</span>
</span><span id="__span-108-2"><a id="__codelineno-108-2" name="__codelineno-108-2" href="#__codelineno-108-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">reload</span><span class="p">()</span>
</span><span id="__span-108-3"><a id="__codelineno-108-3" name="__codelineno-108-3" href="#__codelineno-108-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-108-4"><a id="__codelineno-108-4" name="__codelineno-108-4" href="#__codelineno-108-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Objects cleared&quot;</span>
</span><span id="__span-108-5"><a id="__codelineno-108-5" name="__codelineno-108-5" href="#__codelineno-108-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-109-1"><a id="__codelineno-109-1" name="__codelineno-109-1" href="#__codelineno-109-1"></a><span class="c1">-- Medium: Reload with confirmation and logging</span>
</span><span id="__span-109-2"><a id="__codelineno-109-2" name="__codelineno-109-2" href="#__codelineno-109-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">reload</span><span class="p">()</span>
</span><span id="__span-109-3"><a id="__codelineno-109-3" name="__codelineno-109-3" href="#__codelineno-109-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-109-4"><a id="__codelineno-109-4" name="__codelineno-109-4" href="#__codelineno-109-4"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;No objects to clear&quot;</span>
</span><span id="__span-109-5"><a id="__codelineno-109-5" name="__codelineno-109-5" href="#__codelineno-109-5"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-109-6"><a id="__codelineno-109-6" name="__codelineno-109-6" href="#__codelineno-109-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-109-7"><a id="__codelineno-109-7" name="__codelineno-109-7" href="#__codelineno-109-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span>
</span><span id="__span-109-8"><a id="__codelineno-109-8" name="__codelineno-109-8" href="#__codelineno-109-8"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-109-9"><a id="__codelineno-109-9" name="__codelineno-109-9" href="#__codelineno-109-9"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">count</span><span class="p">)</span>
</span><span id="__span-109-10"><a id="__codelineno-109-10" name="__codelineno-109-10" href="#__codelineno-109-10"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-109-11"><a id="__codelineno-109-11" name="__codelineno-109-11" href="#__codelineno-109-11"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Player &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">():</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; cleared &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; objects&quot;</span><span class="p">)</span>
</span><span id="__span-109-12"><a id="__codelineno-109-12" name="__codelineno-109-12" href="#__codelineno-109-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-109-13"><a id="__codelineno-109-13" name="__codelineno-109-13" href="#__codelineno-109-13"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-110-1"><a id="__codelineno-110-1" name="__codelineno-110-1" href="#__codelineno-110-1"></a><span class="c1">-- High: Advanced reload with backup and networking</span>
</span><span id="__span-110-2"><a id="__codelineno-110-2" name="__codelineno-110-2" href="#__codelineno-110-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">reload</span><span class="p">()</span>
</span><span id="__span-110-3"><a id="__codelineno-110-3" name="__codelineno-110-3" href="#__codelineno-110-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-110-4"><a id="__codelineno-110-4" name="__codelineno-110-4" href="#__codelineno-110-4"></a><span class="w">    </span><span class="c1">-- Check if there are objects to clear</span>
</span><span id="__span-110-5"><a id="__codelineno-110-5" name="__codelineno-110-5" href="#__codelineno-110-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-110-6"><a id="__codelineno-110-6" name="__codelineno-110-6" href="#__codelineno-110-6"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;No objects to clear&quot;</span>
</span><span id="__span-110-7"><a id="__codelineno-110-7" name="__codelineno-110-7" href="#__codelineno-110-7"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-110-8"><a id="__codelineno-110-8" name="__codelineno-110-8" href="#__codelineno-110-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-110-9"><a id="__codelineno-110-9" name="__codelineno-110-9" href="#__codelineno-110-9"></a><span class="w">    </span><span class="c1">-- Create backup before clearing (if configured)</span>
</span><span id="__span-110-10"><a id="__codelineno-110-10" name="__codelineno-110-10" href="#__codelineno-110-10"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="s2">&quot;backup_on_reload&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-110-11"><a id="__codelineno-110-11" name="__codelineno-110-11" href="#__codelineno-110-11"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateBackup</span><span class="p">()</span>
</span><span id="__span-110-12"><a id="__codelineno-110-12" name="__codelineno-110-12" href="#__codelineno-110-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-110-13"><a id="__codelineno-110-13" name="__codelineno-110-13" href="#__codelineno-110-13"></a><span class="w">    </span><span class="c1">-- Clear objects with individual cleanup</span>
</span><span id="__span-110-14"><a id="__codelineno-110-14" name="__codelineno-110-14" href="#__codelineno-110-14"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-110-15"><a id="__codelineno-110-15" name="__codelineno-110-15" href="#__codelineno-110-15"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-110-16"><a id="__codelineno-110-16" name="__codelineno-110-16" href="#__codelineno-110-16"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">[</span><span class="nv">i</span><span class="p">]</span>
</span><span id="__span-110-17"><a id="__codelineno-110-17" name="__codelineno-110-17" href="#__codelineno-110-17"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-110-18"><a id="__codelineno-110-18" name="__codelineno-110-18" href="#__codelineno-110-18"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-110-19"><a id="__codelineno-110-19" name="__codelineno-110-19" href="#__codelineno-110-19"></a><span class="w">                </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-110-20"><a id="__codelineno-110-20" name="__codelineno-110-20" href="#__codelineno-110-20"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-110-21"><a id="__codelineno-110-21" name="__codelineno-110-21" href="#__codelineno-110-21"></a><span class="w">            </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-110-22"><a id="__codelineno-110-22" name="__codelineno-110-22" href="#__codelineno-110-22"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-110-23"><a id="__codelineno-110-23" name="__codelineno-110-23" href="#__codelineno-110-23"></a><span class="w">        </span><span class="nb">table.remove</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
</span><span id="__span-110-24"><a id="__codelineno-110-24" name="__codelineno-110-24" href="#__codelineno-110-24"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-110-25"><a id="__codelineno-110-25" name="__codelineno-110-25" href="#__codelineno-110-25"></a><span class="w">    </span><span class="c1">-- Reset tool state</span>
</span><span id="__span-110-26"><a id="__codelineno-110-26" name="__codelineno-110-26" href="#__codelineno-110-26"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-110-27"><a id="__codelineno-110-27" name="__codelineno-110-27" href="#__codelineno-110-27"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-110-28"><a id="__codelineno-110-28" name="__codelineno-110-28" href="#__codelineno-110-28"></a><span class="w">    </span><span class="c1">-- Notify and log</span>
</span><span id="__span-110-29"><a id="__codelineno-110-29" name="__codelineno-110-29" href="#__codelineno-110-29"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">clearedCount</span><span class="p">)</span>
</span><span id="__span-110-30"><a id="__codelineno-110-30" name="__codelineno-110-30" href="#__codelineno-110-30"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-110-31"><a id="__codelineno-110-31" name="__codelineno-110-31" href="#__codelineno-110-31"></a><span class="w">        </span><span class="c1">-- Network cleanup confirmation to client</span>
</span><span id="__span-110-32"><a id="__codelineno-110-32" name="__codelineno-110-32" href="#__codelineno-110-32"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_objects_cleared&quot;</span><span class="p">)</span>
</span><span id="__span-110-33"><a id="__codelineno-110-33" name="__codelineno-110-33" href="#__codelineno-110-33"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteUInt</span><span class="p">(</span><span class="nv">clearedCount</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span>
</span><span id="__span-110-34"><a id="__codelineno-110-34" name="__codelineno-110-34" href="#__codelineno-110-34"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-110-35"><a id="__codelineno-110-35" name="__codelineno-110-35" href="#__codelineno-110-35"></a><span class="w">        </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; cleared &quot; .. clearedCount .. &quot; tool objects</span>
</span><span id="__span-110-36"><a id="__codelineno-110-36" name="__codelineno-110-36" href="#__codelineno-110-36"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-110-37"><a id="__codelineno-110-37" name="__codelineno-110-37" href="#__codelineno-110-37"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="deploy">deploy</h3>
<p><strong>Purpose</strong></p>
<p>Handles tool deployment when the weapon is drawn/equipped</p>
<p><strong>When Called</strong></p>
<p>When the player switches to or initially equips the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-111-1"><a id="__codelineno-111-1" name="__codelineno-111-1" href="#__codelineno-111-1"></a><span class="c1">-- Simple: Basic deploy functionality</span>
</span><span id="__span-111-2"><a id="__codelineno-111-2" name="__codelineno-111-2" href="#__codelineno-111-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">deploy</span><span class="p">()</span>
</span><span id="__span-111-3"><a id="__codelineno-111-3" name="__codelineno-111-3" href="#__codelineno-111-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool deployed&quot;</span>
</span><span id="__span-111-4"><a id="__codelineno-111-4" name="__codelineno-111-4" href="#__codelineno-111-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-112-1"><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a><span class="c1">-- Medium: Deploy with initialization</span>
</span><span id="__span-112-2"><a id="__codelineno-112-2" name="__codelineno-112-2" href="#__codelineno-112-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">deploy</span><span class="p">()</span>
</span><span id="__span-112-3"><a id="__codelineno-112-3" name="__codelineno-112-3" href="#__codelineno-112-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-112-4"><a id="__codelineno-112-4" name="__codelineno-112-4" href="#__codelineno-112-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-112-5"><a id="__codelineno-112-5" name="__codelineno-112-5" href="#__codelineno-112-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">createConVars</span><span class="p">()</span>
</span><span id="__span-112-6"><a id="__codelineno-112-6" name="__codelineno-112-6" href="#__codelineno-112-6"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool ready&quot;</span>
</span><span id="__span-112-7"><a id="__codelineno-112-7" name="__codelineno-112-7" href="#__codelineno-112-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-113-1"><a id="__codelineno-113-1" name="__codelineno-113-1" href="#__codelineno-113-1"></a><span class="c1">-- High: Advanced deploy with validation and networking</span>
</span><span id="__span-113-2"><a id="__codelineno-113-2" name="__codelineno-113-2" href="#__codelineno-113-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">deploy</span><span class="p">()</span>
</span><span id="__span-113-3"><a id="__codelineno-113-3" name="__codelineno-113-3" href="#__codelineno-113-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-113-4"><a id="__codelineno-113-4" name="__codelineno-113-4" href="#__codelineno-113-4"></a><span class="w">    </span><span class="c1">-- Release any existing ghost entity</span>
</span><span id="__span-113-5"><a id="__codelineno-113-5" name="__codelineno-113-5" href="#__codelineno-113-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-113-6"><a id="__codelineno-113-6" name="__codelineno-113-6" href="#__codelineno-113-6"></a><span class="w">    </span><span class="c1">-- Initialize tool systems</span>
</span><span id="__span-113-7"><a id="__codelineno-113-7" name="__codelineno-113-7" href="#__codelineno-113-7"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-113-8"><a id="__codelineno-113-8" name="__codelineno-113-8" href="#__codelineno-113-8"></a><span class="w">    </span><span class="c1">-- Create ConVars for this session</span>
</span><span id="__span-113-9"><a id="__codelineno-113-9" name="__codelineno-113-9" href="#__codelineno-113-9"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">createConVars</span><span class="p">()</span>
</span><span id="__span-113-10"><a id="__codelineno-113-10" name="__codelineno-113-10" href="#__codelineno-113-10"></a><span class="w">    </span><span class="c1">-- Validate tool mode and permissions</span>
</span><span id="__span-113-11"><a id="__codelineno-113-11" name="__codelineno-113-11" href="#__codelineno-113-11"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-113-12"><a id="__codelineno-113-12" name="__codelineno-113-12" href="#__codelineno-113-12"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool usage disabled&quot;</span>
</span><span id="__span-113-13"><a id="__codelineno-113-13" name="__codelineno-113-13" href="#__codelineno-113-13"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-113-14"><a id="__codelineno-113-14" name="__codelineno-113-14" href="#__codelineno-113-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-113-15"><a id="__codelineno-113-15" name="__codelineno-113-15" href="#__codelineno-113-15"></a><span class="w">    </span><span class="c1">-- Check if tool mode is valid</span>
</span><span id="__span-113-16"><a id="__codelineno-113-16" name="__codelineno-113-16" href="#__codelineno-113-16"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()</span>
</span><span id="__span-113-17"><a id="__codelineno-113-17" name="__codelineno-113-17" href="#__codelineno-113-17"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">ToolModes</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">ToolModes</span><span class="p">[</span><span class="nv">mode</span><span class="p">]</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-113-18"><a id="__codelineno-113-18" name="__codelineno-113-18" href="#__codelineno-113-18"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Invalid tool mode&quot;</span>
</span><span id="__span-113-19"><a id="__codelineno-113-19" name="__codelineno-113-19" href="#__codelineno-113-19"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-113-20"><a id="__codelineno-113-20" name="__codelineno-113-20" href="#__codelineno-113-20"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-113-21"><a id="__codelineno-113-21" name="__codelineno-113-21" href="#__codelineno-113-21"></a><span class="w">    </span><span class="c1">-- Initialize mode-specific systems</span>
</span><span id="__span-113-22"><a id="__codelineno-113-22" name="__codelineno-113-22" href="#__codelineno-113-22"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-113-23"><a id="__codelineno-113-23" name="__codelineno-113-23" href="#__codelineno-113-23"></a><span class="w">        </span><span class="c1">-- Server-side initialization</span>
</span><span id="__span-113-24"><a id="__codelineno-113-24" name="__codelineno-113-24" href="#__codelineno-113-24"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">InitializeServerSystems</span><span class="p">()</span>
</span><span id="__span-113-25"><a id="__codelineno-113-25" name="__codelineno-113-25" href="#__codelineno-113-25"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">LoadPlayerData</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-113-26"><a id="__codelineno-113-26" name="__codelineno-113-26" href="#__codelineno-113-26"></a><span class="w">        </span><span class="c1">-- Network tool state to client</span>
</span><span id="__span-113-27"><a id="__codelineno-113-27" name="__codelineno-113-27" href="#__codelineno-113-27"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_deployed&quot;</span><span class="p">)</span>
</span><span id="__span-113-28"><a id="__codelineno-113-28" name="__codelineno-113-28" href="#__codelineno-113-28"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteString</span><span class="p">(</span><span class="nv">mode</span><span class="p">)</span>
</span><span id="__span-113-29"><a id="__codelineno-113-29" name="__codelineno-113-29" href="#__codelineno-113-29"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-113-30"><a id="__codelineno-113-30" name="__codelineno-113-30" href="#__codelineno-113-30"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-113-31"><a id="__codelineno-113-31" name="__codelineno-113-31" href="#__codelineno-113-31"></a><span class="w">        </span><span class="c1">-- Client-side initialization</span>
</span><span id="__span-113-32"><a id="__codelineno-113-32" name="__codelineno-113-32" href="#__codelineno-113-32"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">InitializeClientSystems</span><span class="p">()</span>
</span><span id="__span-113-33"><a id="__codelineno-113-33" name="__codelineno-113-33" href="#__codelineno-113-33"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateGhostEntity</span><span class="p">()</span>
</span><span id="__span-113-34"><a id="__codelineno-113-34" name="__codelineno-113-34" href="#__codelineno-113-34"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-113-35"><a id="__codelineno-113-35" name="__codelineno-113-35" href="#__codelineno-113-35"></a><span class="w">    </span><span class="c1">-- Set initial state</span>
</span><span id="__span-113-36"><a id="__codelineno-113-36" name="__codelineno-113-36" href="#__codelineno-113-36"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-113-37"><a id="__codelineno-113-37" name="__codelineno-113-37" href="#__codelineno-113-37"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastDeploy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-113-38"><a id="__codelineno-113-38" name="__codelineno-113-38" href="#__codelineno-113-38"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;%s tool ready&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">mode</span><span class="p">)</span>
</span><span id="__span-113-39"><a id="__codelineno-113-39" name="__codelineno-113-39" href="#__codelineno-113-39"></a><span class="w">    </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; deployed &quot; .. mode .. &quot; tool</span>
</span><span id="__span-113-40"><a id="__codelineno-113-40" name="__codelineno-113-40" href="#__codelineno-113-40"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="deploy_1">deploy</h3>
<p><strong>Purpose</strong></p>
<p>Handles tool deployment when the weapon is drawn/equipped</p>
<p><strong>When Called</strong></p>
<p>When the player switches to or initially equips the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-114-1"><a id="__codelineno-114-1" name="__codelineno-114-1" href="#__codelineno-114-1"></a><span class="c1">-- Simple: Basic deploy functionality</span>
</span><span id="__span-114-2"><a id="__codelineno-114-2" name="__codelineno-114-2" href="#__codelineno-114-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">deploy</span><span class="p">()</span>
</span><span id="__span-114-3"><a id="__codelineno-114-3" name="__codelineno-114-3" href="#__codelineno-114-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool deployed&quot;</span>
</span><span id="__span-114-4"><a id="__codelineno-114-4" name="__codelineno-114-4" href="#__codelineno-114-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-115-1"><a id="__codelineno-115-1" name="__codelineno-115-1" href="#__codelineno-115-1"></a><span class="c1">-- Medium: Deploy with initialization</span>
</span><span id="__span-115-2"><a id="__codelineno-115-2" name="__codelineno-115-2" href="#__codelineno-115-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">deploy</span><span class="p">()</span>
</span><span id="__span-115-3"><a id="__codelineno-115-3" name="__codelineno-115-3" href="#__codelineno-115-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-115-4"><a id="__codelineno-115-4" name="__codelineno-115-4" href="#__codelineno-115-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-115-5"><a id="__codelineno-115-5" name="__codelineno-115-5" href="#__codelineno-115-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">createConVars</span><span class="p">()</span>
</span><span id="__span-115-6"><a id="__codelineno-115-6" name="__codelineno-115-6" href="#__codelineno-115-6"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool ready&quot;</span>
</span><span id="__span-115-7"><a id="__codelineno-115-7" name="__codelineno-115-7" href="#__codelineno-115-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-116-1"><a id="__codelineno-116-1" name="__codelineno-116-1" href="#__codelineno-116-1"></a><span class="c1">-- High: Advanced deploy with validation and networking</span>
</span><span id="__span-116-2"><a id="__codelineno-116-2" name="__codelineno-116-2" href="#__codelineno-116-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">deploy</span><span class="p">()</span>
</span><span id="__span-116-3"><a id="__codelineno-116-3" name="__codelineno-116-3" href="#__codelineno-116-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-116-4"><a id="__codelineno-116-4" name="__codelineno-116-4" href="#__codelineno-116-4"></a><span class="w">    </span><span class="c1">-- Release any existing ghost entity</span>
</span><span id="__span-116-5"><a id="__codelineno-116-5" name="__codelineno-116-5" href="#__codelineno-116-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-116-6"><a id="__codelineno-116-6" name="__codelineno-116-6" href="#__codelineno-116-6"></a><span class="w">    </span><span class="c1">-- Initialize tool systems</span>
</span><span id="__span-116-7"><a id="__codelineno-116-7" name="__codelineno-116-7" href="#__codelineno-116-7"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-116-8"><a id="__codelineno-116-8" name="__codelineno-116-8" href="#__codelineno-116-8"></a><span class="w">    </span><span class="c1">-- Create ConVars for this session</span>
</span><span id="__span-116-9"><a id="__codelineno-116-9" name="__codelineno-116-9" href="#__codelineno-116-9"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">createConVars</span><span class="p">()</span>
</span><span id="__span-116-10"><a id="__codelineno-116-10" name="__codelineno-116-10" href="#__codelineno-116-10"></a><span class="w">    </span><span class="c1">-- Validate tool mode and permissions</span>
</span><span id="__span-116-11"><a id="__codelineno-116-11" name="__codelineno-116-11" href="#__codelineno-116-11"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-116-12"><a id="__codelineno-116-12" name="__codelineno-116-12" href="#__codelineno-116-12"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool usage disabled&quot;</span>
</span><span id="__span-116-13"><a id="__codelineno-116-13" name="__codelineno-116-13" href="#__codelineno-116-13"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-116-14"><a id="__codelineno-116-14" name="__codelineno-116-14" href="#__codelineno-116-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-116-15"><a id="__codelineno-116-15" name="__codelineno-116-15" href="#__codelineno-116-15"></a><span class="w">    </span><span class="c1">-- Check if tool mode is valid</span>
</span><span id="__span-116-16"><a id="__codelineno-116-16" name="__codelineno-116-16" href="#__codelineno-116-16"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()</span>
</span><span id="__span-116-17"><a id="__codelineno-116-17" name="__codelineno-116-17" href="#__codelineno-116-17"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">ToolModes</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">ToolModes</span><span class="p">[</span><span class="nv">mode</span><span class="p">]</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-116-18"><a id="__codelineno-116-18" name="__codelineno-116-18" href="#__codelineno-116-18"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Invalid tool mode&quot;</span>
</span><span id="__span-116-19"><a id="__codelineno-116-19" name="__codelineno-116-19" href="#__codelineno-116-19"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-116-20"><a id="__codelineno-116-20" name="__codelineno-116-20" href="#__codelineno-116-20"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-116-21"><a id="__codelineno-116-21" name="__codelineno-116-21" href="#__codelineno-116-21"></a><span class="w">    </span><span class="c1">-- Initialize mode-specific systems</span>
</span><span id="__span-116-22"><a id="__codelineno-116-22" name="__codelineno-116-22" href="#__codelineno-116-22"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-116-23"><a id="__codelineno-116-23" name="__codelineno-116-23" href="#__codelineno-116-23"></a><span class="w">        </span><span class="c1">-- Server-side initialization</span>
</span><span id="__span-116-24"><a id="__codelineno-116-24" name="__codelineno-116-24" href="#__codelineno-116-24"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">InitializeServerSystems</span><span class="p">()</span>
</span><span id="__span-116-25"><a id="__codelineno-116-25" name="__codelineno-116-25" href="#__codelineno-116-25"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">LoadPlayerData</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-116-26"><a id="__codelineno-116-26" name="__codelineno-116-26" href="#__codelineno-116-26"></a><span class="w">        </span><span class="c1">-- Network tool state to client</span>
</span><span id="__span-116-27"><a id="__codelineno-116-27" name="__codelineno-116-27" href="#__codelineno-116-27"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_deployed&quot;</span><span class="p">)</span>
</span><span id="__span-116-28"><a id="__codelineno-116-28" name="__codelineno-116-28" href="#__codelineno-116-28"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteString</span><span class="p">(</span><span class="nv">mode</span><span class="p">)</span>
</span><span id="__span-116-29"><a id="__codelineno-116-29" name="__codelineno-116-29" href="#__codelineno-116-29"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-116-30"><a id="__codelineno-116-30" name="__codelineno-116-30" href="#__codelineno-116-30"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-116-31"><a id="__codelineno-116-31" name="__codelineno-116-31" href="#__codelineno-116-31"></a><span class="w">        </span><span class="c1">-- Client-side initialization</span>
</span><span id="__span-116-32"><a id="__codelineno-116-32" name="__codelineno-116-32" href="#__codelineno-116-32"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">InitializeClientSystems</span><span class="p">()</span>
</span><span id="__span-116-33"><a id="__codelineno-116-33" name="__codelineno-116-33" href="#__codelineno-116-33"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateGhostEntity</span><span class="p">()</span>
</span><span id="__span-116-34"><a id="__codelineno-116-34" name="__codelineno-116-34" href="#__codelineno-116-34"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-116-35"><a id="__codelineno-116-35" name="__codelineno-116-35" href="#__codelineno-116-35"></a><span class="w">    </span><span class="c1">-- Set initial state</span>
</span><span id="__span-116-36"><a id="__codelineno-116-36" name="__codelineno-116-36" href="#__codelineno-116-36"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-116-37"><a id="__codelineno-116-37" name="__codelineno-116-37" href="#__codelineno-116-37"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastDeploy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-116-38"><a id="__codelineno-116-38" name="__codelineno-116-38" href="#__codelineno-116-38"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;%s tool ready&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">mode</span><span class="p">)</span>
</span><span id="__span-116-39"><a id="__codelineno-116-39" name="__codelineno-116-39" href="#__codelineno-116-39"></a><span class="w">    </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; deployed &quot; .. mode .. &quot; tool</span>
</span><span id="__span-116-40"><a id="__codelineno-116-40" name="__codelineno-116-40" href="#__codelineno-116-40"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="deploy_2">deploy</h3>
<p><strong>Purpose</strong></p>
<p>Handles tool deployment when the weapon is drawn/equipped</p>
<p><strong>When Called</strong></p>
<p>When the player switches to or initially equips the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-117-1"><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a><span class="c1">-- Simple: Basic deploy functionality</span>
</span><span id="__span-117-2"><a id="__codelineno-117-2" name="__codelineno-117-2" href="#__codelineno-117-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">deploy</span><span class="p">()</span>
</span><span id="__span-117-3"><a id="__codelineno-117-3" name="__codelineno-117-3" href="#__codelineno-117-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool deployed&quot;</span>
</span><span id="__span-117-4"><a id="__codelineno-117-4" name="__codelineno-117-4" href="#__codelineno-117-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-118-1"><a id="__codelineno-118-1" name="__codelineno-118-1" href="#__codelineno-118-1"></a><span class="c1">-- Medium: Deploy with initialization</span>
</span><span id="__span-118-2"><a id="__codelineno-118-2" name="__codelineno-118-2" href="#__codelineno-118-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">deploy</span><span class="p">()</span>
</span><span id="__span-118-3"><a id="__codelineno-118-3" name="__codelineno-118-3" href="#__codelineno-118-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-118-4"><a id="__codelineno-118-4" name="__codelineno-118-4" href="#__codelineno-118-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-118-5"><a id="__codelineno-118-5" name="__codelineno-118-5" href="#__codelineno-118-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">createConVars</span><span class="p">()</span>
</span><span id="__span-118-6"><a id="__codelineno-118-6" name="__codelineno-118-6" href="#__codelineno-118-6"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool ready&quot;</span>
</span><span id="__span-118-7"><a id="__codelineno-118-7" name="__codelineno-118-7" href="#__codelineno-118-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-119-1"><a id="__codelineno-119-1" name="__codelineno-119-1" href="#__codelineno-119-1"></a><span class="c1">-- High: Advanced deploy with validation and networking</span>
</span><span id="__span-119-2"><a id="__codelineno-119-2" name="__codelineno-119-2" href="#__codelineno-119-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">deploy</span><span class="p">()</span>
</span><span id="__span-119-3"><a id="__codelineno-119-3" name="__codelineno-119-3" href="#__codelineno-119-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-119-4"><a id="__codelineno-119-4" name="__codelineno-119-4" href="#__codelineno-119-4"></a><span class="w">    </span><span class="c1">-- Release any existing ghost entity</span>
</span><span id="__span-119-5"><a id="__codelineno-119-5" name="__codelineno-119-5" href="#__codelineno-119-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-119-6"><a id="__codelineno-119-6" name="__codelineno-119-6" href="#__codelineno-119-6"></a><span class="w">    </span><span class="c1">-- Initialize tool systems</span>
</span><span id="__span-119-7"><a id="__codelineno-119-7" name="__codelineno-119-7" href="#__codelineno-119-7"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-119-8"><a id="__codelineno-119-8" name="__codelineno-119-8" href="#__codelineno-119-8"></a><span class="w">    </span><span class="c1">-- Create ConVars for this session</span>
</span><span id="__span-119-9"><a id="__codelineno-119-9" name="__codelineno-119-9" href="#__codelineno-119-9"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">createConVars</span><span class="p">()</span>
</span><span id="__span-119-10"><a id="__codelineno-119-10" name="__codelineno-119-10" href="#__codelineno-119-10"></a><span class="w">    </span><span class="c1">-- Validate tool mode and permissions</span>
</span><span id="__span-119-11"><a id="__codelineno-119-11" name="__codelineno-119-11" href="#__codelineno-119-11"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-119-12"><a id="__codelineno-119-12" name="__codelineno-119-12" href="#__codelineno-119-12"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool usage disabled&quot;</span>
</span><span id="__span-119-13"><a id="__codelineno-119-13" name="__codelineno-119-13" href="#__codelineno-119-13"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-119-14"><a id="__codelineno-119-14" name="__codelineno-119-14" href="#__codelineno-119-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-119-15"><a id="__codelineno-119-15" name="__codelineno-119-15" href="#__codelineno-119-15"></a><span class="w">    </span><span class="c1">-- Check if tool mode is valid</span>
</span><span id="__span-119-16"><a id="__codelineno-119-16" name="__codelineno-119-16" href="#__codelineno-119-16"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()</span>
</span><span id="__span-119-17"><a id="__codelineno-119-17" name="__codelineno-119-17" href="#__codelineno-119-17"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">ToolModes</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">ToolModes</span><span class="p">[</span><span class="nv">mode</span><span class="p">]</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-119-18"><a id="__codelineno-119-18" name="__codelineno-119-18" href="#__codelineno-119-18"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Invalid tool mode&quot;</span>
</span><span id="__span-119-19"><a id="__codelineno-119-19" name="__codelineno-119-19" href="#__codelineno-119-19"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-119-20"><a id="__codelineno-119-20" name="__codelineno-119-20" href="#__codelineno-119-20"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-119-21"><a id="__codelineno-119-21" name="__codelineno-119-21" href="#__codelineno-119-21"></a><span class="w">    </span><span class="c1">-- Initialize mode-specific systems</span>
</span><span id="__span-119-22"><a id="__codelineno-119-22" name="__codelineno-119-22" href="#__codelineno-119-22"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-119-23"><a id="__codelineno-119-23" name="__codelineno-119-23" href="#__codelineno-119-23"></a><span class="w">        </span><span class="c1">-- Server-side initialization</span>
</span><span id="__span-119-24"><a id="__codelineno-119-24" name="__codelineno-119-24" href="#__codelineno-119-24"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">InitializeServerSystems</span><span class="p">()</span>
</span><span id="__span-119-25"><a id="__codelineno-119-25" name="__codelineno-119-25" href="#__codelineno-119-25"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">LoadPlayerData</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-119-26"><a id="__codelineno-119-26" name="__codelineno-119-26" href="#__codelineno-119-26"></a><span class="w">        </span><span class="c1">-- Network tool state to client</span>
</span><span id="__span-119-27"><a id="__codelineno-119-27" name="__codelineno-119-27" href="#__codelineno-119-27"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_deployed&quot;</span><span class="p">)</span>
</span><span id="__span-119-28"><a id="__codelineno-119-28" name="__codelineno-119-28" href="#__codelineno-119-28"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteString</span><span class="p">(</span><span class="nv">mode</span><span class="p">)</span>
</span><span id="__span-119-29"><a id="__codelineno-119-29" name="__codelineno-119-29" href="#__codelineno-119-29"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-119-30"><a id="__codelineno-119-30" name="__codelineno-119-30" href="#__codelineno-119-30"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-119-31"><a id="__codelineno-119-31" name="__codelineno-119-31" href="#__codelineno-119-31"></a><span class="w">        </span><span class="c1">-- Client-side initialization</span>
</span><span id="__span-119-32"><a id="__codelineno-119-32" name="__codelineno-119-32" href="#__codelineno-119-32"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">InitializeClientSystems</span><span class="p">()</span>
</span><span id="__span-119-33"><a id="__codelineno-119-33" name="__codelineno-119-33" href="#__codelineno-119-33"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateGhostEntity</span><span class="p">()</span>
</span><span id="__span-119-34"><a id="__codelineno-119-34" name="__codelineno-119-34" href="#__codelineno-119-34"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-119-35"><a id="__codelineno-119-35" name="__codelineno-119-35" href="#__codelineno-119-35"></a><span class="w">    </span><span class="c1">-- Set initial state</span>
</span><span id="__span-119-36"><a id="__codelineno-119-36" name="__codelineno-119-36" href="#__codelineno-119-36"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-119-37"><a id="__codelineno-119-37" name="__codelineno-119-37" href="#__codelineno-119-37"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastDeploy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-119-38"><a id="__codelineno-119-38" name="__codelineno-119-38" href="#__codelineno-119-38"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;%s tool ready&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">mode</span><span class="p">)</span>
</span><span id="__span-119-39"><a id="__codelineno-119-39" name="__codelineno-119-39" href="#__codelineno-119-39"></a><span class="w">    </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; deployed &quot; .. mode .. &quot; tool</span>
</span><span id="__span-119-40"><a id="__codelineno-119-40" name="__codelineno-119-40" href="#__codelineno-119-40"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="deploy_3">deploy</h3>
<p><strong>Purpose</strong></p>
<p>Handles tool deployment when the weapon is drawn/equipped</p>
<p><strong>When Called</strong></p>
<p>When the player switches to or initially equips the tool gun</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-120-1"><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a><span class="c1">-- Simple: Basic deploy functionality</span>
</span><span id="__span-120-2"><a id="__codelineno-120-2" name="__codelineno-120-2" href="#__codelineno-120-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">deploy</span><span class="p">()</span>
</span><span id="__span-120-3"><a id="__codelineno-120-3" name="__codelineno-120-3" href="#__codelineno-120-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool deployed&quot;</span>
</span><span id="__span-120-4"><a id="__codelineno-120-4" name="__codelineno-120-4" href="#__codelineno-120-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-121-1"><a id="__codelineno-121-1" name="__codelineno-121-1" href="#__codelineno-121-1"></a><span class="c1">-- Medium: Deploy with initialization</span>
</span><span id="__span-121-2"><a id="__codelineno-121-2" name="__codelineno-121-2" href="#__codelineno-121-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">deploy</span><span class="p">()</span>
</span><span id="__span-121-3"><a id="__codelineno-121-3" name="__codelineno-121-3" href="#__codelineno-121-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-121-4"><a id="__codelineno-121-4" name="__codelineno-121-4" href="#__codelineno-121-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-121-5"><a id="__codelineno-121-5" name="__codelineno-121-5" href="#__codelineno-121-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">createConVars</span><span class="p">()</span>
</span><span id="__span-121-6"><a id="__codelineno-121-6" name="__codelineno-121-6" href="#__codelineno-121-6"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool ready&quot;</span>
</span><span id="__span-121-7"><a id="__codelineno-121-7" name="__codelineno-121-7" href="#__codelineno-121-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-122-1"><a id="__codelineno-122-1" name="__codelineno-122-1" href="#__codelineno-122-1"></a><span class="c1">-- High: Advanced deploy with validation and networking</span>
</span><span id="__span-122-2"><a id="__codelineno-122-2" name="__codelineno-122-2" href="#__codelineno-122-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">deploy</span><span class="p">()</span>
</span><span id="__span-122-3"><a id="__codelineno-122-3" name="__codelineno-122-3" href="#__codelineno-122-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-122-4"><a id="__codelineno-122-4" name="__codelineno-122-4" href="#__codelineno-122-4"></a><span class="w">    </span><span class="c1">-- Release any existing ghost entity</span>
</span><span id="__span-122-5"><a id="__codelineno-122-5" name="__codelineno-122-5" href="#__codelineno-122-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-122-6"><a id="__codelineno-122-6" name="__codelineno-122-6" href="#__codelineno-122-6"></a><span class="w">    </span><span class="c1">-- Initialize tool systems</span>
</span><span id="__span-122-7"><a id="__codelineno-122-7" name="__codelineno-122-7" href="#__codelineno-122-7"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
</span><span id="__span-122-8"><a id="__codelineno-122-8" name="__codelineno-122-8" href="#__codelineno-122-8"></a><span class="w">    </span><span class="c1">-- Create ConVars for this session</span>
</span><span id="__span-122-9"><a id="__codelineno-122-9" name="__codelineno-122-9" href="#__codelineno-122-9"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">createConVars</span><span class="p">()</span>
</span><span id="__span-122-10"><a id="__codelineno-122-10" name="__codelineno-122-10" href="#__codelineno-122-10"></a><span class="w">    </span><span class="c1">-- Validate tool mode and permissions</span>
</span><span id="__span-122-11"><a id="__codelineno-122-11" name="__codelineno-122-11" href="#__codelineno-122-11"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">allowed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-122-12"><a id="__codelineno-122-12" name="__codelineno-122-12" href="#__codelineno-122-12"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool usage disabled&quot;</span>
</span><span id="__span-122-13"><a id="__codelineno-122-13" name="__codelineno-122-13" href="#__codelineno-122-13"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-122-14"><a id="__codelineno-122-14" name="__codelineno-122-14" href="#__codelineno-122-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-122-15"><a id="__codelineno-122-15" name="__codelineno-122-15" href="#__codelineno-122-15"></a><span class="w">    </span><span class="c1">-- Check if tool mode is valid</span>
</span><span id="__span-122-16"><a id="__codelineno-122-16" name="__codelineno-122-16" href="#__codelineno-122-16"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()</span>
</span><span id="__span-122-17"><a id="__codelineno-122-17" name="__codelineno-122-17" href="#__codelineno-122-17"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">ToolModes</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">ToolModes</span><span class="p">[</span><span class="nv">mode</span><span class="p">]</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-122-18"><a id="__codelineno-122-18" name="__codelineno-122-18" href="#__codelineno-122-18"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Invalid tool mode&quot;</span>
</span><span id="__span-122-19"><a id="__codelineno-122-19" name="__codelineno-122-19" href="#__codelineno-122-19"></a><span class="w">        </span><span class="kr">return</span>
</span><span id="__span-122-20"><a id="__codelineno-122-20" name="__codelineno-122-20" href="#__codelineno-122-20"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-122-21"><a id="__codelineno-122-21" name="__codelineno-122-21" href="#__codelineno-122-21"></a><span class="w">    </span><span class="c1">-- Initialize mode-specific systems</span>
</span><span id="__span-122-22"><a id="__codelineno-122-22" name="__codelineno-122-22" href="#__codelineno-122-22"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-122-23"><a id="__codelineno-122-23" name="__codelineno-122-23" href="#__codelineno-122-23"></a><span class="w">        </span><span class="c1">-- Server-side initialization</span>
</span><span id="__span-122-24"><a id="__codelineno-122-24" name="__codelineno-122-24" href="#__codelineno-122-24"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">InitializeServerSystems</span><span class="p">()</span>
</span><span id="__span-122-25"><a id="__codelineno-122-25" name="__codelineno-122-25" href="#__codelineno-122-25"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">LoadPlayerData</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-122-26"><a id="__codelineno-122-26" name="__codelineno-122-26" href="#__codelineno-122-26"></a><span class="w">        </span><span class="c1">-- Network tool state to client</span>
</span><span id="__span-122-27"><a id="__codelineno-122-27" name="__codelineno-122-27" href="#__codelineno-122-27"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_deployed&quot;</span><span class="p">)</span>
</span><span id="__span-122-28"><a id="__codelineno-122-28" name="__codelineno-122-28" href="#__codelineno-122-28"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteString</span><span class="p">(</span><span class="nv">mode</span><span class="p">)</span>
</span><span id="__span-122-29"><a id="__codelineno-122-29" name="__codelineno-122-29" href="#__codelineno-122-29"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-122-30"><a id="__codelineno-122-30" name="__codelineno-122-30" href="#__codelineno-122-30"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-122-31"><a id="__codelineno-122-31" name="__codelineno-122-31" href="#__codelineno-122-31"></a><span class="w">        </span><span class="c1">-- Client-side initialization</span>
</span><span id="__span-122-32"><a id="__codelineno-122-32" name="__codelineno-122-32" href="#__codelineno-122-32"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">InitializeClientSystems</span><span class="p">()</span>
</span><span id="__span-122-33"><a id="__codelineno-122-33" name="__codelineno-122-33" href="#__codelineno-122-33"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateGhostEntity</span><span class="p">()</span>
</span><span id="__span-122-34"><a id="__codelineno-122-34" name="__codelineno-122-34" href="#__codelineno-122-34"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-122-35"><a id="__codelineno-122-35" name="__codelineno-122-35" href="#__codelineno-122-35"></a><span class="w">    </span><span class="c1">-- Set initial state</span>
</span><span id="__span-122-36"><a id="__codelineno-122-36" name="__codelineno-122-36" href="#__codelineno-122-36"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-122-37"><a id="__codelineno-122-37" name="__codelineno-122-37" href="#__codelineno-122-37"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastDeploy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-122-38"><a id="__codelineno-122-38" name="__codelineno-122-38" href="#__codelineno-122-38"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;%s tool ready&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">mode</span><span class="p">)</span>
</span><span id="__span-122-39"><a id="__codelineno-122-39" name="__codelineno-122-39" href="#__codelineno-122-39"></a><span class="w">    </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; deployed &quot; .. mode .. &quot; tool</span>
</span><span id="__span-122-40"><a id="__codelineno-122-40" name="__codelineno-122-40" href="#__codelineno-122-40"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="holster">holster</h3>
<p><strong>Purpose</strong></p>
<p>Handles tool holstering when the weapon is put away/switched from</p>
<p><strong>When Called</strong></p>
<p>When the player switches away from the tool gun or puts it away</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-123-1"><a id="__codelineno-123-1" name="__codelineno-123-1" href="#__codelineno-123-1"></a><span class="c1">-- Simple: Basic holster functionality</span>
</span><span id="__span-123-2"><a id="__codelineno-123-2" name="__codelineno-123-2" href="#__codelineno-123-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">holster</span><span class="p">()</span>
</span><span id="__span-123-3"><a id="__codelineno-123-3" name="__codelineno-123-3" href="#__codelineno-123-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-123-4"><a id="__codelineno-123-4" name="__codelineno-123-4" href="#__codelineno-123-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool holstered&quot;</span>
</span><span id="__span-123-5"><a id="__codelineno-123-5" name="__codelineno-123-5" href="#__codelineno-123-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-124-1"><a id="__codelineno-124-1" name="__codelineno-124-1" href="#__codelineno-124-1"></a><span class="c1">-- Medium: Holster with cleanup</span>
</span><span id="__span-124-2"><a id="__codelineno-124-2" name="__codelineno-124-2" href="#__codelineno-124-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">holster</span><span class="p">()</span>
</span><span id="__span-124-3"><a id="__codelineno-124-3" name="__codelineno-124-3" href="#__codelineno-124-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-124-4"><a id="__codelineno-124-4" name="__codelineno-124-4" href="#__codelineno-124-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">SaveToolData</span><span class="p">()</span>
</span><span id="__span-124-5"><a id="__codelineno-124-5" name="__codelineno-124-5" href="#__codelineno-124-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-124-6"><a id="__codelineno-124-6" name="__codelineno-124-6" href="#__codelineno-124-6"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-124-7"><a id="__codelineno-124-7" name="__codelineno-124-7" href="#__codelineno-124-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-125-1"><a id="__codelineno-125-1" name="__codelineno-125-1" href="#__codelineno-125-1"></a><span class="c1">-- High: Advanced holster with state preservation and networking</span>
</span><span id="__span-125-2"><a id="__codelineno-125-2" name="__codelineno-125-2" href="#__codelineno-125-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">holster</span><span class="p">()</span>
</span><span id="__span-125-3"><a id="__codelineno-125-3" name="__codelineno-125-3" href="#__codelineno-125-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-125-4"><a id="__codelineno-125-4" name="__codelineno-125-4" href="#__codelineno-125-4"></a><span class="w">    </span><span class="c1">-- Release ghost entity and clean up visual elements</span>
</span><span id="__span-125-5"><a id="__codelineno-125-5" name="__codelineno-125-5" href="#__codelineno-125-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-125-6"><a id="__codelineno-125-6" name="__codelineno-125-6" href="#__codelineno-125-6"></a><span class="w">    </span><span class="c1">-- Save current tool state if configured</span>
</span><span id="__span-125-7"><a id="__codelineno-125-7" name="__codelineno-125-7" href="#__codelineno-125-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="s2">&quot;save_state_on_holster&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-125-8"><a id="__codelineno-125-8" name="__codelineno-125-8" href="#__codelineno-125-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SaveToolState</span><span class="p">()</span>
</span><span id="__span-125-9"><a id="__codelineno-125-9" name="__codelineno-125-9" href="#__codelineno-125-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-125-10"><a id="__codelineno-125-10" name="__codelineno-125-10" href="#__codelineno-125-10"></a><span class="w">    </span><span class="c1">-- Clean up temporary objects and effects</span>
</span><span id="__span-125-11"><a id="__codelineno-125-11" name="__codelineno-125-11" href="#__codelineno-125-11"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupTemporaryObjects</span><span class="p">()</span>
</span><span id="__span-125-12"><a id="__codelineno-125-12" name="__codelineno-125-12" href="#__codelineno-125-12"></a><span class="w">    </span><span class="c1">-- Reset tool state</span>
</span><span id="__span-125-13"><a id="__codelineno-125-13" name="__codelineno-125-13" href="#__codelineno-125-13"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-125-14"><a id="__codelineno-125-14" name="__codelineno-125-14" href="#__codelineno-125-14"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastInteraction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-125-15"><a id="__codelineno-125-15" name="__codelineno-125-15" href="#__codelineno-125-15"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-125-16"><a id="__codelineno-125-16" name="__codelineno-125-16" href="#__codelineno-125-16"></a><span class="w">    </span><span class="c1">-- Handle realm-specific cleanup</span>
</span><span id="__span-125-17"><a id="__codelineno-125-17" name="__codelineno-125-17" href="#__codelineno-125-17"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-125-18"><a id="__codelineno-125-18" name="__codelineno-125-18" href="#__codelineno-125-18"></a><span class="w">        </span><span class="c1">-- Server-side cleanup</span>
</span><span id="__span-125-19"><a id="__codelineno-125-19" name="__codelineno-125-19" href="#__codelineno-125-19"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SavePlayerData</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-125-20"><a id="__codelineno-125-20" name="__codelineno-125-20" href="#__codelineno-125-20"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupServerObjects</span><span class="p">()</span>
</span><span id="__span-125-21"><a id="__codelineno-125-21" name="__codelineno-125-21" href="#__codelineno-125-21"></a><span class="w">        </span><span class="c1">-- Network holster state to client</span>
</span><span id="__span-125-22"><a id="__codelineno-125-22" name="__codelineno-125-22" href="#__codelineno-125-22"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_holstered&quot;</span><span class="p">)</span>
</span><span id="__span-125-23"><a id="__codelineno-125-23" name="__codelineno-125-23" href="#__codelineno-125-23"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteBool</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="c1">-- Successfully holstered</span>
</span><span id="__span-125-24"><a id="__codelineno-125-24" name="__codelineno-125-24" href="#__codelineno-125-24"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-125-25"><a id="__codelineno-125-25" name="__codelineno-125-25" href="#__codelineno-125-25"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-125-26"><a id="__codelineno-125-26" name="__codelineno-125-26" href="#__codelineno-125-26"></a><span class="w">        </span><span class="c1">-- Client-side cleanup</span>
</span><span id="__span-125-27"><a id="__codelineno-125-27" name="__codelineno-125-27" href="#__codelineno-125-27"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupClientEffects</span><span class="p">()</span>
</span><span id="__span-125-28"><a id="__codelineno-125-28" name="__codelineno-125-28" href="#__codelineno-125-28"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">ResetClientState</span><span class="p">()</span>
</span><span id="__span-125-29"><a id="__codelineno-125-29" name="__codelineno-125-29" href="#__codelineno-125-29"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-125-30"><a id="__codelineno-125-30" name="__codelineno-125-30" href="#__codelineno-125-30"></a><span class="w">    </span><span class="c1">-- Log holster action</span>
</span><span id="__span-125-31"><a id="__codelineno-125-31" name="__codelineno-125-31" href="#__codelineno-125-31"></a><span class="w">    </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; holstered &quot; .. self:getMode() .. &quot; tool</span>
</span><span id="__span-125-32"><a id="__codelineno-125-32" name="__codelineno-125-32" href="#__codelineno-125-32"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="holster_1">holster</h3>
<p><strong>Purpose</strong></p>
<p>Handles tool holstering when the weapon is put away/switched from</p>
<p><strong>When Called</strong></p>
<p>When the player switches away from the tool gun or puts it away</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-126-1"><a id="__codelineno-126-1" name="__codelineno-126-1" href="#__codelineno-126-1"></a><span class="c1">-- Simple: Basic holster functionality</span>
</span><span id="__span-126-2"><a id="__codelineno-126-2" name="__codelineno-126-2" href="#__codelineno-126-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">holster</span><span class="p">()</span>
</span><span id="__span-126-3"><a id="__codelineno-126-3" name="__codelineno-126-3" href="#__codelineno-126-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-126-4"><a id="__codelineno-126-4" name="__codelineno-126-4" href="#__codelineno-126-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool holstered&quot;</span>
</span><span id="__span-126-5"><a id="__codelineno-126-5" name="__codelineno-126-5" href="#__codelineno-126-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-127-1"><a id="__codelineno-127-1" name="__codelineno-127-1" href="#__codelineno-127-1"></a><span class="c1">-- Medium: Holster with cleanup</span>
</span><span id="__span-127-2"><a id="__codelineno-127-2" name="__codelineno-127-2" href="#__codelineno-127-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">holster</span><span class="p">()</span>
</span><span id="__span-127-3"><a id="__codelineno-127-3" name="__codelineno-127-3" href="#__codelineno-127-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-127-4"><a id="__codelineno-127-4" name="__codelineno-127-4" href="#__codelineno-127-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">SaveToolData</span><span class="p">()</span>
</span><span id="__span-127-5"><a id="__codelineno-127-5" name="__codelineno-127-5" href="#__codelineno-127-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-127-6"><a id="__codelineno-127-6" name="__codelineno-127-6" href="#__codelineno-127-6"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-127-7"><a id="__codelineno-127-7" name="__codelineno-127-7" href="#__codelineno-127-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-128-1"><a id="__codelineno-128-1" name="__codelineno-128-1" href="#__codelineno-128-1"></a><span class="c1">-- High: Advanced holster with state preservation and networking</span>
</span><span id="__span-128-2"><a id="__codelineno-128-2" name="__codelineno-128-2" href="#__codelineno-128-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">holster</span><span class="p">()</span>
</span><span id="__span-128-3"><a id="__codelineno-128-3" name="__codelineno-128-3" href="#__codelineno-128-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-128-4"><a id="__codelineno-128-4" name="__codelineno-128-4" href="#__codelineno-128-4"></a><span class="w">    </span><span class="c1">-- Release ghost entity and clean up visual elements</span>
</span><span id="__span-128-5"><a id="__codelineno-128-5" name="__codelineno-128-5" href="#__codelineno-128-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-128-6"><a id="__codelineno-128-6" name="__codelineno-128-6" href="#__codelineno-128-6"></a><span class="w">    </span><span class="c1">-- Save current tool state if configured</span>
</span><span id="__span-128-7"><a id="__codelineno-128-7" name="__codelineno-128-7" href="#__codelineno-128-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="s2">&quot;save_state_on_holster&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-128-8"><a id="__codelineno-128-8" name="__codelineno-128-8" href="#__codelineno-128-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SaveToolState</span><span class="p">()</span>
</span><span id="__span-128-9"><a id="__codelineno-128-9" name="__codelineno-128-9" href="#__codelineno-128-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-128-10"><a id="__codelineno-128-10" name="__codelineno-128-10" href="#__codelineno-128-10"></a><span class="w">    </span><span class="c1">-- Clean up temporary objects and effects</span>
</span><span id="__span-128-11"><a id="__codelineno-128-11" name="__codelineno-128-11" href="#__codelineno-128-11"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupTemporaryObjects</span><span class="p">()</span>
</span><span id="__span-128-12"><a id="__codelineno-128-12" name="__codelineno-128-12" href="#__codelineno-128-12"></a><span class="w">    </span><span class="c1">-- Reset tool state</span>
</span><span id="__span-128-13"><a id="__codelineno-128-13" name="__codelineno-128-13" href="#__codelineno-128-13"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-128-14"><a id="__codelineno-128-14" name="__codelineno-128-14" href="#__codelineno-128-14"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastInteraction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-128-15"><a id="__codelineno-128-15" name="__codelineno-128-15" href="#__codelineno-128-15"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-128-16"><a id="__codelineno-128-16" name="__codelineno-128-16" href="#__codelineno-128-16"></a><span class="w">    </span><span class="c1">-- Handle realm-specific cleanup</span>
</span><span id="__span-128-17"><a id="__codelineno-128-17" name="__codelineno-128-17" href="#__codelineno-128-17"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-128-18"><a id="__codelineno-128-18" name="__codelineno-128-18" href="#__codelineno-128-18"></a><span class="w">        </span><span class="c1">-- Server-side cleanup</span>
</span><span id="__span-128-19"><a id="__codelineno-128-19" name="__codelineno-128-19" href="#__codelineno-128-19"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SavePlayerData</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-128-20"><a id="__codelineno-128-20" name="__codelineno-128-20" href="#__codelineno-128-20"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupServerObjects</span><span class="p">()</span>
</span><span id="__span-128-21"><a id="__codelineno-128-21" name="__codelineno-128-21" href="#__codelineno-128-21"></a><span class="w">        </span><span class="c1">-- Network holster state to client</span>
</span><span id="__span-128-22"><a id="__codelineno-128-22" name="__codelineno-128-22" href="#__codelineno-128-22"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_holstered&quot;</span><span class="p">)</span>
</span><span id="__span-128-23"><a id="__codelineno-128-23" name="__codelineno-128-23" href="#__codelineno-128-23"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteBool</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="c1">-- Successfully holstered</span>
</span><span id="__span-128-24"><a id="__codelineno-128-24" name="__codelineno-128-24" href="#__codelineno-128-24"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-128-25"><a id="__codelineno-128-25" name="__codelineno-128-25" href="#__codelineno-128-25"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-128-26"><a id="__codelineno-128-26" name="__codelineno-128-26" href="#__codelineno-128-26"></a><span class="w">        </span><span class="c1">-- Client-side cleanup</span>
</span><span id="__span-128-27"><a id="__codelineno-128-27" name="__codelineno-128-27" href="#__codelineno-128-27"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupClientEffects</span><span class="p">()</span>
</span><span id="__span-128-28"><a id="__codelineno-128-28" name="__codelineno-128-28" href="#__codelineno-128-28"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">ResetClientState</span><span class="p">()</span>
</span><span id="__span-128-29"><a id="__codelineno-128-29" name="__codelineno-128-29" href="#__codelineno-128-29"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-128-30"><a id="__codelineno-128-30" name="__codelineno-128-30" href="#__codelineno-128-30"></a><span class="w">    </span><span class="c1">-- Log holster action</span>
</span><span id="__span-128-31"><a id="__codelineno-128-31" name="__codelineno-128-31" href="#__codelineno-128-31"></a><span class="w">    </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; holstered &quot; .. self:getMode() .. &quot; tool</span>
</span><span id="__span-128-32"><a id="__codelineno-128-32" name="__codelineno-128-32" href="#__codelineno-128-32"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="holster_2">holster</h3>
<p><strong>Purpose</strong></p>
<p>Handles tool holstering when the weapon is put away/switched from</p>
<p><strong>When Called</strong></p>
<p>When the player switches away from the tool gun or puts it away</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-129-1"><a id="__codelineno-129-1" name="__codelineno-129-1" href="#__codelineno-129-1"></a><span class="c1">-- Simple: Basic holster functionality</span>
</span><span id="__span-129-2"><a id="__codelineno-129-2" name="__codelineno-129-2" href="#__codelineno-129-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">holster</span><span class="p">()</span>
</span><span id="__span-129-3"><a id="__codelineno-129-3" name="__codelineno-129-3" href="#__codelineno-129-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-129-4"><a id="__codelineno-129-4" name="__codelineno-129-4" href="#__codelineno-129-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool holstered&quot;</span>
</span><span id="__span-129-5"><a id="__codelineno-129-5" name="__codelineno-129-5" href="#__codelineno-129-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-130-1"><a id="__codelineno-130-1" name="__codelineno-130-1" href="#__codelineno-130-1"></a><span class="c1">-- Medium: Holster with cleanup</span>
</span><span id="__span-130-2"><a id="__codelineno-130-2" name="__codelineno-130-2" href="#__codelineno-130-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">holster</span><span class="p">()</span>
</span><span id="__span-130-3"><a id="__codelineno-130-3" name="__codelineno-130-3" href="#__codelineno-130-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-130-4"><a id="__codelineno-130-4" name="__codelineno-130-4" href="#__codelineno-130-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">SaveToolData</span><span class="p">()</span>
</span><span id="__span-130-5"><a id="__codelineno-130-5" name="__codelineno-130-5" href="#__codelineno-130-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-130-6"><a id="__codelineno-130-6" name="__codelineno-130-6" href="#__codelineno-130-6"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-130-7"><a id="__codelineno-130-7" name="__codelineno-130-7" href="#__codelineno-130-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-131-1"><a id="__codelineno-131-1" name="__codelineno-131-1" href="#__codelineno-131-1"></a><span class="c1">-- High: Advanced holster with state preservation and networking</span>
</span><span id="__span-131-2"><a id="__codelineno-131-2" name="__codelineno-131-2" href="#__codelineno-131-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">holster</span><span class="p">()</span>
</span><span id="__span-131-3"><a id="__codelineno-131-3" name="__codelineno-131-3" href="#__codelineno-131-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-131-4"><a id="__codelineno-131-4" name="__codelineno-131-4" href="#__codelineno-131-4"></a><span class="w">    </span><span class="c1">-- Release ghost entity and clean up visual elements</span>
</span><span id="__span-131-5"><a id="__codelineno-131-5" name="__codelineno-131-5" href="#__codelineno-131-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-131-6"><a id="__codelineno-131-6" name="__codelineno-131-6" href="#__codelineno-131-6"></a><span class="w">    </span><span class="c1">-- Save current tool state if configured</span>
</span><span id="__span-131-7"><a id="__codelineno-131-7" name="__codelineno-131-7" href="#__codelineno-131-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="s2">&quot;save_state_on_holster&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-131-8"><a id="__codelineno-131-8" name="__codelineno-131-8" href="#__codelineno-131-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SaveToolState</span><span class="p">()</span>
</span><span id="__span-131-9"><a id="__codelineno-131-9" name="__codelineno-131-9" href="#__codelineno-131-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-131-10"><a id="__codelineno-131-10" name="__codelineno-131-10" href="#__codelineno-131-10"></a><span class="w">    </span><span class="c1">-- Clean up temporary objects and effects</span>
</span><span id="__span-131-11"><a id="__codelineno-131-11" name="__codelineno-131-11" href="#__codelineno-131-11"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupTemporaryObjects</span><span class="p">()</span>
</span><span id="__span-131-12"><a id="__codelineno-131-12" name="__codelineno-131-12" href="#__codelineno-131-12"></a><span class="w">    </span><span class="c1">-- Reset tool state</span>
</span><span id="__span-131-13"><a id="__codelineno-131-13" name="__codelineno-131-13" href="#__codelineno-131-13"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-131-14"><a id="__codelineno-131-14" name="__codelineno-131-14" href="#__codelineno-131-14"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastInteraction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-131-15"><a id="__codelineno-131-15" name="__codelineno-131-15" href="#__codelineno-131-15"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-131-16"><a id="__codelineno-131-16" name="__codelineno-131-16" href="#__codelineno-131-16"></a><span class="w">    </span><span class="c1">-- Handle realm-specific cleanup</span>
</span><span id="__span-131-17"><a id="__codelineno-131-17" name="__codelineno-131-17" href="#__codelineno-131-17"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-131-18"><a id="__codelineno-131-18" name="__codelineno-131-18" href="#__codelineno-131-18"></a><span class="w">        </span><span class="c1">-- Server-side cleanup</span>
</span><span id="__span-131-19"><a id="__codelineno-131-19" name="__codelineno-131-19" href="#__codelineno-131-19"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SavePlayerData</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-131-20"><a id="__codelineno-131-20" name="__codelineno-131-20" href="#__codelineno-131-20"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupServerObjects</span><span class="p">()</span>
</span><span id="__span-131-21"><a id="__codelineno-131-21" name="__codelineno-131-21" href="#__codelineno-131-21"></a><span class="w">        </span><span class="c1">-- Network holster state to client</span>
</span><span id="__span-131-22"><a id="__codelineno-131-22" name="__codelineno-131-22" href="#__codelineno-131-22"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_holstered&quot;</span><span class="p">)</span>
</span><span id="__span-131-23"><a id="__codelineno-131-23" name="__codelineno-131-23" href="#__codelineno-131-23"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteBool</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="c1">-- Successfully holstered</span>
</span><span id="__span-131-24"><a id="__codelineno-131-24" name="__codelineno-131-24" href="#__codelineno-131-24"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-131-25"><a id="__codelineno-131-25" name="__codelineno-131-25" href="#__codelineno-131-25"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-131-26"><a id="__codelineno-131-26" name="__codelineno-131-26" href="#__codelineno-131-26"></a><span class="w">        </span><span class="c1">-- Client-side cleanup</span>
</span><span id="__span-131-27"><a id="__codelineno-131-27" name="__codelineno-131-27" href="#__codelineno-131-27"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupClientEffects</span><span class="p">()</span>
</span><span id="__span-131-28"><a id="__codelineno-131-28" name="__codelineno-131-28" href="#__codelineno-131-28"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">ResetClientState</span><span class="p">()</span>
</span><span id="__span-131-29"><a id="__codelineno-131-29" name="__codelineno-131-29" href="#__codelineno-131-29"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-131-30"><a id="__codelineno-131-30" name="__codelineno-131-30" href="#__codelineno-131-30"></a><span class="w">    </span><span class="c1">-- Log holster action</span>
</span><span id="__span-131-31"><a id="__codelineno-131-31" name="__codelineno-131-31" href="#__codelineno-131-31"></a><span class="w">    </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; holstered &quot; .. self:getMode() .. &quot; tool</span>
</span><span id="__span-131-32"><a id="__codelineno-131-32" name="__codelineno-131-32" href="#__codelineno-131-32"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="holster_3">holster</h3>
<p><strong>Purpose</strong></p>
<p>Handles tool holstering when the weapon is put away/switched from</p>
<p><strong>When Called</strong></p>
<p>When the player switches away from the tool gun or puts it away</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-132-1"><a id="__codelineno-132-1" name="__codelineno-132-1" href="#__codelineno-132-1"></a><span class="c1">-- Simple: Basic holster functionality</span>
</span><span id="__span-132-2"><a id="__codelineno-132-2" name="__codelineno-132-2" href="#__codelineno-132-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">holster</span><span class="p">()</span>
</span><span id="__span-132-3"><a id="__codelineno-132-3" name="__codelineno-132-3" href="#__codelineno-132-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-132-4"><a id="__codelineno-132-4" name="__codelineno-132-4" href="#__codelineno-132-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tool holstered&quot;</span>
</span><span id="__span-132-5"><a id="__codelineno-132-5" name="__codelineno-132-5" href="#__codelineno-132-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-133-1"><a id="__codelineno-133-1" name="__codelineno-133-1" href="#__codelineno-133-1"></a><span class="c1">-- Medium: Holster with cleanup</span>
</span><span id="__span-133-2"><a id="__codelineno-133-2" name="__codelineno-133-2" href="#__codelineno-133-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">holster</span><span class="p">()</span>
</span><span id="__span-133-3"><a id="__codelineno-133-3" name="__codelineno-133-3" href="#__codelineno-133-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-133-4"><a id="__codelineno-133-4" name="__codelineno-133-4" href="#__codelineno-133-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">SaveToolData</span><span class="p">()</span>
</span><span id="__span-133-5"><a id="__codelineno-133-5" name="__codelineno-133-5" href="#__codelineno-133-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-133-6"><a id="__codelineno-133-6" name="__codelineno-133-6" href="#__codelineno-133-6"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-133-7"><a id="__codelineno-133-7" name="__codelineno-133-7" href="#__codelineno-133-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-134-1"><a id="__codelineno-134-1" name="__codelineno-134-1" href="#__codelineno-134-1"></a><span class="c1">-- High: Advanced holster with state preservation and networking</span>
</span><span id="__span-134-2"><a id="__codelineno-134-2" name="__codelineno-134-2" href="#__codelineno-134-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">holster</span><span class="p">()</span>
</span><span id="__span-134-3"><a id="__codelineno-134-3" name="__codelineno-134-3" href="#__codelineno-134-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-134-4"><a id="__codelineno-134-4" name="__codelineno-134-4" href="#__codelineno-134-4"></a><span class="w">    </span><span class="c1">-- Release ghost entity and clean up visual elements</span>
</span><span id="__span-134-5"><a id="__codelineno-134-5" name="__codelineno-134-5" href="#__codelineno-134-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-134-6"><a id="__codelineno-134-6" name="__codelineno-134-6" href="#__codelineno-134-6"></a><span class="w">    </span><span class="c1">-- Save current tool state if configured</span>
</span><span id="__span-134-7"><a id="__codelineno-134-7" name="__codelineno-134-7" href="#__codelineno-134-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="s2">&quot;save_state_on_holster&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-134-8"><a id="__codelineno-134-8" name="__codelineno-134-8" href="#__codelineno-134-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SaveToolState</span><span class="p">()</span>
</span><span id="__span-134-9"><a id="__codelineno-134-9" name="__codelineno-134-9" href="#__codelineno-134-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-134-10"><a id="__codelineno-134-10" name="__codelineno-134-10" href="#__codelineno-134-10"></a><span class="w">    </span><span class="c1">-- Clean up temporary objects and effects</span>
</span><span id="__span-134-11"><a id="__codelineno-134-11" name="__codelineno-134-11" href="#__codelineno-134-11"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupTemporaryObjects</span><span class="p">()</span>
</span><span id="__span-134-12"><a id="__codelineno-134-12" name="__codelineno-134-12" href="#__codelineno-134-12"></a><span class="w">    </span><span class="c1">-- Reset tool state</span>
</span><span id="__span-134-13"><a id="__codelineno-134-13" name="__codelineno-134-13" href="#__codelineno-134-13"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-134-14"><a id="__codelineno-134-14" name="__codelineno-134-14" href="#__codelineno-134-14"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastInteraction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-134-15"><a id="__codelineno-134-15" name="__codelineno-134-15" href="#__codelineno-134-15"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-134-16"><a id="__codelineno-134-16" name="__codelineno-134-16" href="#__codelineno-134-16"></a><span class="w">    </span><span class="c1">-- Handle realm-specific cleanup</span>
</span><span id="__span-134-17"><a id="__codelineno-134-17" name="__codelineno-134-17" href="#__codelineno-134-17"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-134-18"><a id="__codelineno-134-18" name="__codelineno-134-18" href="#__codelineno-134-18"></a><span class="w">        </span><span class="c1">-- Server-side cleanup</span>
</span><span id="__span-134-19"><a id="__codelineno-134-19" name="__codelineno-134-19" href="#__codelineno-134-19"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SavePlayerData</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-134-20"><a id="__codelineno-134-20" name="__codelineno-134-20" href="#__codelineno-134-20"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupServerObjects</span><span class="p">()</span>
</span><span id="__span-134-21"><a id="__codelineno-134-21" name="__codelineno-134-21" href="#__codelineno-134-21"></a><span class="w">        </span><span class="c1">-- Network holster state to client</span>
</span><span id="__span-134-22"><a id="__codelineno-134-22" name="__codelineno-134-22" href="#__codelineno-134-22"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_holstered&quot;</span><span class="p">)</span>
</span><span id="__span-134-23"><a id="__codelineno-134-23" name="__codelineno-134-23" href="#__codelineno-134-23"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteBool</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="c1">-- Successfully holstered</span>
</span><span id="__span-134-24"><a id="__codelineno-134-24" name="__codelineno-134-24" href="#__codelineno-134-24"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-134-25"><a id="__codelineno-134-25" name="__codelineno-134-25" href="#__codelineno-134-25"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-134-26"><a id="__codelineno-134-26" name="__codelineno-134-26" href="#__codelineno-134-26"></a><span class="w">        </span><span class="c1">-- Client-side cleanup</span>
</span><span id="__span-134-27"><a id="__codelineno-134-27" name="__codelineno-134-27" href="#__codelineno-134-27"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupClientEffects</span><span class="p">()</span>
</span><span id="__span-134-28"><a id="__codelineno-134-28" name="__codelineno-134-28" href="#__codelineno-134-28"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">ResetClientState</span><span class="p">()</span>
</span><span id="__span-134-29"><a id="__codelineno-134-29" name="__codelineno-134-29" href="#__codelineno-134-29"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-134-30"><a id="__codelineno-134-30" name="__codelineno-134-30" href="#__codelineno-134-30"></a><span class="w">    </span><span class="c1">-- Log holster action</span>
</span><span id="__span-134-31"><a id="__codelineno-134-31" name="__codelineno-134-31" href="#__codelineno-134-31"></a><span class="w">    </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; holstered &quot; .. self:getMode() .. &quot; tool</span>
</span><span id="__span-134-32"><a id="__codelineno-134-32" name="__codelineno-134-32" href="#__codelineno-134-32"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="think">think</h3>
<p><strong>Purpose</strong></p>
<p>Main think function called every frame while the tool is active (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>Every frame/tick while the tool gun is deployed and active</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-135-1"><a id="__codelineno-135-1" name="__codelineno-135-1" href="#__codelineno-135-1"></a><span class="c1">-- Simple: Basic per-frame updates</span>
</span><span id="__span-135-2"><a id="__codelineno-135-2" name="__codelineno-135-2" href="#__codelineno-135-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">think</span><span class="p">()</span>
</span><span id="__span-135-3"><a id="__codelineno-135-3" name="__codelineno-135-3" href="#__codelineno-135-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-135-4"><a id="__codelineno-135-4" name="__codelineno-135-4" href="#__codelineno-135-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-135-5"><a id="__codelineno-135-5" name="__codelineno-135-5" href="#__codelineno-135-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-136-1"><a id="__codelineno-136-1" name="__codelineno-136-1" href="#__codelineno-136-1"></a><span class="c1">-- Medium: Think with ghost entity management</span>
</span><span id="__span-136-2"><a id="__codelineno-136-2" name="__codelineno-136-2" href="#__codelineno-136-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">think</span><span class="p">()</span>
</span><span id="__span-136-3"><a id="__codelineno-136-3" name="__codelineno-136-3" href="#__codelineno-136-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-136-4"><a id="__codelineno-136-4" name="__codelineno-136-4" href="#__codelineno-136-4"></a><span class="w">    </span><span class="c1">-- Update ghost entity position if it exists</span>
</span><span id="__span-136-5"><a id="__codelineno-136-5" name="__codelineno-136-5" href="#__codelineno-136-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-136-6"><a id="__codelineno-136-6" name="__codelineno-136-6" href="#__codelineno-136-6"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateGhostEntity</span><span class="p">()</span>
</span><span id="__span-136-7"><a id="__codelineno-136-7" name="__codelineno-136-7" href="#__codelineno-136-7"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-136-8"><a id="__codelineno-136-8" name="__codelineno-136-8" href="#__codelineno-136-8"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-136-9"><a id="__codelineno-136-9" name="__codelineno-136-9" href="#__codelineno-136-9"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-136-10"><a id="__codelineno-136-10" name="__codelineno-136-10" href="#__codelineno-136-10"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-136-11"><a id="__codelineno-136-11" name="__codelineno-136-11" href="#__codelineno-136-11"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">SetAngles</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitNormal</span><span class="p">:</span><span class="nf">Angle</span><span class="p">())</span>
</span><span id="__span-136-12"><a id="__codelineno-136-12" name="__codelineno-136-12" href="#__codelineno-136-12"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-136-13"><a id="__codelineno-136-13" name="__codelineno-136-13" href="#__codelineno-136-13"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-136-14"><a id="__codelineno-136-14" name="__codelineno-136-14" href="#__codelineno-136-14"></a><span class="w">    </span><span class="c1">-- Update tool state</span>
</span><span id="__span-136-15"><a id="__codelineno-136-15" name="__codelineno-136-15" href="#__codelineno-136-15"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-136-16"><a id="__codelineno-136-16" name="__codelineno-136-16" href="#__codelineno-136-16"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-137-1"><a id="__codelineno-137-1" name="__codelineno-137-1" href="#__codelineno-137-1"></a><span class="c1">-- High: Advanced think with multiple systems and networking</span>
</span><span id="__span-137-2"><a id="__codelineno-137-2" name="__codelineno-137-2" href="#__codelineno-137-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">think</span><span class="p">()</span>
</span><span id="__span-137-3"><a id="__codelineno-137-3" name="__codelineno-137-3" href="#__codelineno-137-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-137-4"><a id="__codelineno-137-4" name="__codelineno-137-4" href="#__codelineno-137-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">curTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-137-5"><a id="__codelineno-137-5" name="__codelineno-137-5" href="#__codelineno-137-5"></a><span class="w">    </span><span class="c1">-- Rate limiting for performance</span>
</span><span id="__span-137-6"><a id="__codelineno-137-6" name="__codelineno-137-6" href="#__codelineno-137-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">LastThink</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">curTime</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">LastThink</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-137-7"><a id="__codelineno-137-7" name="__codelineno-137-7" href="#__codelineno-137-7"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">LastThink</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">curTime</span>
</span><span id="__span-137-8"><a id="__codelineno-137-8" name="__codelineno-137-8" href="#__codelineno-137-8"></a><span class="w">        </span><span class="c1">-- Update ghost entity with advanced positioning</span>
</span><span id="__span-137-9"><a id="__codelineno-137-9" name="__codelineno-137-9" href="#__codelineno-137-9"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">UpdateGhostEntity</span><span class="p">()</span>
</span><span id="__span-137-10"><a id="__codelineno-137-10" name="__codelineno-137-10" href="#__codelineno-137-10"></a><span class="w">        </span><span class="c1">-- Check object validity and cleanup invalid ones</span>
</span><span id="__span-137-11"><a id="__codelineno-137-11" name="__codelineno-137-11" href="#__codelineno-137-11"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-137-12"><a id="__codelineno-137-12" name="__codelineno-137-12" href="#__codelineno-137-12"></a><span class="w">        </span><span class="c1">-- Update tool data and state</span>
</span><span id="__span-137-13"><a id="__codelineno-137-13" name="__codelineno-137-13" href="#__codelineno-137-13"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-137-14"><a id="__codelineno-137-14" name="__codelineno-137-14" href="#__codelineno-137-14"></a><span class="w">        </span><span class="c1">-- Handle player input and interactions</span>
</span><span id="__span-137-15"><a id="__codelineno-137-15" name="__codelineno-137-15" href="#__codelineno-137-15"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_ATTACK</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">LastLeftClick</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-137-16"><a id="__codelineno-137-16" name="__codelineno-137-16" href="#__codelineno-137-16"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-137-17"><a id="__codelineno-137-17" name="__codelineno-137-17" href="#__codelineno-137-17"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastLeftClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-137-18"><a id="__codelineno-137-18" name="__codelineno-137-18" href="#__codelineno-137-18"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_ATTACK</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-137-19"><a id="__codelineno-137-19" name="__codelineno-137-19" href="#__codelineno-137-19"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastLeftClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-137-20"><a id="__codelineno-137-20" name="__codelineno-137-20" href="#__codelineno-137-20"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-137-21"><a id="__codelineno-137-21" name="__codelineno-137-21" href="#__codelineno-137-21"></a><span class="w">        </span><span class="c1">-- Network updates to clients (server only)</span>
</span><span id="__span-137-22"><a id="__codelineno-137-22" name="__codelineno-137-22" href="#__codelineno-137-22"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">curTime</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">LastNetworkUpdate</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-137-23"><a id="__codelineno-137-23" name="__codelineno-137-23" href="#__codelineno-137-23"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">NetworkToolState</span><span class="p">()</span>
</span><span id="__span-137-24"><a id="__codelineno-137-24" name="__codelineno-137-24" href="#__codelineno-137-24"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastNetworkUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">curTime</span>
</span><span id="__span-137-25"><a id="__codelineno-137-25" name="__codelineno-137-25" href="#__codelineno-137-25"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-137-26"><a id="__codelineno-137-26" name="__codelineno-137-26" href="#__codelineno-137-26"></a><span class="w">        </span><span class="c1">-- Update effects and visual feedback</span>
</span><span id="__span-137-27"><a id="__codelineno-137-27" name="__codelineno-137-27" href="#__codelineno-137-27"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">UpdateVisualEffects</span><span class="p">()</span>
</span><span id="__span-137-28"><a id="__codelineno-137-28" name="__codelineno-137-28" href="#__codelineno-137-28"></a><span class="w">        </span><span class="c1">-- Check for tool mode changes</span>
</span><span id="__span-137-29"><a id="__codelineno-137-29" name="__codelineno-137-29" href="#__codelineno-137-29"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">ShouldChangeMode</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-137-30"><a id="__codelineno-137-30" name="__codelineno-137-30" href="#__codelineno-137-30"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">ChangeToolMode</span><span class="p">()</span>
</span><span id="__span-137-31"><a id="__codelineno-137-31" name="__codelineno-137-31" href="#__codelineno-137-31"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-137-32"><a id="__codelineno-137-32" name="__codelineno-137-32" href="#__codelineno-137-32"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-137-33"><a id="__codelineno-137-33" name="__codelineno-137-33" href="#__codelineno-137-33"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="think_1">think</h3>
<p><strong>Purpose</strong></p>
<p>Main think function called every frame while the tool is active (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>Every frame/tick while the tool gun is deployed and active</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-138-1"><a id="__codelineno-138-1" name="__codelineno-138-1" href="#__codelineno-138-1"></a><span class="c1">-- Simple: Basic per-frame updates</span>
</span><span id="__span-138-2"><a id="__codelineno-138-2" name="__codelineno-138-2" href="#__codelineno-138-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">think</span><span class="p">()</span>
</span><span id="__span-138-3"><a id="__codelineno-138-3" name="__codelineno-138-3" href="#__codelineno-138-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-138-4"><a id="__codelineno-138-4" name="__codelineno-138-4" href="#__codelineno-138-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-138-5"><a id="__codelineno-138-5" name="__codelineno-138-5" href="#__codelineno-138-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-139-1"><a id="__codelineno-139-1" name="__codelineno-139-1" href="#__codelineno-139-1"></a><span class="c1">-- Medium: Think with ghost entity management</span>
</span><span id="__span-139-2"><a id="__codelineno-139-2" name="__codelineno-139-2" href="#__codelineno-139-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">think</span><span class="p">()</span>
</span><span id="__span-139-3"><a id="__codelineno-139-3" name="__codelineno-139-3" href="#__codelineno-139-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-139-4"><a id="__codelineno-139-4" name="__codelineno-139-4" href="#__codelineno-139-4"></a><span class="w">    </span><span class="c1">-- Update ghost entity position if it exists</span>
</span><span id="__span-139-5"><a id="__codelineno-139-5" name="__codelineno-139-5" href="#__codelineno-139-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-139-6"><a id="__codelineno-139-6" name="__codelineno-139-6" href="#__codelineno-139-6"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateGhostEntity</span><span class="p">()</span>
</span><span id="__span-139-7"><a id="__codelineno-139-7" name="__codelineno-139-7" href="#__codelineno-139-7"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-139-8"><a id="__codelineno-139-8" name="__codelineno-139-8" href="#__codelineno-139-8"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-139-9"><a id="__codelineno-139-9" name="__codelineno-139-9" href="#__codelineno-139-9"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-139-10"><a id="__codelineno-139-10" name="__codelineno-139-10" href="#__codelineno-139-10"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-139-11"><a id="__codelineno-139-11" name="__codelineno-139-11" href="#__codelineno-139-11"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">SetAngles</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitNormal</span><span class="p">:</span><span class="nf">Angle</span><span class="p">())</span>
</span><span id="__span-139-12"><a id="__codelineno-139-12" name="__codelineno-139-12" href="#__codelineno-139-12"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-139-13"><a id="__codelineno-139-13" name="__codelineno-139-13" href="#__codelineno-139-13"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-139-14"><a id="__codelineno-139-14" name="__codelineno-139-14" href="#__codelineno-139-14"></a><span class="w">    </span><span class="c1">-- Update tool state</span>
</span><span id="__span-139-15"><a id="__codelineno-139-15" name="__codelineno-139-15" href="#__codelineno-139-15"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-139-16"><a id="__codelineno-139-16" name="__codelineno-139-16" href="#__codelineno-139-16"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-140-1"><a id="__codelineno-140-1" name="__codelineno-140-1" href="#__codelineno-140-1"></a><span class="c1">-- High: Advanced think with multiple systems and networking</span>
</span><span id="__span-140-2"><a id="__codelineno-140-2" name="__codelineno-140-2" href="#__codelineno-140-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">think</span><span class="p">()</span>
</span><span id="__span-140-3"><a id="__codelineno-140-3" name="__codelineno-140-3" href="#__codelineno-140-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-140-4"><a id="__codelineno-140-4" name="__codelineno-140-4" href="#__codelineno-140-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">curTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-140-5"><a id="__codelineno-140-5" name="__codelineno-140-5" href="#__codelineno-140-5"></a><span class="w">    </span><span class="c1">-- Rate limiting for performance</span>
</span><span id="__span-140-6"><a id="__codelineno-140-6" name="__codelineno-140-6" href="#__codelineno-140-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">LastThink</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">curTime</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">LastThink</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-140-7"><a id="__codelineno-140-7" name="__codelineno-140-7" href="#__codelineno-140-7"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">LastThink</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">curTime</span>
</span><span id="__span-140-8"><a id="__codelineno-140-8" name="__codelineno-140-8" href="#__codelineno-140-8"></a><span class="w">        </span><span class="c1">-- Update ghost entity with advanced positioning</span>
</span><span id="__span-140-9"><a id="__codelineno-140-9" name="__codelineno-140-9" href="#__codelineno-140-9"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">UpdateGhostEntity</span><span class="p">()</span>
</span><span id="__span-140-10"><a id="__codelineno-140-10" name="__codelineno-140-10" href="#__codelineno-140-10"></a><span class="w">        </span><span class="c1">-- Check object validity and cleanup invalid ones</span>
</span><span id="__span-140-11"><a id="__codelineno-140-11" name="__codelineno-140-11" href="#__codelineno-140-11"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-140-12"><a id="__codelineno-140-12" name="__codelineno-140-12" href="#__codelineno-140-12"></a><span class="w">        </span><span class="c1">-- Update tool data and state</span>
</span><span id="__span-140-13"><a id="__codelineno-140-13" name="__codelineno-140-13" href="#__codelineno-140-13"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-140-14"><a id="__codelineno-140-14" name="__codelineno-140-14" href="#__codelineno-140-14"></a><span class="w">        </span><span class="c1">-- Handle player input and interactions</span>
</span><span id="__span-140-15"><a id="__codelineno-140-15" name="__codelineno-140-15" href="#__codelineno-140-15"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_ATTACK</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">LastLeftClick</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-140-16"><a id="__codelineno-140-16" name="__codelineno-140-16" href="#__codelineno-140-16"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-140-17"><a id="__codelineno-140-17" name="__codelineno-140-17" href="#__codelineno-140-17"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastLeftClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-140-18"><a id="__codelineno-140-18" name="__codelineno-140-18" href="#__codelineno-140-18"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_ATTACK</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-140-19"><a id="__codelineno-140-19" name="__codelineno-140-19" href="#__codelineno-140-19"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastLeftClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-140-20"><a id="__codelineno-140-20" name="__codelineno-140-20" href="#__codelineno-140-20"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-140-21"><a id="__codelineno-140-21" name="__codelineno-140-21" href="#__codelineno-140-21"></a><span class="w">        </span><span class="c1">-- Network updates to clients (server only)</span>
</span><span id="__span-140-22"><a id="__codelineno-140-22" name="__codelineno-140-22" href="#__codelineno-140-22"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">curTime</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">LastNetworkUpdate</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-140-23"><a id="__codelineno-140-23" name="__codelineno-140-23" href="#__codelineno-140-23"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">NetworkToolState</span><span class="p">()</span>
</span><span id="__span-140-24"><a id="__codelineno-140-24" name="__codelineno-140-24" href="#__codelineno-140-24"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastNetworkUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">curTime</span>
</span><span id="__span-140-25"><a id="__codelineno-140-25" name="__codelineno-140-25" href="#__codelineno-140-25"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-140-26"><a id="__codelineno-140-26" name="__codelineno-140-26" href="#__codelineno-140-26"></a><span class="w">        </span><span class="c1">-- Update effects and visual feedback</span>
</span><span id="__span-140-27"><a id="__codelineno-140-27" name="__codelineno-140-27" href="#__codelineno-140-27"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">UpdateVisualEffects</span><span class="p">()</span>
</span><span id="__span-140-28"><a id="__codelineno-140-28" name="__codelineno-140-28" href="#__codelineno-140-28"></a><span class="w">        </span><span class="c1">-- Check for tool mode changes</span>
</span><span id="__span-140-29"><a id="__codelineno-140-29" name="__codelineno-140-29" href="#__codelineno-140-29"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">ShouldChangeMode</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-140-30"><a id="__codelineno-140-30" name="__codelineno-140-30" href="#__codelineno-140-30"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">ChangeToolMode</span><span class="p">()</span>
</span><span id="__span-140-31"><a id="__codelineno-140-31" name="__codelineno-140-31" href="#__codelineno-140-31"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-140-32"><a id="__codelineno-140-32" name="__codelineno-140-32" href="#__codelineno-140-32"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-140-33"><a id="__codelineno-140-33" name="__codelineno-140-33" href="#__codelineno-140-33"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="think_2">think</h3>
<p><strong>Purpose</strong></p>
<p>Main think function called every frame while the tool is active (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>Every frame/tick while the tool gun is deployed and active</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-141-1"><a id="__codelineno-141-1" name="__codelineno-141-1" href="#__codelineno-141-1"></a><span class="c1">-- Simple: Basic per-frame updates</span>
</span><span id="__span-141-2"><a id="__codelineno-141-2" name="__codelineno-141-2" href="#__codelineno-141-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">think</span><span class="p">()</span>
</span><span id="__span-141-3"><a id="__codelineno-141-3" name="__codelineno-141-3" href="#__codelineno-141-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-141-4"><a id="__codelineno-141-4" name="__codelineno-141-4" href="#__codelineno-141-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-141-5"><a id="__codelineno-141-5" name="__codelineno-141-5" href="#__codelineno-141-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-142-1"><a id="__codelineno-142-1" name="__codelineno-142-1" href="#__codelineno-142-1"></a><span class="c1">-- Medium: Think with ghost entity management</span>
</span><span id="__span-142-2"><a id="__codelineno-142-2" name="__codelineno-142-2" href="#__codelineno-142-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">think</span><span class="p">()</span>
</span><span id="__span-142-3"><a id="__codelineno-142-3" name="__codelineno-142-3" href="#__codelineno-142-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-142-4"><a id="__codelineno-142-4" name="__codelineno-142-4" href="#__codelineno-142-4"></a><span class="w">    </span><span class="c1">-- Update ghost entity position if it exists</span>
</span><span id="__span-142-5"><a id="__codelineno-142-5" name="__codelineno-142-5" href="#__codelineno-142-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-142-6"><a id="__codelineno-142-6" name="__codelineno-142-6" href="#__codelineno-142-6"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateGhostEntity</span><span class="p">()</span>
</span><span id="__span-142-7"><a id="__codelineno-142-7" name="__codelineno-142-7" href="#__codelineno-142-7"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-142-8"><a id="__codelineno-142-8" name="__codelineno-142-8" href="#__codelineno-142-8"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-142-9"><a id="__codelineno-142-9" name="__codelineno-142-9" href="#__codelineno-142-9"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-142-10"><a id="__codelineno-142-10" name="__codelineno-142-10" href="#__codelineno-142-10"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-142-11"><a id="__codelineno-142-11" name="__codelineno-142-11" href="#__codelineno-142-11"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">SetAngles</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitNormal</span><span class="p">:</span><span class="nf">Angle</span><span class="p">())</span>
</span><span id="__span-142-12"><a id="__codelineno-142-12" name="__codelineno-142-12" href="#__codelineno-142-12"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-142-13"><a id="__codelineno-142-13" name="__codelineno-142-13" href="#__codelineno-142-13"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-142-14"><a id="__codelineno-142-14" name="__codelineno-142-14" href="#__codelineno-142-14"></a><span class="w">    </span><span class="c1">-- Update tool state</span>
</span><span id="__span-142-15"><a id="__codelineno-142-15" name="__codelineno-142-15" href="#__codelineno-142-15"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-142-16"><a id="__codelineno-142-16" name="__codelineno-142-16" href="#__codelineno-142-16"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-143-1"><a id="__codelineno-143-1" name="__codelineno-143-1" href="#__codelineno-143-1"></a><span class="c1">-- High: Advanced think with multiple systems and networking</span>
</span><span id="__span-143-2"><a id="__codelineno-143-2" name="__codelineno-143-2" href="#__codelineno-143-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">think</span><span class="p">()</span>
</span><span id="__span-143-3"><a id="__codelineno-143-3" name="__codelineno-143-3" href="#__codelineno-143-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-143-4"><a id="__codelineno-143-4" name="__codelineno-143-4" href="#__codelineno-143-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">curTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-143-5"><a id="__codelineno-143-5" name="__codelineno-143-5" href="#__codelineno-143-5"></a><span class="w">    </span><span class="c1">-- Rate limiting for performance</span>
</span><span id="__span-143-6"><a id="__codelineno-143-6" name="__codelineno-143-6" href="#__codelineno-143-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">LastThink</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">curTime</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">LastThink</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-143-7"><a id="__codelineno-143-7" name="__codelineno-143-7" href="#__codelineno-143-7"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">LastThink</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">curTime</span>
</span><span id="__span-143-8"><a id="__codelineno-143-8" name="__codelineno-143-8" href="#__codelineno-143-8"></a><span class="w">        </span><span class="c1">-- Update ghost entity with advanced positioning</span>
</span><span id="__span-143-9"><a id="__codelineno-143-9" name="__codelineno-143-9" href="#__codelineno-143-9"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">UpdateGhostEntity</span><span class="p">()</span>
</span><span id="__span-143-10"><a id="__codelineno-143-10" name="__codelineno-143-10" href="#__codelineno-143-10"></a><span class="w">        </span><span class="c1">-- Check object validity and cleanup invalid ones</span>
</span><span id="__span-143-11"><a id="__codelineno-143-11" name="__codelineno-143-11" href="#__codelineno-143-11"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-143-12"><a id="__codelineno-143-12" name="__codelineno-143-12" href="#__codelineno-143-12"></a><span class="w">        </span><span class="c1">-- Update tool data and state</span>
</span><span id="__span-143-13"><a id="__codelineno-143-13" name="__codelineno-143-13" href="#__codelineno-143-13"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-143-14"><a id="__codelineno-143-14" name="__codelineno-143-14" href="#__codelineno-143-14"></a><span class="w">        </span><span class="c1">-- Handle player input and interactions</span>
</span><span id="__span-143-15"><a id="__codelineno-143-15" name="__codelineno-143-15" href="#__codelineno-143-15"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_ATTACK</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">LastLeftClick</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-143-16"><a id="__codelineno-143-16" name="__codelineno-143-16" href="#__codelineno-143-16"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-143-17"><a id="__codelineno-143-17" name="__codelineno-143-17" href="#__codelineno-143-17"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastLeftClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-143-18"><a id="__codelineno-143-18" name="__codelineno-143-18" href="#__codelineno-143-18"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_ATTACK</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-143-19"><a id="__codelineno-143-19" name="__codelineno-143-19" href="#__codelineno-143-19"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastLeftClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-143-20"><a id="__codelineno-143-20" name="__codelineno-143-20" href="#__codelineno-143-20"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-143-21"><a id="__codelineno-143-21" name="__codelineno-143-21" href="#__codelineno-143-21"></a><span class="w">        </span><span class="c1">-- Network updates to clients (server only)</span>
</span><span id="__span-143-22"><a id="__codelineno-143-22" name="__codelineno-143-22" href="#__codelineno-143-22"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">curTime</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">LastNetworkUpdate</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-143-23"><a id="__codelineno-143-23" name="__codelineno-143-23" href="#__codelineno-143-23"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">NetworkToolState</span><span class="p">()</span>
</span><span id="__span-143-24"><a id="__codelineno-143-24" name="__codelineno-143-24" href="#__codelineno-143-24"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastNetworkUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">curTime</span>
</span><span id="__span-143-25"><a id="__codelineno-143-25" name="__codelineno-143-25" href="#__codelineno-143-25"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-143-26"><a id="__codelineno-143-26" name="__codelineno-143-26" href="#__codelineno-143-26"></a><span class="w">        </span><span class="c1">-- Update effects and visual feedback</span>
</span><span id="__span-143-27"><a id="__codelineno-143-27" name="__codelineno-143-27" href="#__codelineno-143-27"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">UpdateVisualEffects</span><span class="p">()</span>
</span><span id="__span-143-28"><a id="__codelineno-143-28" name="__codelineno-143-28" href="#__codelineno-143-28"></a><span class="w">        </span><span class="c1">-- Check for tool mode changes</span>
</span><span id="__span-143-29"><a id="__codelineno-143-29" name="__codelineno-143-29" href="#__codelineno-143-29"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">ShouldChangeMode</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-143-30"><a id="__codelineno-143-30" name="__codelineno-143-30" href="#__codelineno-143-30"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">ChangeToolMode</span><span class="p">()</span>
</span><span id="__span-143-31"><a id="__codelineno-143-31" name="__codelineno-143-31" href="#__codelineno-143-31"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-143-32"><a id="__codelineno-143-32" name="__codelineno-143-32" href="#__codelineno-143-32"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-143-33"><a id="__codelineno-143-33" name="__codelineno-143-33" href="#__codelineno-143-33"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="think_3">think</h3>
<p><strong>Purpose</strong></p>
<p>Main think function called every frame while the tool is active (placeholder for custom implementation)</p>
<p><strong>When Called</strong></p>
<p>Every frame/tick while the tool gun is deployed and active</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared (can be overridden for specific tool behavior)</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-144-1"><a id="__codelineno-144-1" name="__codelineno-144-1" href="#__codelineno-144-1"></a><span class="c1">-- Simple: Basic per-frame updates</span>
</span><span id="__span-144-2"><a id="__codelineno-144-2" name="__codelineno-144-2" href="#__codelineno-144-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">think</span><span class="p">()</span>
</span><span id="__span-144-3"><a id="__codelineno-144-3" name="__codelineno-144-3" href="#__codelineno-144-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-144-4"><a id="__codelineno-144-4" name="__codelineno-144-4" href="#__codelineno-144-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-144-5"><a id="__codelineno-144-5" name="__codelineno-144-5" href="#__codelineno-144-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-145-1"><a id="__codelineno-145-1" name="__codelineno-145-1" href="#__codelineno-145-1"></a><span class="c1">-- Medium: Think with ghost entity management</span>
</span><span id="__span-145-2"><a id="__codelineno-145-2" name="__codelineno-145-2" href="#__codelineno-145-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">think</span><span class="p">()</span>
</span><span id="__span-145-3"><a id="__codelineno-145-3" name="__codelineno-145-3" href="#__codelineno-145-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-145-4"><a id="__codelineno-145-4" name="__codelineno-145-4" href="#__codelineno-145-4"></a><span class="w">    </span><span class="c1">-- Update ghost entity position if it exists</span>
</span><span id="__span-145-5"><a id="__codelineno-145-5" name="__codelineno-145-5" href="#__codelineno-145-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-145-6"><a id="__codelineno-145-6" name="__codelineno-145-6" href="#__codelineno-145-6"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CreateGhostEntity</span><span class="p">()</span>
</span><span id="__span-145-7"><a id="__codelineno-145-7" name="__codelineno-145-7" href="#__codelineno-145-7"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-145-8"><a id="__codelineno-145-8" name="__codelineno-145-8" href="#__codelineno-145-8"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetEyeTrace</span><span class="p">()</span>
</span><span id="__span-145-9"><a id="__codelineno-145-9" name="__codelineno-145-9" href="#__codelineno-145-9"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">trace</span><span class="p">.</span><span class="py">Hit</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-145-10"><a id="__codelineno-145-10" name="__codelineno-145-10" href="#__codelineno-145-10"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitPos</span><span class="p">)</span>
</span><span id="__span-145-11"><a id="__codelineno-145-11" name="__codelineno-145-11" href="#__codelineno-145-11"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">SetAngles</span><span class="p">(</span><span class="nv">trace</span><span class="p">.</span><span class="py">HitNormal</span><span class="p">:</span><span class="nf">Angle</span><span class="p">())</span>
</span><span id="__span-145-12"><a id="__codelineno-145-12" name="__codelineno-145-12" href="#__codelineno-145-12"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-145-13"><a id="__codelineno-145-13" name="__codelineno-145-13" href="#__codelineno-145-13"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-145-14"><a id="__codelineno-145-14" name="__codelineno-145-14" href="#__codelineno-145-14"></a><span class="w">    </span><span class="c1">-- Update tool state</span>
</span><span id="__span-145-15"><a id="__codelineno-145-15" name="__codelineno-145-15" href="#__codelineno-145-15"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-145-16"><a id="__codelineno-145-16" name="__codelineno-145-16" href="#__codelineno-145-16"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-146-1"><a id="__codelineno-146-1" name="__codelineno-146-1" href="#__codelineno-146-1"></a><span class="c1">-- High: Advanced think with multiple systems and networking</span>
</span><span id="__span-146-2"><a id="__codelineno-146-2" name="__codelineno-146-2" href="#__codelineno-146-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">think</span><span class="p">()</span>
</span><span id="__span-146-3"><a id="__codelineno-146-3" name="__codelineno-146-3" href="#__codelineno-146-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-146-4"><a id="__codelineno-146-4" name="__codelineno-146-4" href="#__codelineno-146-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">curTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-146-5"><a id="__codelineno-146-5" name="__codelineno-146-5" href="#__codelineno-146-5"></a><span class="w">    </span><span class="c1">-- Rate limiting for performance</span>
</span><span id="__span-146-6"><a id="__codelineno-146-6" name="__codelineno-146-6" href="#__codelineno-146-6"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">LastThink</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">curTime</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">LastThink</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-146-7"><a id="__codelineno-146-7" name="__codelineno-146-7" href="#__codelineno-146-7"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">LastThink</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">curTime</span>
</span><span id="__span-146-8"><a id="__codelineno-146-8" name="__codelineno-146-8" href="#__codelineno-146-8"></a><span class="w">        </span><span class="c1">-- Update ghost entity with advanced positioning</span>
</span><span id="__span-146-9"><a id="__codelineno-146-9" name="__codelineno-146-9" href="#__codelineno-146-9"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">UpdateGhostEntity</span><span class="p">()</span>
</span><span id="__span-146-10"><a id="__codelineno-146-10" name="__codelineno-146-10" href="#__codelineno-146-10"></a><span class="w">        </span><span class="c1">-- Check object validity and cleanup invalid ones</span>
</span><span id="__span-146-11"><a id="__codelineno-146-11" name="__codelineno-146-11" href="#__codelineno-146-11"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-146-12"><a id="__codelineno-146-12" name="__codelineno-146-12" href="#__codelineno-146-12"></a><span class="w">        </span><span class="c1">-- Update tool data and state</span>
</span><span id="__span-146-13"><a id="__codelineno-146-13" name="__codelineno-146-13" href="#__codelineno-146-13"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">updateData</span><span class="p">()</span>
</span><span id="__span-146-14"><a id="__codelineno-146-14" name="__codelineno-146-14" href="#__codelineno-146-14"></a><span class="w">        </span><span class="c1">-- Handle player input and interactions</span>
</span><span id="__span-146-15"><a id="__codelineno-146-15" name="__codelineno-146-15" href="#__codelineno-146-15"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_ATTACK</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">LastLeftClick</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-146-16"><a id="__codelineno-146-16" name="__codelineno-146-16" href="#__codelineno-146-16"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">leftClick</span><span class="p">()</span>
</span><span id="__span-146-17"><a id="__codelineno-146-17" name="__codelineno-146-17" href="#__codelineno-146-17"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastLeftClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-146-18"><a id="__codelineno-146-18" name="__codelineno-146-18" href="#__codelineno-146-18"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">KeyDown</span><span class="p">(</span><span class="nv">IN_ATTACK</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-146-19"><a id="__codelineno-146-19" name="__codelineno-146-19" href="#__codelineno-146-19"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastLeftClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-146-20"><a id="__codelineno-146-20" name="__codelineno-146-20" href="#__codelineno-146-20"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-146-21"><a id="__codelineno-146-21" name="__codelineno-146-21" href="#__codelineno-146-21"></a><span class="w">        </span><span class="c1">-- Network updates to clients (server only)</span>
</span><span id="__span-146-22"><a id="__codelineno-146-22" name="__codelineno-146-22" href="#__codelineno-146-22"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">curTime</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">LastNetworkUpdate</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-146-23"><a id="__codelineno-146-23" name="__codelineno-146-23" href="#__codelineno-146-23"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">NetworkToolState</span><span class="p">()</span>
</span><span id="__span-146-24"><a id="__codelineno-146-24" name="__codelineno-146-24" href="#__codelineno-146-24"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastNetworkUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">curTime</span>
</span><span id="__span-146-25"><a id="__codelineno-146-25" name="__codelineno-146-25" href="#__codelineno-146-25"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-146-26"><a id="__codelineno-146-26" name="__codelineno-146-26" href="#__codelineno-146-26"></a><span class="w">        </span><span class="c1">-- Update effects and visual feedback</span>
</span><span id="__span-146-27"><a id="__codelineno-146-27" name="__codelineno-146-27" href="#__codelineno-146-27"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">UpdateVisualEffects</span><span class="p">()</span>
</span><span id="__span-146-28"><a id="__codelineno-146-28" name="__codelineno-146-28" href="#__codelineno-146-28"></a><span class="w">        </span><span class="c1">-- Check for tool mode changes</span>
</span><span id="__span-146-29"><a id="__codelineno-146-29" name="__codelineno-146-29" href="#__codelineno-146-29"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">ShouldChangeMode</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-146-30"><a id="__codelineno-146-30" name="__codelineno-146-30" href="#__codelineno-146-30"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">ChangeToolMode</span><span class="p">()</span>
</span><span id="__span-146-31"><a id="__codelineno-146-31" name="__codelineno-146-31" href="#__codelineno-146-31"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-146-32"><a id="__codelineno-146-32" name="__codelineno-146-32" href="#__codelineno-146-32"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-146-33"><a id="__codelineno-146-33" name="__codelineno-146-33" href="#__codelineno-146-33"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="checkobjects">checkObjects</h3>
<p><strong>Purpose</strong></p>
<p>Validates and cleans up invalid objects in the tool's object list</p>
<p><strong>When Called</strong></p>
<p>Periodically during tool operation to maintain object integrity</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-147-1"><a id="__codelineno-147-1" name="__codelineno-147-1" href="#__codelineno-147-1"></a><span class="c1">-- Simple: Basic object validation</span>
</span><span id="__span-147-2"><a id="__codelineno-147-2" name="__codelineno-147-2" href="#__codelineno-147-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-147-3"><a id="__codelineno-147-3" name="__codelineno-147-3" href="#__codelineno-147-3"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-147-4"><a id="__codelineno-147-4" name="__codelineno-147-4" href="#__codelineno-147-4"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">v</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-147-5"><a id="__codelineno-147-5" name="__codelineno-147-5" href="#__codelineno-147-5"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-147-6"><a id="__codelineno-147-6" name="__codelineno-147-6" href="#__codelineno-147-6"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-147-7"><a id="__codelineno-147-7" name="__codelineno-147-7" href="#__codelineno-147-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-147-8"><a id="__codelineno-147-8" name="__codelineno-147-8" href="#__codelineno-147-8"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-148-1"><a id="__codelineno-148-1" name="__codelineno-148-1" href="#__codelineno-148-1"></a><span class="c1">-- Medium: Check objects with individual cleanup</span>
</span><span id="__span-148-2"><a id="__codelineno-148-2" name="__codelineno-148-2" href="#__codelineno-148-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-148-3"><a id="__codelineno-148-3" name="__codelineno-148-3" href="#__codelineno-148-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-148-4"><a id="__codelineno-148-4" name="__codelineno-148-4" href="#__codelineno-148-4"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-148-5"><a id="__codelineno-148-5" name="__codelineno-148-5" href="#__codelineno-148-5"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">v</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">v</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">IsWorld</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-148-6"><a id="__codelineno-148-6" name="__codelineno-148-6" href="#__codelineno-148-6"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
</span><span id="__span-148-7"><a id="__codelineno-148-7" name="__codelineno-148-7" href="#__codelineno-148-7"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-148-8"><a id="__codelineno-148-8" name="__codelineno-148-8" href="#__codelineno-148-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-148-9"><a id="__codelineno-148-9" name="__codelineno-148-9" href="#__codelineno-148-9"></a><span class="w">    </span><span class="c1">-- Remove invalid objects</span>
</span><span id="__span-148-10"><a id="__codelineno-148-10" name="__codelineno-148-10" href="#__codelineno-148-10"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-148-11"><a id="__codelineno-148-11" name="__codelineno-148-11" href="#__codelineno-148-11"></a><span class="w">        </span><span class="nb">table.remove</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="p">[</span><span class="nv">i</span><span class="p">])</span>
</span><span id="__span-148-12"><a id="__codelineno-148-12" name="__codelineno-148-12" href="#__codelineno-148-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-148-13"><a id="__codelineno-148-13" name="__codelineno-148-13" href="#__codelineno-148-13"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-148-14"><a id="__codelineno-148-14" name="__codelineno-148-14" href="#__codelineno-148-14"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleaned up %d invalid objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="p">)</span>
</span><span id="__span-148-15"><a id="__codelineno-148-15" name="__codelineno-148-15" href="#__codelineno-148-15"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-148-16"><a id="__codelineno-148-16" name="__codelineno-148-16" href="#__codelineno-148-16"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-149-1"><a id="__codelineno-149-1" name="__codelineno-149-1" href="#__codelineno-149-1"></a><span class="c1">-- High: Advanced object validation with networking and logging</span>
</span><span id="__span-149-2"><a id="__codelineno-149-2" name="__codelineno-149-2" href="#__codelineno-149-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-149-3"><a id="__codelineno-149-3" name="__codelineno-149-3" href="#__codelineno-149-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-149-4"><a id="__codelineno-149-4" name="__codelineno-149-4" href="#__codelineno-149-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-149-5"><a id="__codelineno-149-5" name="__codelineno-149-5" href="#__codelineno-149-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-149-6"><a id="__codelineno-149-6" name="__codelineno-149-6" href="#__codelineno-149-6"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-149-7"><a id="__codelineno-149-7" name="__codelineno-149-7" href="#__codelineno-149-7"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-149-8"><a id="__codelineno-149-8" name="__codelineno-149-8" href="#__codelineno-149-8"></a><span class="w">        </span><span class="c1">-- Multiple validation checks</span>
</span><span id="__span-149-9"><a id="__codelineno-149-9" name="__codelineno-149-9" href="#__codelineno-149-9"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-149-10"><a id="__codelineno-149-10" name="__codelineno-149-10" href="#__codelineno-149-10"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-149-11"><a id="__codelineno-149-11" name="__codelineno-149-11" href="#__codelineno-149-11"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">IsWorld</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-149-12"><a id="__codelineno-149-12" name="__codelineno-149-12" href="#__codelineno-149-12"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-149-13"><a id="__codelineno-149-13" name="__codelineno-149-13" href="#__codelineno-149-13"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">():</span><span class="nf">Distance</span><span class="p">(</span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">())</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-149-14"><a id="__codelineno-149-14" name="__codelineno-149-14" href="#__codelineno-149-14"></a><span class="w">            </span><span class="c1">-- Server-side distance check</span>
</span><span id="__span-149-15"><a id="__codelineno-149-15" name="__codelineno-149-15" href="#__codelineno-149-15"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-149-16"><a id="__codelineno-149-16" name="__codelineno-149-16" href="#__codelineno-149-16"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">CLIENT</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">GetNoDraw</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-149-17"><a id="__codelineno-149-17" name="__codelineno-149-17" href="#__codelineno-149-17"></a><span class="w">            </span><span class="c1">-- Client-side visibility check</span>
</span><span id="__span-149-18"><a id="__codelineno-149-18" name="__codelineno-149-18" href="#__codelineno-149-18"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-149-19"><a id="__codelineno-149-19" name="__codelineno-149-19" href="#__codelineno-149-19"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-149-20"><a id="__codelineno-149-20" name="__codelineno-149-20" href="#__codelineno-149-20"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">isValid</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-149-21"><a id="__codelineno-149-21" name="__codelineno-149-21" href="#__codelineno-149-21"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
</span><span id="__span-149-22"><a id="__codelineno-149-22" name="__codelineno-149-22" href="#__codelineno-149-22"></a><span class="w">            </span><span class="c1">-- Handle object cleanup</span>
</span><span id="__span-149-23"><a id="__codelineno-149-23" name="__codelineno-149-23" href="#__codelineno-149-23"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-149-24"><a id="__codelineno-149-24" name="__codelineno-149-24" href="#__codelineno-149-24"></a><span class="w">                </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-149-25"><a id="__codelineno-149-25" name="__codelineno-149-25" href="#__codelineno-149-25"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-149-26"><a id="__codelineno-149-26" name="__codelineno-149-26" href="#__codelineno-149-26"></a><span class="w">            </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-149-27"><a id="__codelineno-149-27" name="__codelineno-149-27" href="#__codelineno-149-27"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-149-28"><a id="__codelineno-149-28" name="__codelineno-149-28" href="#__codelineno-149-28"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-149-29"><a id="__codelineno-149-29" name="__codelineno-149-29" href="#__codelineno-149-29"></a><span class="w">    </span><span class="c1">-- Remove invalid object references</span>
</span><span id="__span-149-30"><a id="__codelineno-149-30" name="__codelineno-149-30" href="#__codelineno-149-30"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-149-31"><a id="__codelineno-149-31" name="__codelineno-149-31" href="#__codelineno-149-31"></a><span class="w">        </span><span class="nb">table.remove</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="p">[</span><span class="nv">i</span><span class="p">])</span>
</span><span id="__span-149-32"><a id="__codelineno-149-32" name="__codelineno-149-32" href="#__codelineno-149-32"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-149-33"><a id="__codelineno-149-33" name="__codelineno-149-33" href="#__codelineno-149-33"></a><span class="w">    </span><span class="c1">-- Handle results</span>
</span><span id="__span-149-34"><a id="__codelineno-149-34" name="__codelineno-149-34" href="#__codelineno-149-34"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-149-35"><a id="__codelineno-149-35" name="__codelineno-149-35" href="#__codelineno-149-35"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleaned up %d invalid objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">removedCount</span><span class="p">)</span>
</span><span id="__span-149-36"><a id="__codelineno-149-36" name="__codelineno-149-36" href="#__codelineno-149-36"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-149-37"><a id="__codelineno-149-37" name="__codelineno-149-37" href="#__codelineno-149-37"></a><span class="w">            </span><span class="c1">-- Network cleanup to clients</span>
</span><span id="__span-149-38"><a id="__codelineno-149-38" name="__codelineno-149-38" href="#__codelineno-149-38"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_objects_cleaned&quot;</span><span class="p">)</span>
</span><span id="__span-149-39"><a id="__codelineno-149-39" name="__codelineno-149-39" href="#__codelineno-149-39"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteUInt</span><span class="p">(</span><span class="nv">removedCount</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span>
</span><span id="__span-149-40"><a id="__codelineno-149-40" name="__codelineno-149-40" href="#__codelineno-149-40"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Broadcast</span><span class="p">()</span>
</span><span id="__span-149-41"><a id="__codelineno-149-41" name="__codelineno-149-41" href="#__codelineno-149-41"></a><span class="w">            </span><span class="c1">-- Log cleanup action</span>
</span><span id="__span-149-42"><a id="__codelineno-149-42" name="__codelineno-149-42" href="#__codelineno-149-42"></a><span class="w">            </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; had &quot; .. removedCount .. &quot; invalid tool objects cleaned up</span>
</span><span id="__span-149-43"><a id="__codelineno-149-43" name="__codelineno-149-43" href="#__codelineno-149-43"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-149-44"><a id="__codelineno-149-44" name="__codelineno-149-44" href="#__codelineno-149-44"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-149-45"><a id="__codelineno-149-45" name="__codelineno-149-45" href="#__codelineno-149-45"></a><span class="w">    </span><span class="c1">-- Update cleanup timestamp</span>
</span><span id="__span-149-46"><a id="__codelineno-149-46" name="__codelineno-149-46" href="#__codelineno-149-46"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastObjectCheck</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-149-47"><a id="__codelineno-149-47" name="__codelineno-149-47" href="#__codelineno-149-47"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="checkobjects_1">checkObjects</h3>
<p><strong>Purpose</strong></p>
<p>Validates and cleans up invalid objects in the tool's object list</p>
<p><strong>When Called</strong></p>
<p>Periodically during tool operation to maintain object integrity</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-150-1"><a id="__codelineno-150-1" name="__codelineno-150-1" href="#__codelineno-150-1"></a><span class="c1">-- Simple: Basic object validation</span>
</span><span id="__span-150-2"><a id="__codelineno-150-2" name="__codelineno-150-2" href="#__codelineno-150-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-150-3"><a id="__codelineno-150-3" name="__codelineno-150-3" href="#__codelineno-150-3"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-150-4"><a id="__codelineno-150-4" name="__codelineno-150-4" href="#__codelineno-150-4"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">v</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-150-5"><a id="__codelineno-150-5" name="__codelineno-150-5" href="#__codelineno-150-5"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-150-6"><a id="__codelineno-150-6" name="__codelineno-150-6" href="#__codelineno-150-6"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-150-7"><a id="__codelineno-150-7" name="__codelineno-150-7" href="#__codelineno-150-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-150-8"><a id="__codelineno-150-8" name="__codelineno-150-8" href="#__codelineno-150-8"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-151-1"><a id="__codelineno-151-1" name="__codelineno-151-1" href="#__codelineno-151-1"></a><span class="c1">-- Medium: Check objects with individual cleanup</span>
</span><span id="__span-151-2"><a id="__codelineno-151-2" name="__codelineno-151-2" href="#__codelineno-151-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-151-3"><a id="__codelineno-151-3" name="__codelineno-151-3" href="#__codelineno-151-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-151-4"><a id="__codelineno-151-4" name="__codelineno-151-4" href="#__codelineno-151-4"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-151-5"><a id="__codelineno-151-5" name="__codelineno-151-5" href="#__codelineno-151-5"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">v</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">v</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">IsWorld</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-151-6"><a id="__codelineno-151-6" name="__codelineno-151-6" href="#__codelineno-151-6"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
</span><span id="__span-151-7"><a id="__codelineno-151-7" name="__codelineno-151-7" href="#__codelineno-151-7"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-151-8"><a id="__codelineno-151-8" name="__codelineno-151-8" href="#__codelineno-151-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-151-9"><a id="__codelineno-151-9" name="__codelineno-151-9" href="#__codelineno-151-9"></a><span class="w">    </span><span class="c1">-- Remove invalid objects</span>
</span><span id="__span-151-10"><a id="__codelineno-151-10" name="__codelineno-151-10" href="#__codelineno-151-10"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-151-11"><a id="__codelineno-151-11" name="__codelineno-151-11" href="#__codelineno-151-11"></a><span class="w">        </span><span class="nb">table.remove</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="p">[</span><span class="nv">i</span><span class="p">])</span>
</span><span id="__span-151-12"><a id="__codelineno-151-12" name="__codelineno-151-12" href="#__codelineno-151-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-151-13"><a id="__codelineno-151-13" name="__codelineno-151-13" href="#__codelineno-151-13"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-151-14"><a id="__codelineno-151-14" name="__codelineno-151-14" href="#__codelineno-151-14"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleaned up %d invalid objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="p">)</span>
</span><span id="__span-151-15"><a id="__codelineno-151-15" name="__codelineno-151-15" href="#__codelineno-151-15"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-151-16"><a id="__codelineno-151-16" name="__codelineno-151-16" href="#__codelineno-151-16"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-152-1"><a id="__codelineno-152-1" name="__codelineno-152-1" href="#__codelineno-152-1"></a><span class="c1">-- High: Advanced object validation with networking and logging</span>
</span><span id="__span-152-2"><a id="__codelineno-152-2" name="__codelineno-152-2" href="#__codelineno-152-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-152-3"><a id="__codelineno-152-3" name="__codelineno-152-3" href="#__codelineno-152-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-152-4"><a id="__codelineno-152-4" name="__codelineno-152-4" href="#__codelineno-152-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-152-5"><a id="__codelineno-152-5" name="__codelineno-152-5" href="#__codelineno-152-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-152-6"><a id="__codelineno-152-6" name="__codelineno-152-6" href="#__codelineno-152-6"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-152-7"><a id="__codelineno-152-7" name="__codelineno-152-7" href="#__codelineno-152-7"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-152-8"><a id="__codelineno-152-8" name="__codelineno-152-8" href="#__codelineno-152-8"></a><span class="w">        </span><span class="c1">-- Multiple validation checks</span>
</span><span id="__span-152-9"><a id="__codelineno-152-9" name="__codelineno-152-9" href="#__codelineno-152-9"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-152-10"><a id="__codelineno-152-10" name="__codelineno-152-10" href="#__codelineno-152-10"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-152-11"><a id="__codelineno-152-11" name="__codelineno-152-11" href="#__codelineno-152-11"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">IsWorld</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-152-12"><a id="__codelineno-152-12" name="__codelineno-152-12" href="#__codelineno-152-12"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-152-13"><a id="__codelineno-152-13" name="__codelineno-152-13" href="#__codelineno-152-13"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">():</span><span class="nf">Distance</span><span class="p">(</span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">())</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-152-14"><a id="__codelineno-152-14" name="__codelineno-152-14" href="#__codelineno-152-14"></a><span class="w">            </span><span class="c1">-- Server-side distance check</span>
</span><span id="__span-152-15"><a id="__codelineno-152-15" name="__codelineno-152-15" href="#__codelineno-152-15"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-152-16"><a id="__codelineno-152-16" name="__codelineno-152-16" href="#__codelineno-152-16"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">CLIENT</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">GetNoDraw</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-152-17"><a id="__codelineno-152-17" name="__codelineno-152-17" href="#__codelineno-152-17"></a><span class="w">            </span><span class="c1">-- Client-side visibility check</span>
</span><span id="__span-152-18"><a id="__codelineno-152-18" name="__codelineno-152-18" href="#__codelineno-152-18"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-152-19"><a id="__codelineno-152-19" name="__codelineno-152-19" href="#__codelineno-152-19"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-152-20"><a id="__codelineno-152-20" name="__codelineno-152-20" href="#__codelineno-152-20"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">isValid</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-152-21"><a id="__codelineno-152-21" name="__codelineno-152-21" href="#__codelineno-152-21"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
</span><span id="__span-152-22"><a id="__codelineno-152-22" name="__codelineno-152-22" href="#__codelineno-152-22"></a><span class="w">            </span><span class="c1">-- Handle object cleanup</span>
</span><span id="__span-152-23"><a id="__codelineno-152-23" name="__codelineno-152-23" href="#__codelineno-152-23"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-152-24"><a id="__codelineno-152-24" name="__codelineno-152-24" href="#__codelineno-152-24"></a><span class="w">                </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-152-25"><a id="__codelineno-152-25" name="__codelineno-152-25" href="#__codelineno-152-25"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-152-26"><a id="__codelineno-152-26" name="__codelineno-152-26" href="#__codelineno-152-26"></a><span class="w">            </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-152-27"><a id="__codelineno-152-27" name="__codelineno-152-27" href="#__codelineno-152-27"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-152-28"><a id="__codelineno-152-28" name="__codelineno-152-28" href="#__codelineno-152-28"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-152-29"><a id="__codelineno-152-29" name="__codelineno-152-29" href="#__codelineno-152-29"></a><span class="w">    </span><span class="c1">-- Remove invalid object references</span>
</span><span id="__span-152-30"><a id="__codelineno-152-30" name="__codelineno-152-30" href="#__codelineno-152-30"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-152-31"><a id="__codelineno-152-31" name="__codelineno-152-31" href="#__codelineno-152-31"></a><span class="w">        </span><span class="nb">table.remove</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="p">[</span><span class="nv">i</span><span class="p">])</span>
</span><span id="__span-152-32"><a id="__codelineno-152-32" name="__codelineno-152-32" href="#__codelineno-152-32"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-152-33"><a id="__codelineno-152-33" name="__codelineno-152-33" href="#__codelineno-152-33"></a><span class="w">    </span><span class="c1">-- Handle results</span>
</span><span id="__span-152-34"><a id="__codelineno-152-34" name="__codelineno-152-34" href="#__codelineno-152-34"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-152-35"><a id="__codelineno-152-35" name="__codelineno-152-35" href="#__codelineno-152-35"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleaned up %d invalid objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">removedCount</span><span class="p">)</span>
</span><span id="__span-152-36"><a id="__codelineno-152-36" name="__codelineno-152-36" href="#__codelineno-152-36"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-152-37"><a id="__codelineno-152-37" name="__codelineno-152-37" href="#__codelineno-152-37"></a><span class="w">            </span><span class="c1">-- Network cleanup to clients</span>
</span><span id="__span-152-38"><a id="__codelineno-152-38" name="__codelineno-152-38" href="#__codelineno-152-38"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_objects_cleaned&quot;</span><span class="p">)</span>
</span><span id="__span-152-39"><a id="__codelineno-152-39" name="__codelineno-152-39" href="#__codelineno-152-39"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteUInt</span><span class="p">(</span><span class="nv">removedCount</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span>
</span><span id="__span-152-40"><a id="__codelineno-152-40" name="__codelineno-152-40" href="#__codelineno-152-40"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Broadcast</span><span class="p">()</span>
</span><span id="__span-152-41"><a id="__codelineno-152-41" name="__codelineno-152-41" href="#__codelineno-152-41"></a><span class="w">            </span><span class="c1">-- Log cleanup action</span>
</span><span id="__span-152-42"><a id="__codelineno-152-42" name="__codelineno-152-42" href="#__codelineno-152-42"></a><span class="w">            </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; had &quot; .. removedCount .. &quot; invalid tool objects cleaned up</span>
</span><span id="__span-152-43"><a id="__codelineno-152-43" name="__codelineno-152-43" href="#__codelineno-152-43"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-152-44"><a id="__codelineno-152-44" name="__codelineno-152-44" href="#__codelineno-152-44"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-152-45"><a id="__codelineno-152-45" name="__codelineno-152-45" href="#__codelineno-152-45"></a><span class="w">    </span><span class="c1">-- Update cleanup timestamp</span>
</span><span id="__span-152-46"><a id="__codelineno-152-46" name="__codelineno-152-46" href="#__codelineno-152-46"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastObjectCheck</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-152-47"><a id="__codelineno-152-47" name="__codelineno-152-47" href="#__codelineno-152-47"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="checkobjects_2">checkObjects</h3>
<p><strong>Purpose</strong></p>
<p>Validates and cleans up invalid objects in the tool's object list</p>
<p><strong>When Called</strong></p>
<p>Periodically during tool operation to maintain object integrity</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-153-1"><a id="__codelineno-153-1" name="__codelineno-153-1" href="#__codelineno-153-1"></a><span class="c1">-- Simple: Basic object validation</span>
</span><span id="__span-153-2"><a id="__codelineno-153-2" name="__codelineno-153-2" href="#__codelineno-153-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-153-3"><a id="__codelineno-153-3" name="__codelineno-153-3" href="#__codelineno-153-3"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-153-4"><a id="__codelineno-153-4" name="__codelineno-153-4" href="#__codelineno-153-4"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">v</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-153-5"><a id="__codelineno-153-5" name="__codelineno-153-5" href="#__codelineno-153-5"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-153-6"><a id="__codelineno-153-6" name="__codelineno-153-6" href="#__codelineno-153-6"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-153-7"><a id="__codelineno-153-7" name="__codelineno-153-7" href="#__codelineno-153-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-153-8"><a id="__codelineno-153-8" name="__codelineno-153-8" href="#__codelineno-153-8"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-154-1"><a id="__codelineno-154-1" name="__codelineno-154-1" href="#__codelineno-154-1"></a><span class="c1">-- Medium: Check objects with individual cleanup</span>
</span><span id="__span-154-2"><a id="__codelineno-154-2" name="__codelineno-154-2" href="#__codelineno-154-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-154-3"><a id="__codelineno-154-3" name="__codelineno-154-3" href="#__codelineno-154-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-154-4"><a id="__codelineno-154-4" name="__codelineno-154-4" href="#__codelineno-154-4"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-154-5"><a id="__codelineno-154-5" name="__codelineno-154-5" href="#__codelineno-154-5"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">v</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">v</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">IsWorld</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-154-6"><a id="__codelineno-154-6" name="__codelineno-154-6" href="#__codelineno-154-6"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
</span><span id="__span-154-7"><a id="__codelineno-154-7" name="__codelineno-154-7" href="#__codelineno-154-7"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-154-8"><a id="__codelineno-154-8" name="__codelineno-154-8" href="#__codelineno-154-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-154-9"><a id="__codelineno-154-9" name="__codelineno-154-9" href="#__codelineno-154-9"></a><span class="w">    </span><span class="c1">-- Remove invalid objects</span>
</span><span id="__span-154-10"><a id="__codelineno-154-10" name="__codelineno-154-10" href="#__codelineno-154-10"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-154-11"><a id="__codelineno-154-11" name="__codelineno-154-11" href="#__codelineno-154-11"></a><span class="w">        </span><span class="nb">table.remove</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="p">[</span><span class="nv">i</span><span class="p">])</span>
</span><span id="__span-154-12"><a id="__codelineno-154-12" name="__codelineno-154-12" href="#__codelineno-154-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-154-13"><a id="__codelineno-154-13" name="__codelineno-154-13" href="#__codelineno-154-13"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-154-14"><a id="__codelineno-154-14" name="__codelineno-154-14" href="#__codelineno-154-14"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleaned up %d invalid objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="p">)</span>
</span><span id="__span-154-15"><a id="__codelineno-154-15" name="__codelineno-154-15" href="#__codelineno-154-15"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-154-16"><a id="__codelineno-154-16" name="__codelineno-154-16" href="#__codelineno-154-16"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-155-1"><a id="__codelineno-155-1" name="__codelineno-155-1" href="#__codelineno-155-1"></a><span class="c1">-- High: Advanced object validation with networking and logging</span>
</span><span id="__span-155-2"><a id="__codelineno-155-2" name="__codelineno-155-2" href="#__codelineno-155-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-155-3"><a id="__codelineno-155-3" name="__codelineno-155-3" href="#__codelineno-155-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-155-4"><a id="__codelineno-155-4" name="__codelineno-155-4" href="#__codelineno-155-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-155-5"><a id="__codelineno-155-5" name="__codelineno-155-5" href="#__codelineno-155-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-155-6"><a id="__codelineno-155-6" name="__codelineno-155-6" href="#__codelineno-155-6"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-155-7"><a id="__codelineno-155-7" name="__codelineno-155-7" href="#__codelineno-155-7"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-155-8"><a id="__codelineno-155-8" name="__codelineno-155-8" href="#__codelineno-155-8"></a><span class="w">        </span><span class="c1">-- Multiple validation checks</span>
</span><span id="__span-155-9"><a id="__codelineno-155-9" name="__codelineno-155-9" href="#__codelineno-155-9"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-155-10"><a id="__codelineno-155-10" name="__codelineno-155-10" href="#__codelineno-155-10"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-155-11"><a id="__codelineno-155-11" name="__codelineno-155-11" href="#__codelineno-155-11"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">IsWorld</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-155-12"><a id="__codelineno-155-12" name="__codelineno-155-12" href="#__codelineno-155-12"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-155-13"><a id="__codelineno-155-13" name="__codelineno-155-13" href="#__codelineno-155-13"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">():</span><span class="nf">Distance</span><span class="p">(</span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">())</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-155-14"><a id="__codelineno-155-14" name="__codelineno-155-14" href="#__codelineno-155-14"></a><span class="w">            </span><span class="c1">-- Server-side distance check</span>
</span><span id="__span-155-15"><a id="__codelineno-155-15" name="__codelineno-155-15" href="#__codelineno-155-15"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-155-16"><a id="__codelineno-155-16" name="__codelineno-155-16" href="#__codelineno-155-16"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">CLIENT</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">GetNoDraw</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-155-17"><a id="__codelineno-155-17" name="__codelineno-155-17" href="#__codelineno-155-17"></a><span class="w">            </span><span class="c1">-- Client-side visibility check</span>
</span><span id="__span-155-18"><a id="__codelineno-155-18" name="__codelineno-155-18" href="#__codelineno-155-18"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-155-19"><a id="__codelineno-155-19" name="__codelineno-155-19" href="#__codelineno-155-19"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-155-20"><a id="__codelineno-155-20" name="__codelineno-155-20" href="#__codelineno-155-20"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">isValid</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-155-21"><a id="__codelineno-155-21" name="__codelineno-155-21" href="#__codelineno-155-21"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
</span><span id="__span-155-22"><a id="__codelineno-155-22" name="__codelineno-155-22" href="#__codelineno-155-22"></a><span class="w">            </span><span class="c1">-- Handle object cleanup</span>
</span><span id="__span-155-23"><a id="__codelineno-155-23" name="__codelineno-155-23" href="#__codelineno-155-23"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-155-24"><a id="__codelineno-155-24" name="__codelineno-155-24" href="#__codelineno-155-24"></a><span class="w">                </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-155-25"><a id="__codelineno-155-25" name="__codelineno-155-25" href="#__codelineno-155-25"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-155-26"><a id="__codelineno-155-26" name="__codelineno-155-26" href="#__codelineno-155-26"></a><span class="w">            </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-155-27"><a id="__codelineno-155-27" name="__codelineno-155-27" href="#__codelineno-155-27"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-155-28"><a id="__codelineno-155-28" name="__codelineno-155-28" href="#__codelineno-155-28"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-155-29"><a id="__codelineno-155-29" name="__codelineno-155-29" href="#__codelineno-155-29"></a><span class="w">    </span><span class="c1">-- Remove invalid object references</span>
</span><span id="__span-155-30"><a id="__codelineno-155-30" name="__codelineno-155-30" href="#__codelineno-155-30"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-155-31"><a id="__codelineno-155-31" name="__codelineno-155-31" href="#__codelineno-155-31"></a><span class="w">        </span><span class="nb">table.remove</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="p">[</span><span class="nv">i</span><span class="p">])</span>
</span><span id="__span-155-32"><a id="__codelineno-155-32" name="__codelineno-155-32" href="#__codelineno-155-32"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-155-33"><a id="__codelineno-155-33" name="__codelineno-155-33" href="#__codelineno-155-33"></a><span class="w">    </span><span class="c1">-- Handle results</span>
</span><span id="__span-155-34"><a id="__codelineno-155-34" name="__codelineno-155-34" href="#__codelineno-155-34"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-155-35"><a id="__codelineno-155-35" name="__codelineno-155-35" href="#__codelineno-155-35"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleaned up %d invalid objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">removedCount</span><span class="p">)</span>
</span><span id="__span-155-36"><a id="__codelineno-155-36" name="__codelineno-155-36" href="#__codelineno-155-36"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-155-37"><a id="__codelineno-155-37" name="__codelineno-155-37" href="#__codelineno-155-37"></a><span class="w">            </span><span class="c1">-- Network cleanup to clients</span>
</span><span id="__span-155-38"><a id="__codelineno-155-38" name="__codelineno-155-38" href="#__codelineno-155-38"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_objects_cleaned&quot;</span><span class="p">)</span>
</span><span id="__span-155-39"><a id="__codelineno-155-39" name="__codelineno-155-39" href="#__codelineno-155-39"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteUInt</span><span class="p">(</span><span class="nv">removedCount</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span>
</span><span id="__span-155-40"><a id="__codelineno-155-40" name="__codelineno-155-40" href="#__codelineno-155-40"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Broadcast</span><span class="p">()</span>
</span><span id="__span-155-41"><a id="__codelineno-155-41" name="__codelineno-155-41" href="#__codelineno-155-41"></a><span class="w">            </span><span class="c1">-- Log cleanup action</span>
</span><span id="__span-155-42"><a id="__codelineno-155-42" name="__codelineno-155-42" href="#__codelineno-155-42"></a><span class="w">            </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; had &quot; .. removedCount .. &quot; invalid tool objects cleaned up</span>
</span><span id="__span-155-43"><a id="__codelineno-155-43" name="__codelineno-155-43" href="#__codelineno-155-43"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-155-44"><a id="__codelineno-155-44" name="__codelineno-155-44" href="#__codelineno-155-44"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-155-45"><a id="__codelineno-155-45" name="__codelineno-155-45" href="#__codelineno-155-45"></a><span class="w">    </span><span class="c1">-- Update cleanup timestamp</span>
</span><span id="__span-155-46"><a id="__codelineno-155-46" name="__codelineno-155-46" href="#__codelineno-155-46"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastObjectCheck</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-155-47"><a id="__codelineno-155-47" name="__codelineno-155-47" href="#__codelineno-155-47"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="checkobjects_3">checkObjects</h3>
<p><strong>Purpose</strong></p>
<p>Validates and cleans up invalid objects in the tool's object list</p>
<p><strong>When Called</strong></p>
<p>Periodically during tool operation to maintain object integrity</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-156-1"><a id="__codelineno-156-1" name="__codelineno-156-1" href="#__codelineno-156-1"></a><span class="c1">-- Simple: Basic object validation</span>
</span><span id="__span-156-2"><a id="__codelineno-156-2" name="__codelineno-156-2" href="#__codelineno-156-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-156-3"><a id="__codelineno-156-3" name="__codelineno-156-3" href="#__codelineno-156-3"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-156-4"><a id="__codelineno-156-4" name="__codelineno-156-4" href="#__codelineno-156-4"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">v</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-156-5"><a id="__codelineno-156-5" name="__codelineno-156-5" href="#__codelineno-156-5"></a><span class="w">            </span><span class="nv">self</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-156-6"><a id="__codelineno-156-6" name="__codelineno-156-6" href="#__codelineno-156-6"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-156-7"><a id="__codelineno-156-7" name="__codelineno-156-7" href="#__codelineno-156-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-156-8"><a id="__codelineno-156-8" name="__codelineno-156-8" href="#__codelineno-156-8"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-157-1"><a id="__codelineno-157-1" name="__codelineno-157-1" href="#__codelineno-157-1"></a><span class="c1">-- Medium: Check objects with individual cleanup</span>
</span><span id="__span-157-2"><a id="__codelineno-157-2" name="__codelineno-157-2" href="#__codelineno-157-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-157-3"><a id="__codelineno-157-3" name="__codelineno-157-3" href="#__codelineno-157-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-157-4"><a id="__codelineno-157-4" name="__codelineno-157-4" href="#__codelineno-157-4"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-157-5"><a id="__codelineno-157-5" name="__codelineno-157-5" href="#__codelineno-157-5"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">v</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">v</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">IsWorld</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-157-6"><a id="__codelineno-157-6" name="__codelineno-157-6" href="#__codelineno-157-6"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
</span><span id="__span-157-7"><a id="__codelineno-157-7" name="__codelineno-157-7" href="#__codelineno-157-7"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-157-8"><a id="__codelineno-157-8" name="__codelineno-157-8" href="#__codelineno-157-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-157-9"><a id="__codelineno-157-9" name="__codelineno-157-9" href="#__codelineno-157-9"></a><span class="w">    </span><span class="c1">-- Remove invalid objects</span>
</span><span id="__span-157-10"><a id="__codelineno-157-10" name="__codelineno-157-10" href="#__codelineno-157-10"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-157-11"><a id="__codelineno-157-11" name="__codelineno-157-11" href="#__codelineno-157-11"></a><span class="w">        </span><span class="nb">table.remove</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="p">[</span><span class="nv">i</span><span class="p">])</span>
</span><span id="__span-157-12"><a id="__codelineno-157-12" name="__codelineno-157-12" href="#__codelineno-157-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-157-13"><a id="__codelineno-157-13" name="__codelineno-157-13" href="#__codelineno-157-13"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-157-14"><a id="__codelineno-157-14" name="__codelineno-157-14" href="#__codelineno-157-14"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleaned up %d invalid objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="p">)</span>
</span><span id="__span-157-15"><a id="__codelineno-157-15" name="__codelineno-157-15" href="#__codelineno-157-15"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-157-16"><a id="__codelineno-157-16" name="__codelineno-157-16" href="#__codelineno-157-16"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-158-1"><a id="__codelineno-158-1" name="__codelineno-158-1" href="#__codelineno-158-1"></a><span class="c1">-- High: Advanced object validation with networking and logging</span>
</span><span id="__span-158-2"><a id="__codelineno-158-2" name="__codelineno-158-2" href="#__codelineno-158-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">checkObjects</span><span class="p">()</span>
</span><span id="__span-158-3"><a id="__codelineno-158-3" name="__codelineno-158-3" href="#__codelineno-158-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-158-4"><a id="__codelineno-158-4" name="__codelineno-158-4" href="#__codelineno-158-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-158-5"><a id="__codelineno-158-5" name="__codelineno-158-5" href="#__codelineno-158-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-158-6"><a id="__codelineno-158-6" name="__codelineno-158-6" href="#__codelineno-158-6"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-158-7"><a id="__codelineno-158-7" name="__codelineno-158-7" href="#__codelineno-158-7"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-158-8"><a id="__codelineno-158-8" name="__codelineno-158-8" href="#__codelineno-158-8"></a><span class="w">        </span><span class="c1">-- Multiple validation checks</span>
</span><span id="__span-158-9"><a id="__codelineno-158-9" name="__codelineno-158-9" href="#__codelineno-158-9"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-158-10"><a id="__codelineno-158-10" name="__codelineno-158-10" href="#__codelineno-158-10"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-158-11"><a id="__codelineno-158-11" name="__codelineno-158-11" href="#__codelineno-158-11"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">IsWorld</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-158-12"><a id="__codelineno-158-12" name="__codelineno-158-12" href="#__codelineno-158-12"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-158-13"><a id="__codelineno-158-13" name="__codelineno-158-13" href="#__codelineno-158-13"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">():</span><span class="nf">Distance</span><span class="p">(</span><span class="nv">owner</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">())</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-158-14"><a id="__codelineno-158-14" name="__codelineno-158-14" href="#__codelineno-158-14"></a><span class="w">            </span><span class="c1">-- Server-side distance check</span>
</span><span id="__span-158-15"><a id="__codelineno-158-15" name="__codelineno-158-15" href="#__codelineno-158-15"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-158-16"><a id="__codelineno-158-16" name="__codelineno-158-16" href="#__codelineno-158-16"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">CLIENT</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">GetNoDraw</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-158-17"><a id="__codelineno-158-17" name="__codelineno-158-17" href="#__codelineno-158-17"></a><span class="w">            </span><span class="c1">-- Client-side visibility check</span>
</span><span id="__span-158-18"><a id="__codelineno-158-18" name="__codelineno-158-18" href="#__codelineno-158-18"></a><span class="w">            </span><span class="nv">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-158-19"><a id="__codelineno-158-19" name="__codelineno-158-19" href="#__codelineno-158-19"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-158-20"><a id="__codelineno-158-20" name="__codelineno-158-20" href="#__codelineno-158-20"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">isValid</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-158-21"><a id="__codelineno-158-21" name="__codelineno-158-21" href="#__codelineno-158-21"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
</span><span id="__span-158-22"><a id="__codelineno-158-22" name="__codelineno-158-22" href="#__codelineno-158-22"></a><span class="w">            </span><span class="c1">-- Handle object cleanup</span>
</span><span id="__span-158-23"><a id="__codelineno-158-23" name="__codelineno-158-23" href="#__codelineno-158-23"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-158-24"><a id="__codelineno-158-24" name="__codelineno-158-24" href="#__codelineno-158-24"></a><span class="w">                </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-158-25"><a id="__codelineno-158-25" name="__codelineno-158-25" href="#__codelineno-158-25"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-158-26"><a id="__codelineno-158-26" name="__codelineno-158-26" href="#__codelineno-158-26"></a><span class="w">            </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-158-27"><a id="__codelineno-158-27" name="__codelineno-158-27" href="#__codelineno-158-27"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-158-28"><a id="__codelineno-158-28" name="__codelineno-158-28" href="#__codelineno-158-28"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-158-29"><a id="__codelineno-158-29" name="__codelineno-158-29" href="#__codelineno-158-29"></a><span class="w">    </span><span class="c1">-- Remove invalid object references</span>
</span><span id="__span-158-30"><a id="__codelineno-158-30" name="__codelineno-158-30" href="#__codelineno-158-30"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">invalidObjects</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-158-31"><a id="__codelineno-158-31" name="__codelineno-158-31" href="#__codelineno-158-31"></a><span class="w">        </span><span class="nb">table.remove</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">,</span><span class="w"> </span><span class="nv">invalidObjects</span><span class="p">[</span><span class="nv">i</span><span class="p">])</span>
</span><span id="__span-158-32"><a id="__codelineno-158-32" name="__codelineno-158-32" href="#__codelineno-158-32"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-158-33"><a id="__codelineno-158-33" name="__codelineno-158-33" href="#__codelineno-158-33"></a><span class="w">    </span><span class="c1">-- Handle results</span>
</span><span id="__span-158-34"><a id="__codelineno-158-34" name="__codelineno-158-34" href="#__codelineno-158-34"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">removedCount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-158-35"><a id="__codelineno-158-35" name="__codelineno-158-35" href="#__codelineno-158-35"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleaned up %d invalid objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">removedCount</span><span class="p">)</span>
</span><span id="__span-158-36"><a id="__codelineno-158-36" name="__codelineno-158-36" href="#__codelineno-158-36"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-158-37"><a id="__codelineno-158-37" name="__codelineno-158-37" href="#__codelineno-158-37"></a><span class="w">            </span><span class="c1">-- Network cleanup to clients</span>
</span><span id="__span-158-38"><a id="__codelineno-158-38" name="__codelineno-158-38" href="#__codelineno-158-38"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_objects_cleaned&quot;</span><span class="p">)</span>
</span><span id="__span-158-39"><a id="__codelineno-158-39" name="__codelineno-158-39" href="#__codelineno-158-39"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteUInt</span><span class="p">(</span><span class="nv">removedCount</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span>
</span><span id="__span-158-40"><a id="__codelineno-158-40" name="__codelineno-158-40" href="#__codelineno-158-40"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Broadcast</span><span class="p">()</span>
</span><span id="__span-158-41"><a id="__codelineno-158-41" name="__codelineno-158-41" href="#__codelineno-158-41"></a><span class="w">            </span><span class="c1">-- Log cleanup action</span>
</span><span id="__span-158-42"><a id="__codelineno-158-42" name="__codelineno-158-42" href="#__codelineno-158-42"></a><span class="w">            </span><span class="c1">-- Player &quot; .. owner:Name() .. &quot; had &quot; .. removedCount .. &quot; invalid tool objects cleaned up</span>
</span><span id="__span-158-43"><a id="__codelineno-158-43" name="__codelineno-158-43" href="#__codelineno-158-43"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-158-44"><a id="__codelineno-158-44" name="__codelineno-158-44" href="#__codelineno-158-44"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-158-45"><a id="__codelineno-158-45" name="__codelineno-158-45" href="#__codelineno-158-45"></a><span class="w">    </span><span class="c1">-- Update cleanup timestamp</span>
</span><span id="__span-158-46"><a id="__codelineno-158-46" name="__codelineno-158-46" href="#__codelineno-158-46"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">LastObjectCheck</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-158-47"><a id="__codelineno-158-47" name="__codelineno-158-47" href="#__codelineno-158-47"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="clearobjects">clearObjects</h3>
<p><strong>Purpose</strong></p>
<p>Completely clears all objects from the tool's object list and performs cleanup</p>
<p><strong>When Called</strong></p>
<p>When explicitly clearing all tool objects or during error recovery</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-159-1"><a id="__codelineno-159-1" name="__codelineno-159-1" href="#__codelineno-159-1"></a><span class="c1">-- Simple: Basic object clearing</span>
</span><span id="__span-159-2"><a id="__codelineno-159-2" name="__codelineno-159-2" href="#__codelineno-159-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-160-1"><a id="__codelineno-160-1" name="__codelineno-160-1" href="#__codelineno-160-1"></a><span class="c1">-- Medium: Clear with confirmation message</span>
</span><span id="__span-160-2"><a id="__codelineno-160-2" name="__codelineno-160-2" href="#__codelineno-160-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-160-3"><a id="__codelineno-160-3" name="__codelineno-160-3" href="#__codelineno-160-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span>
</span><span id="__span-160-4"><a id="__codelineno-160-4" name="__codelineno-160-4" href="#__codelineno-160-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-160-5"><a id="__codelineno-160-5" name="__codelineno-160-5" href="#__codelineno-160-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">count</span><span class="p">)</span>
</span><span id="__span-160-6"><a id="__codelineno-160-6" name="__codelineno-160-6" href="#__codelineno-160-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-161-1"><a id="__codelineno-161-1" name="__codelineno-161-1" href="#__codelineno-161-1"></a><span class="c1">-- High: Advanced clearing with individual cleanup and networking</span>
</span><span id="__span-161-2"><a id="__codelineno-161-2" name="__codelineno-161-2" href="#__codelineno-161-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-161-3"><a id="__codelineno-161-3" name="__codelineno-161-3" href="#__codelineno-161-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-161-4"><a id="__codelineno-161-4" name="__codelineno-161-4" href="#__codelineno-161-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span>
</span><span id="__span-161-5"><a id="__codelineno-161-5" name="__codelineno-161-5" href="#__codelineno-161-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-161-6"><a id="__codelineno-161-6" name="__codelineno-161-6" href="#__codelineno-161-6"></a><span class="w">    </span><span class="c1">-- Clean up each object individually</span>
</span><span id="__span-161-7"><a id="__codelineno-161-7" name="__codelineno-161-7" href="#__codelineno-161-7"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-161-8"><a id="__codelineno-161-8" name="__codelineno-161-8" href="#__codelineno-161-8"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-161-9"><a id="__codelineno-161-9" name="__codelineno-161-9" href="#__codelineno-161-9"></a><span class="w">            </span><span class="c1">-- Server-side entity cleanup</span>
</span><span id="__span-161-10"><a id="__codelineno-161-10" name="__codelineno-161-10" href="#__codelineno-161-10"></a><span class="w">            </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-161-11"><a id="__codelineno-161-11" name="__codelineno-161-11" href="#__codelineno-161-11"></a><span class="w">            </span><span class="c1">-- Remove associated data</span>
</span><span id="__span-161-12"><a id="__codelineno-161-12" name="__codelineno-161-12" href="#__codelineno-161-12"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Data</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-161-13"><a id="__codelineno-161-13" name="__codelineno-161-13" href="#__codelineno-161-13"></a><span class="w">                </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupObjectData</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Data</span><span class="p">)</span>
</span><span id="__span-161-14"><a id="__codelineno-161-14" name="__codelineno-161-14" href="#__codelineno-161-14"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-161-15"><a id="__codelineno-161-15" name="__codelineno-161-15" href="#__codelineno-161-15"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-161-16"><a id="__codelineno-161-16" name="__codelineno-161-16" href="#__codelineno-161-16"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-161-17"><a id="__codelineno-161-17" name="__codelineno-161-17" href="#__codelineno-161-17"></a><span class="w">    </span><span class="c1">-- Clear the objects table</span>
</span><span id="__span-161-18"><a id="__codelineno-161-18" name="__codelineno-161-18" href="#__codelineno-161-18"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-161-19"><a id="__codelineno-161-19" name="__codelineno-161-19" href="#__codelineno-161-19"></a><span class="w">    </span><span class="c1">-- Reset related state</span>
</span><span id="__span-161-20"><a id="__codelineno-161-20" name="__codelineno-161-20" href="#__codelineno-161-20"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-161-21"><a id="__codelineno-161-21" name="__codelineno-161-21" href="#__codelineno-161-21"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">SelectedEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-161-22"><a id="__codelineno-161-22" name="__codelineno-161-22" href="#__codelineno-161-22"></a><span class="w">    </span><span class="c1">-- Update UI and notify</span>
</span><span id="__span-161-23"><a id="__codelineno-161-23" name="__codelineno-161-23" href="#__codelineno-161-23"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">clearedCount</span><span class="p">)</span>
</span><span id="__span-161-24"><a id="__codelineno-161-24" name="__codelineno-161-24" href="#__codelineno-161-24"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-161-25"><a id="__codelineno-161-25" name="__codelineno-161-25" href="#__codelineno-161-25"></a><span class="w">        </span><span class="c1">-- Network clear confirmation to client</span>
</span><span id="__span-161-26"><a id="__codelineno-161-26" name="__codelineno-161-26" href="#__codelineno-161-26"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_objects_cleared&quot;</span><span class="p">)</span>
</span><span id="__span-161-27"><a id="__codelineno-161-27" name="__codelineno-161-27" href="#__codelineno-161-27"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteUInt</span><span class="p">(</span><span class="nv">clearedCount</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span>
</span><span id="__span-161-28"><a id="__codelineno-161-28" name="__codelineno-161-28" href="#__codelineno-161-28"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-161-29"><a id="__codelineno-161-29" name="__codelineno-161-29" href="#__codelineno-161-29"></a><span class="w">        </span><span class="c1">-- Log the clearing action</span>
</span><span id="__span-161-30"><a id="__codelineno-161-30" name="__codelineno-161-30" href="#__codelineno-161-30"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Player &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; cleared all &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; tool objects&quot;</span><span class="p">)</span>
</span><span id="__span-161-31"><a id="__codelineno-161-31" name="__codelineno-161-31" href="#__codelineno-161-31"></a><span class="w">        </span><span class="c1">-- Save state after clearing</span>
</span><span id="__span-161-32"><a id="__codelineno-161-32" name="__codelineno-161-32" href="#__codelineno-161-32"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SaveToolState</span><span class="p">()</span>
</span><span id="__span-161-33"><a id="__codelineno-161-33" name="__codelineno-161-33" href="#__codelineno-161-33"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-161-34"><a id="__codelineno-161-34" name="__codelineno-161-34" href="#__codelineno-161-34"></a><span class="w">    </span><span class="c1">-- Reset ghost entity if needed</span>
</span><span id="__span-161-35"><a id="__codelineno-161-35" name="__codelineno-161-35" href="#__codelineno-161-35"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-161-36"><a id="__codelineno-161-36" name="__codelineno-161-36" href="#__codelineno-161-36"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-161-37"><a id="__codelineno-161-37" name="__codelineno-161-37" href="#__codelineno-161-37"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-161-38"><a id="__codelineno-161-38" name="__codelineno-161-38" href="#__codelineno-161-38"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="clearobjects_1">clearObjects</h3>
<p><strong>Purpose</strong></p>
<p>Completely clears all objects from the tool's object list and performs cleanup</p>
<p><strong>When Called</strong></p>
<p>When explicitly clearing all tool objects or during error recovery</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-162-1"><a id="__codelineno-162-1" name="__codelineno-162-1" href="#__codelineno-162-1"></a><span class="c1">-- Simple: Basic object clearing</span>
</span><span id="__span-162-2"><a id="__codelineno-162-2" name="__codelineno-162-2" href="#__codelineno-162-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-163-1"><a id="__codelineno-163-1" name="__codelineno-163-1" href="#__codelineno-163-1"></a><span class="c1">-- Medium: Clear with confirmation message</span>
</span><span id="__span-163-2"><a id="__codelineno-163-2" name="__codelineno-163-2" href="#__codelineno-163-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-163-3"><a id="__codelineno-163-3" name="__codelineno-163-3" href="#__codelineno-163-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span>
</span><span id="__span-163-4"><a id="__codelineno-163-4" name="__codelineno-163-4" href="#__codelineno-163-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-163-5"><a id="__codelineno-163-5" name="__codelineno-163-5" href="#__codelineno-163-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">count</span><span class="p">)</span>
</span><span id="__span-163-6"><a id="__codelineno-163-6" name="__codelineno-163-6" href="#__codelineno-163-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-164-1"><a id="__codelineno-164-1" name="__codelineno-164-1" href="#__codelineno-164-1"></a><span class="c1">-- High: Advanced clearing with individual cleanup and networking</span>
</span><span id="__span-164-2"><a id="__codelineno-164-2" name="__codelineno-164-2" href="#__codelineno-164-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-164-3"><a id="__codelineno-164-3" name="__codelineno-164-3" href="#__codelineno-164-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-164-4"><a id="__codelineno-164-4" name="__codelineno-164-4" href="#__codelineno-164-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span>
</span><span id="__span-164-5"><a id="__codelineno-164-5" name="__codelineno-164-5" href="#__codelineno-164-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-164-6"><a id="__codelineno-164-6" name="__codelineno-164-6" href="#__codelineno-164-6"></a><span class="w">    </span><span class="c1">-- Clean up each object individually</span>
</span><span id="__span-164-7"><a id="__codelineno-164-7" name="__codelineno-164-7" href="#__codelineno-164-7"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-164-8"><a id="__codelineno-164-8" name="__codelineno-164-8" href="#__codelineno-164-8"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-164-9"><a id="__codelineno-164-9" name="__codelineno-164-9" href="#__codelineno-164-9"></a><span class="w">            </span><span class="c1">-- Server-side entity cleanup</span>
</span><span id="__span-164-10"><a id="__codelineno-164-10" name="__codelineno-164-10" href="#__codelineno-164-10"></a><span class="w">            </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-164-11"><a id="__codelineno-164-11" name="__codelineno-164-11" href="#__codelineno-164-11"></a><span class="w">            </span><span class="c1">-- Remove associated data</span>
</span><span id="__span-164-12"><a id="__codelineno-164-12" name="__codelineno-164-12" href="#__codelineno-164-12"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Data</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-164-13"><a id="__codelineno-164-13" name="__codelineno-164-13" href="#__codelineno-164-13"></a><span class="w">                </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupObjectData</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Data</span><span class="p">)</span>
</span><span id="__span-164-14"><a id="__codelineno-164-14" name="__codelineno-164-14" href="#__codelineno-164-14"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-164-15"><a id="__codelineno-164-15" name="__codelineno-164-15" href="#__codelineno-164-15"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-164-16"><a id="__codelineno-164-16" name="__codelineno-164-16" href="#__codelineno-164-16"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-164-17"><a id="__codelineno-164-17" name="__codelineno-164-17" href="#__codelineno-164-17"></a><span class="w">    </span><span class="c1">-- Clear the objects table</span>
</span><span id="__span-164-18"><a id="__codelineno-164-18" name="__codelineno-164-18" href="#__codelineno-164-18"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-164-19"><a id="__codelineno-164-19" name="__codelineno-164-19" href="#__codelineno-164-19"></a><span class="w">    </span><span class="c1">-- Reset related state</span>
</span><span id="__span-164-20"><a id="__codelineno-164-20" name="__codelineno-164-20" href="#__codelineno-164-20"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-164-21"><a id="__codelineno-164-21" name="__codelineno-164-21" href="#__codelineno-164-21"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">SelectedEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-164-22"><a id="__codelineno-164-22" name="__codelineno-164-22" href="#__codelineno-164-22"></a><span class="w">    </span><span class="c1">-- Update UI and notify</span>
</span><span id="__span-164-23"><a id="__codelineno-164-23" name="__codelineno-164-23" href="#__codelineno-164-23"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">clearedCount</span><span class="p">)</span>
</span><span id="__span-164-24"><a id="__codelineno-164-24" name="__codelineno-164-24" href="#__codelineno-164-24"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-164-25"><a id="__codelineno-164-25" name="__codelineno-164-25" href="#__codelineno-164-25"></a><span class="w">        </span><span class="c1">-- Network clear confirmation to client</span>
</span><span id="__span-164-26"><a id="__codelineno-164-26" name="__codelineno-164-26" href="#__codelineno-164-26"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_objects_cleared&quot;</span><span class="p">)</span>
</span><span id="__span-164-27"><a id="__codelineno-164-27" name="__codelineno-164-27" href="#__codelineno-164-27"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteUInt</span><span class="p">(</span><span class="nv">clearedCount</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span>
</span><span id="__span-164-28"><a id="__codelineno-164-28" name="__codelineno-164-28" href="#__codelineno-164-28"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-164-29"><a id="__codelineno-164-29" name="__codelineno-164-29" href="#__codelineno-164-29"></a><span class="w">        </span><span class="c1">-- Log the clearing action</span>
</span><span id="__span-164-30"><a id="__codelineno-164-30" name="__codelineno-164-30" href="#__codelineno-164-30"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Player &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; cleared all &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; tool objects&quot;</span><span class="p">)</span>
</span><span id="__span-164-31"><a id="__codelineno-164-31" name="__codelineno-164-31" href="#__codelineno-164-31"></a><span class="w">        </span><span class="c1">-- Save state after clearing</span>
</span><span id="__span-164-32"><a id="__codelineno-164-32" name="__codelineno-164-32" href="#__codelineno-164-32"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SaveToolState</span><span class="p">()</span>
</span><span id="__span-164-33"><a id="__codelineno-164-33" name="__codelineno-164-33" href="#__codelineno-164-33"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-164-34"><a id="__codelineno-164-34" name="__codelineno-164-34" href="#__codelineno-164-34"></a><span class="w">    </span><span class="c1">-- Reset ghost entity if needed</span>
</span><span id="__span-164-35"><a id="__codelineno-164-35" name="__codelineno-164-35" href="#__codelineno-164-35"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-164-36"><a id="__codelineno-164-36" name="__codelineno-164-36" href="#__codelineno-164-36"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-164-37"><a id="__codelineno-164-37" name="__codelineno-164-37" href="#__codelineno-164-37"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-164-38"><a id="__codelineno-164-38" name="__codelineno-164-38" href="#__codelineno-164-38"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="clearobjects_2">clearObjects</h3>
<p><strong>Purpose</strong></p>
<p>Completely clears all objects from the tool's object list and performs cleanup</p>
<p><strong>When Called</strong></p>
<p>When explicitly clearing all tool objects or during error recovery</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-165-1"><a id="__codelineno-165-1" name="__codelineno-165-1" href="#__codelineno-165-1"></a><span class="c1">-- Simple: Basic object clearing</span>
</span><span id="__span-165-2"><a id="__codelineno-165-2" name="__codelineno-165-2" href="#__codelineno-165-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-166-1"><a id="__codelineno-166-1" name="__codelineno-166-1" href="#__codelineno-166-1"></a><span class="c1">-- Medium: Clear with confirmation message</span>
</span><span id="__span-166-2"><a id="__codelineno-166-2" name="__codelineno-166-2" href="#__codelineno-166-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-166-3"><a id="__codelineno-166-3" name="__codelineno-166-3" href="#__codelineno-166-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span>
</span><span id="__span-166-4"><a id="__codelineno-166-4" name="__codelineno-166-4" href="#__codelineno-166-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-166-5"><a id="__codelineno-166-5" name="__codelineno-166-5" href="#__codelineno-166-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">count</span><span class="p">)</span>
</span><span id="__span-166-6"><a id="__codelineno-166-6" name="__codelineno-166-6" href="#__codelineno-166-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-167-1"><a id="__codelineno-167-1" name="__codelineno-167-1" href="#__codelineno-167-1"></a><span class="c1">-- High: Advanced clearing with individual cleanup and networking</span>
</span><span id="__span-167-2"><a id="__codelineno-167-2" name="__codelineno-167-2" href="#__codelineno-167-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">clearObjects</span><span class="p">()</span>
</span><span id="__span-167-3"><a id="__codelineno-167-3" name="__codelineno-167-3" href="#__codelineno-167-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-167-4"><a id="__codelineno-167-4" name="__codelineno-167-4" href="#__codelineno-167-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span>
</span><span id="__span-167-5"><a id="__codelineno-167-5" name="__codelineno-167-5" href="#__codelineno-167-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-167-6"><a id="__codelineno-167-6" name="__codelineno-167-6" href="#__codelineno-167-6"></a><span class="w">    </span><span class="c1">-- Clean up each object individually</span>
</span><span id="__span-167-7"><a id="__codelineno-167-7" name="__codelineno-167-7" href="#__codelineno-167-7"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-167-8"><a id="__codelineno-167-8" name="__codelineno-167-8" href="#__codelineno-167-8"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-167-9"><a id="__codelineno-167-9" name="__codelineno-167-9" href="#__codelineno-167-9"></a><span class="w">            </span><span class="c1">-- Server-side entity cleanup</span>
</span><span id="__span-167-10"><a id="__codelineno-167-10" name="__codelineno-167-10" href="#__codelineno-167-10"></a><span class="w">            </span><span class="nv">obj</span><span class="p">.</span><span class="py">Ent</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-167-11"><a id="__codelineno-167-11" name="__codelineno-167-11" href="#__codelineno-167-11"></a><span class="w">            </span><span class="c1">-- Remove associated data</span>
</span><span id="__span-167-12"><a id="__codelineno-167-12" name="__codelineno-167-12" href="#__codelineno-167-12"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">obj</span><span class="p">.</span><span class="py">Data</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-167-13"><a id="__codelineno-167-13" name="__codelineno-167-13" href="#__codelineno-167-13"></a><span class="w">                </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupObjectData</span><span class="p">(</span><span class="nv">obj</span><span class="p">.</span><span class="py">Data</span><span class="p">)</span>
</span><span id="__span-167-14"><a id="__codelineno-167-14" name="__codelineno-167-14" href="#__codelineno-167-14"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-167-15"><a id="__codelineno-167-15" name="__codelineno-167-15" href="#__codelineno-167-15"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-167-16"><a id="__codelineno-167-16" name="__codelineno-167-16" href="#__codelineno-167-16"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-167-17"><a id="__codelineno-167-17" name="__codelineno-167-17" href="#__codelineno-167-17"></a><span class="w">    </span><span class="c1">-- Clear the objects table</span>
</span><span id="__span-167-18"><a id="__codelineno-167-18" name="__codelineno-167-18" href="#__codelineno-167-18"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Objects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-167-19"><a id="__codelineno-167-19" name="__codelineno-167-19" href="#__codelineno-167-19"></a><span class="w">    </span><span class="c1">-- Reset related state</span>
</span><span id="__span-167-20"><a id="__codelineno-167-20" name="__codelineno-167-20" href="#__codelineno-167-20"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Stage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-167-21"><a id="__codelineno-167-21" name="__codelineno-167-21" href="#__codelineno-167-21"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">SelectedEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-167-22"><a id="__codelineno-167-22" name="__codelineno-167-22" href="#__codelineno-167-22"></a><span class="w">    </span><span class="c1">-- Update UI and notify</span>
</span><span id="__span-167-23"><a id="__codelineno-167-23" name="__codelineno-167-23" href="#__codelineno-167-23"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Cleared %d objects&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">clearedCount</span><span class="p">)</span>
</span><span id="__span-167-24"><a id="__codelineno-167-24" name="__codelineno-167-24" href="#__codelineno-167-24"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-167-25"><a id="__codelineno-167-25" name="__codelineno-167-25" href="#__codelineno-167-25"></a><span class="w">        </span><span class="c1">-- Network clear confirmation to client</span>
</span><span id="__span-167-26"><a id="__codelineno-167-26" name="__codelineno-167-26" href="#__codelineno-167-26"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_objects_cleared&quot;</span><span class="p">)</span>
</span><span id="__span-167-27"><a id="__codelineno-167-27" name="__codelineno-167-27" href="#__codelineno-167-27"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteUInt</span><span class="p">(</span><span class="nv">clearedCount</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span>
</span><span id="__span-167-28"><a id="__codelineno-167-28" name="__codelineno-167-28" href="#__codelineno-167-28"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-167-29"><a id="__codelineno-167-29" name="__codelineno-167-29" href="#__codelineno-167-29"></a><span class="w">        </span><span class="c1">-- Log the clearing action</span>
</span><span id="__span-167-30"><a id="__codelineno-167-30" name="__codelineno-167-30" href="#__codelineno-167-30"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Player &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; cleared all &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">clearedCount</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; tool objects&quot;</span><span class="p">)</span>
</span><span id="__span-167-31"><a id="__codelineno-167-31" name="__codelineno-167-31" href="#__codelineno-167-31"></a><span class="w">        </span><span class="c1">-- Save state after clearing</span>
</span><span id="__span-167-32"><a id="__codelineno-167-32" name="__codelineno-167-32" href="#__codelineno-167-32"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">SaveToolState</span><span class="p">()</span>
</span><span id="__span-167-33"><a id="__codelineno-167-33" name="__codelineno-167-33" href="#__codelineno-167-33"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-167-34"><a id="__codelineno-167-34" name="__codelineno-167-34" href="#__codelineno-167-34"></a><span class="w">    </span><span class="c1">-- Reset ghost entity if needed</span>
</span><span id="__span-167-35"><a id="__codelineno-167-35" name="__codelineno-167-35" href="#__codelineno-167-35"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-167-36"><a id="__codelineno-167-36" name="__codelineno-167-36" href="#__codelineno-167-36"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-167-37"><a id="__codelineno-167-37" name="__codelineno-167-37" href="#__codelineno-167-37"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-167-38"><a id="__codelineno-167-38" name="__codelineno-167-38" href="#__codelineno-167-38"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="releaseghostentity">releaseGhostEntity</h3>
<p><strong>Purpose</strong></p>
<p>Safely removes and cleans up the ghost entity used for preview/placement</p>
<p><strong>When Called</strong></p>
<p>When switching tools, holstering, or when the ghost entity is no longer needed</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-168-1"><a id="__codelineno-168-1" name="__codelineno-168-1" href="#__codelineno-168-1"></a><span class="c1">-- Simple: Basic ghost entity cleanup</span>
</span><span id="__span-168-2"><a id="__codelineno-168-2" name="__codelineno-168-2" href="#__codelineno-168-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-169-1"><a id="__codelineno-169-1" name="__codelineno-169-1" href="#__codelineno-169-1"></a><span class="c1">-- Medium: Release with effects cleanup</span>
</span><span id="__span-169-2"><a id="__codelineno-169-2" name="__codelineno-169-2" href="#__codelineno-169-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-169-3"><a id="__codelineno-169-3" name="__codelineno-169-3" href="#__codelineno-169-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-169-4"><a id="__codelineno-169-4" name="__codelineno-169-4" href="#__codelineno-169-4"></a><span class="w">        </span><span class="c1">-- Remove associated effects</span>
</span><span id="__span-169-5"><a id="__codelineno-169-5" name="__codelineno-169-5" href="#__codelineno-169-5"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEffects</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-169-6"><a id="__codelineno-169-6" name="__codelineno-169-6" href="#__codelineno-169-6"></a><span class="w">            </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">effect</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEffects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-169-7"><a id="__codelineno-169-7" name="__codelineno-169-7" href="#__codelineno-169-7"></a><span class="w">                </span><span class="nv">effect</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-169-8"><a id="__codelineno-169-8" name="__codelineno-169-8" href="#__codelineno-169-8"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-169-9"><a id="__codelineno-169-9" name="__codelineno-169-9" href="#__codelineno-169-9"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEffects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-169-10"><a id="__codelineno-169-10" name="__codelineno-169-10" href="#__codelineno-169-10"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-169-11"><a id="__codelineno-169-11" name="__codelineno-169-11" href="#__codelineno-169-11"></a><span class="w">        </span><span class="nf">SafeRemoveEntity</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span>
</span><span id="__span-169-12"><a id="__codelineno-169-12" name="__codelineno-169-12" href="#__codelineno-169-12"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-169-13"><a id="__codelineno-169-13" name="__codelineno-169-13" href="#__codelineno-169-13"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Ghost entity removed&quot;</span>
</span><span id="__span-169-14"><a id="__codelineno-169-14" name="__codelineno-169-14" href="#__codelineno-169-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-169-15"><a id="__codelineno-169-15" name="__codelineno-169-15" href="#__codelineno-169-15"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-170-1"><a id="__codelineno-170-1" name="__codelineno-170-1" href="#__codelineno-170-1"></a><span class="c1">-- High: Advanced ghost entity management with networking</span>
</span><span id="__span-170-2"><a id="__codelineno-170-2" name="__codelineno-170-2" href="#__codelineno-170-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-170-3"><a id="__codelineno-170-3" name="__codelineno-170-3" href="#__codelineno-170-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-170-4"><a id="__codelineno-170-4" name="__codelineno-170-4" href="#__codelineno-170-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-170-5"><a id="__codelineno-170-5" name="__codelineno-170-5" href="#__codelineno-170-5"></a><span class="w">        </span><span class="c1">-- Store ghost entity data before removal (if needed)</span>
</span><span id="__span-170-6"><a id="__codelineno-170-6" name="__codelineno-170-6" href="#__codelineno-170-6"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="s2">&quot;preserve_ghost_data&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-170-7"><a id="__codelineno-170-7" name="__codelineno-170-7" href="#__codelineno-170-7"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastGhostData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-170-8"><a id="__codelineno-170-8" name="__codelineno-170-8" href="#__codelineno-170-8"></a><span class="w">            </span><span class="nv">Model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">GetModel</span><span class="p">(),</span>
</span><span id="__span-170-9"><a id="__codelineno-170-9" name="__codelineno-170-9" href="#__codelineno-170-9"></a><span class="w">            </span><span class="nv">Pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">(),</span>
</span><span id="__span-170-10"><a id="__codelineno-170-10" name="__codelineno-170-10" href="#__codelineno-170-10"></a><span class="w">            </span><span class="nv">Ang</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">GetAngles</span><span class="p">(),</span>
</span><span id="__span-170-11"><a id="__codelineno-170-11" name="__codelineno-170-11" href="#__codelineno-170-11"></a><span class="w">            </span><span class="nv">Time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-170-12"><a id="__codelineno-170-12" name="__codelineno-170-12" href="#__codelineno-170-12"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-170-13"><a id="__codelineno-170-13" name="__codelineno-170-13" href="#__codelineno-170-13"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-170-14"><a id="__codelineno-170-14" name="__codelineno-170-14" href="#__codelineno-170-14"></a><span class="w">        </span><span class="c1">-- Clean up associated effects and particles</span>
</span><span id="__span-170-15"><a id="__codelineno-170-15" name="__codelineno-170-15" href="#__codelineno-170-15"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupGhostEffects</span><span class="p">()</span>
</span><span id="__span-170-16"><a id="__codelineno-170-16" name="__codelineno-170-16" href="#__codelineno-170-16"></a><span class="w">        </span><span class="c1">-- Remove the ghost entity safely</span>
</span><span id="__span-170-17"><a id="__codelineno-170-17" name="__codelineno-170-17" href="#__codelineno-170-17"></a><span class="w">        </span><span class="nf">SafeRemoveEntity</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span>
</span><span id="__span-170-18"><a id="__codelineno-170-18" name="__codelineno-170-18" href="#__codelineno-170-18"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-170-19"><a id="__codelineno-170-19" name="__codelineno-170-19" href="#__codelineno-170-19"></a><span class="w">        </span><span class="c1">-- Reset ghost-related state</span>
</span><span id="__span-170-20"><a id="__codelineno-170-20" name="__codelineno-170-20" href="#__codelineno-170-20"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostStage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-170-21"><a id="__codelineno-170-21" name="__codelineno-170-21" href="#__codelineno-170-21"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostLastUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-170-22"><a id="__codelineno-170-22" name="__codelineno-170-22" href="#__codelineno-170-22"></a><span class="w">        </span><span class="c1">-- Update UI</span>
</span><span id="__span-170-23"><a id="__codelineno-170-23" name="__codelineno-170-23" href="#__codelineno-170-23"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Preview removed&quot;</span>
</span><span id="__span-170-24"><a id="__codelineno-170-24" name="__codelineno-170-24" href="#__codelineno-170-24"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-170-25"><a id="__codelineno-170-25" name="__codelineno-170-25" href="#__codelineno-170-25"></a><span class="w">            </span><span class="c1">-- Network ghost removal to clients</span>
</span><span id="__span-170-26"><a id="__codelineno-170-26" name="__codelineno-170-26" href="#__codelineno-170-26"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_ghost_removed&quot;</span><span class="p">)</span>
</span><span id="__span-170-27"><a id="__codelineno-170-27" name="__codelineno-170-27" href="#__codelineno-170-27"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteEntity</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-170-28"><a id="__codelineno-170-28" name="__codelineno-170-28" href="#__codelineno-170-28"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Broadcast</span><span class="p">()</span>
</span><span id="__span-170-29"><a id="__codelineno-170-29" name="__codelineno-170-29" href="#__codelineno-170-29"></a><span class="w">            </span><span class="c1">-- Log ghost entity removal</span>
</span><span id="__span-170-30"><a id="__codelineno-170-30" name="__codelineno-170-30" href="#__codelineno-170-30"></a><span class="w">            </span><span class="nb">print</span><span class="p">(</span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Player %s removed ghost entity for %s tool&quot;</span><span class="p">,</span>
</span><span id="__span-170-31"><a id="__codelineno-170-31" name="__codelineno-170-31" href="#__codelineno-170-31"></a><span class="w">            </span><span class="nv">owner</span><span class="p">:</span><span class="nf">Name</span><span class="p">(),</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()))</span>
</span><span id="__span-170-32"><a id="__codelineno-170-32" name="__codelineno-170-32" href="#__codelineno-170-32"></a><span class="w">            </span><span class="kr">else</span>
</span><span id="__span-170-33"><a id="__codelineno-170-33" name="__codelineno-170-33" href="#__codelineno-170-33"></a><span class="w">                </span><span class="c1">-- Client-side cleanup confirmation</span>
</span><span id="__span-170-34"><a id="__codelineno-170-34" name="__codelineno-170-34" href="#__codelineno-170-34"></a><span class="w">                </span><span class="nv">self</span><span class="p">:</span><span class="nf">ResetGhostMaterials</span><span class="p">()</span>
</span><span id="__span-170-35"><a id="__codelineno-170-35" name="__codelineno-170-35" href="#__codelineno-170-35"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-170-36"><a id="__codelineno-170-36" name="__codelineno-170-36" href="#__codelineno-170-36"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-170-37"><a id="__codelineno-170-37" name="__codelineno-170-37" href="#__codelineno-170-37"></a><span class="w">    </span><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="releaseghostentity_1">releaseGhostEntity</h3>
<p><strong>Purpose</strong></p>
<p>Safely removes and cleans up the ghost entity used for preview/placement</p>
<p><strong>When Called</strong></p>
<p>When switching tools, holstering, or when the ghost entity is no longer needed</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-171-1"><a id="__codelineno-171-1" name="__codelineno-171-1" href="#__codelineno-171-1"></a><span class="c1">-- Simple: Basic ghost entity cleanup</span>
</span><span id="__span-171-2"><a id="__codelineno-171-2" name="__codelineno-171-2" href="#__codelineno-171-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-172-1"><a id="__codelineno-172-1" name="__codelineno-172-1" href="#__codelineno-172-1"></a><span class="c1">-- Medium: Release with effects cleanup</span>
</span><span id="__span-172-2"><a id="__codelineno-172-2" name="__codelineno-172-2" href="#__codelineno-172-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-172-3"><a id="__codelineno-172-3" name="__codelineno-172-3" href="#__codelineno-172-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-172-4"><a id="__codelineno-172-4" name="__codelineno-172-4" href="#__codelineno-172-4"></a><span class="w">        </span><span class="c1">-- Remove associated effects</span>
</span><span id="__span-172-5"><a id="__codelineno-172-5" name="__codelineno-172-5" href="#__codelineno-172-5"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEffects</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-172-6"><a id="__codelineno-172-6" name="__codelineno-172-6" href="#__codelineno-172-6"></a><span class="w">            </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">effect</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEffects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-172-7"><a id="__codelineno-172-7" name="__codelineno-172-7" href="#__codelineno-172-7"></a><span class="w">                </span><span class="nv">effect</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-172-8"><a id="__codelineno-172-8" name="__codelineno-172-8" href="#__codelineno-172-8"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-172-9"><a id="__codelineno-172-9" name="__codelineno-172-9" href="#__codelineno-172-9"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEffects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-172-10"><a id="__codelineno-172-10" name="__codelineno-172-10" href="#__codelineno-172-10"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-172-11"><a id="__codelineno-172-11" name="__codelineno-172-11" href="#__codelineno-172-11"></a><span class="w">        </span><span class="nf">SafeRemoveEntity</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span>
</span><span id="__span-172-12"><a id="__codelineno-172-12" name="__codelineno-172-12" href="#__codelineno-172-12"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-172-13"><a id="__codelineno-172-13" name="__codelineno-172-13" href="#__codelineno-172-13"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Ghost entity removed&quot;</span>
</span><span id="__span-172-14"><a id="__codelineno-172-14" name="__codelineno-172-14" href="#__codelineno-172-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-172-15"><a id="__codelineno-172-15" name="__codelineno-172-15" href="#__codelineno-172-15"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-173-1"><a id="__codelineno-173-1" name="__codelineno-173-1" href="#__codelineno-173-1"></a><span class="c1">-- High: Advanced ghost entity management with networking</span>
</span><span id="__span-173-2"><a id="__codelineno-173-2" name="__codelineno-173-2" href="#__codelineno-173-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-173-3"><a id="__codelineno-173-3" name="__codelineno-173-3" href="#__codelineno-173-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-173-4"><a id="__codelineno-173-4" name="__codelineno-173-4" href="#__codelineno-173-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-173-5"><a id="__codelineno-173-5" name="__codelineno-173-5" href="#__codelineno-173-5"></a><span class="w">        </span><span class="c1">-- Store ghost entity data before removal (if needed)</span>
</span><span id="__span-173-6"><a id="__codelineno-173-6" name="__codelineno-173-6" href="#__codelineno-173-6"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="s2">&quot;preserve_ghost_data&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-173-7"><a id="__codelineno-173-7" name="__codelineno-173-7" href="#__codelineno-173-7"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastGhostData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-173-8"><a id="__codelineno-173-8" name="__codelineno-173-8" href="#__codelineno-173-8"></a><span class="w">            </span><span class="nv">Model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">GetModel</span><span class="p">(),</span>
</span><span id="__span-173-9"><a id="__codelineno-173-9" name="__codelineno-173-9" href="#__codelineno-173-9"></a><span class="w">            </span><span class="nv">Pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">(),</span>
</span><span id="__span-173-10"><a id="__codelineno-173-10" name="__codelineno-173-10" href="#__codelineno-173-10"></a><span class="w">            </span><span class="nv">Ang</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">GetAngles</span><span class="p">(),</span>
</span><span id="__span-173-11"><a id="__codelineno-173-11" name="__codelineno-173-11" href="#__codelineno-173-11"></a><span class="w">            </span><span class="nv">Time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-173-12"><a id="__codelineno-173-12" name="__codelineno-173-12" href="#__codelineno-173-12"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-173-13"><a id="__codelineno-173-13" name="__codelineno-173-13" href="#__codelineno-173-13"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-173-14"><a id="__codelineno-173-14" name="__codelineno-173-14" href="#__codelineno-173-14"></a><span class="w">        </span><span class="c1">-- Clean up associated effects and particles</span>
</span><span id="__span-173-15"><a id="__codelineno-173-15" name="__codelineno-173-15" href="#__codelineno-173-15"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupGhostEffects</span><span class="p">()</span>
</span><span id="__span-173-16"><a id="__codelineno-173-16" name="__codelineno-173-16" href="#__codelineno-173-16"></a><span class="w">        </span><span class="c1">-- Remove the ghost entity safely</span>
</span><span id="__span-173-17"><a id="__codelineno-173-17" name="__codelineno-173-17" href="#__codelineno-173-17"></a><span class="w">        </span><span class="nf">SafeRemoveEntity</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span>
</span><span id="__span-173-18"><a id="__codelineno-173-18" name="__codelineno-173-18" href="#__codelineno-173-18"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-173-19"><a id="__codelineno-173-19" name="__codelineno-173-19" href="#__codelineno-173-19"></a><span class="w">        </span><span class="c1">-- Reset ghost-related state</span>
</span><span id="__span-173-20"><a id="__codelineno-173-20" name="__codelineno-173-20" href="#__codelineno-173-20"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostStage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-173-21"><a id="__codelineno-173-21" name="__codelineno-173-21" href="#__codelineno-173-21"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostLastUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-173-22"><a id="__codelineno-173-22" name="__codelineno-173-22" href="#__codelineno-173-22"></a><span class="w">        </span><span class="c1">-- Update UI</span>
</span><span id="__span-173-23"><a id="__codelineno-173-23" name="__codelineno-173-23" href="#__codelineno-173-23"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Preview removed&quot;</span>
</span><span id="__span-173-24"><a id="__codelineno-173-24" name="__codelineno-173-24" href="#__codelineno-173-24"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-173-25"><a id="__codelineno-173-25" name="__codelineno-173-25" href="#__codelineno-173-25"></a><span class="w">            </span><span class="c1">-- Network ghost removal to clients</span>
</span><span id="__span-173-26"><a id="__codelineno-173-26" name="__codelineno-173-26" href="#__codelineno-173-26"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_ghost_removed&quot;</span><span class="p">)</span>
</span><span id="__span-173-27"><a id="__codelineno-173-27" name="__codelineno-173-27" href="#__codelineno-173-27"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteEntity</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-173-28"><a id="__codelineno-173-28" name="__codelineno-173-28" href="#__codelineno-173-28"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Broadcast</span><span class="p">()</span>
</span><span id="__span-173-29"><a id="__codelineno-173-29" name="__codelineno-173-29" href="#__codelineno-173-29"></a><span class="w">            </span><span class="c1">-- Log ghost entity removal</span>
</span><span id="__span-173-30"><a id="__codelineno-173-30" name="__codelineno-173-30" href="#__codelineno-173-30"></a><span class="w">            </span><span class="nb">print</span><span class="p">(</span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Player %s removed ghost entity for %s tool&quot;</span><span class="p">,</span>
</span><span id="__span-173-31"><a id="__codelineno-173-31" name="__codelineno-173-31" href="#__codelineno-173-31"></a><span class="w">            </span><span class="nv">owner</span><span class="p">:</span><span class="nf">Name</span><span class="p">(),</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()))</span>
</span><span id="__span-173-32"><a id="__codelineno-173-32" name="__codelineno-173-32" href="#__codelineno-173-32"></a><span class="w">            </span><span class="kr">else</span>
</span><span id="__span-173-33"><a id="__codelineno-173-33" name="__codelineno-173-33" href="#__codelineno-173-33"></a><span class="w">                </span><span class="c1">-- Client-side cleanup confirmation</span>
</span><span id="__span-173-34"><a id="__codelineno-173-34" name="__codelineno-173-34" href="#__codelineno-173-34"></a><span class="w">                </span><span class="nv">self</span><span class="p">:</span><span class="nf">ResetGhostMaterials</span><span class="p">()</span>
</span><span id="__span-173-35"><a id="__codelineno-173-35" name="__codelineno-173-35" href="#__codelineno-173-35"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-173-36"><a id="__codelineno-173-36" name="__codelineno-173-36" href="#__codelineno-173-36"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-173-37"><a id="__codelineno-173-37" name="__codelineno-173-37" href="#__codelineno-173-37"></a><span class="w">    </span><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="releaseghostentity_2">releaseGhostEntity</h3>
<p><strong>Purpose</strong></p>
<p>Safely removes and cleans up the ghost entity used for preview/placement</p>
<p><strong>When Called</strong></p>
<p>When switching tools, holstering, or when the ghost entity is no longer needed</p>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-174-1"><a id="__codelineno-174-1" name="__codelineno-174-1" href="#__codelineno-174-1"></a><span class="c1">-- Simple: Basic ghost entity cleanup</span>
</span><span id="__span-174-2"><a id="__codelineno-174-2" name="__codelineno-174-2" href="#__codelineno-174-2"></a><span class="nv">tool</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-175-1"><a id="__codelineno-175-1" name="__codelineno-175-1" href="#__codelineno-175-1"></a><span class="c1">-- Medium: Release with effects cleanup</span>
</span><span id="__span-175-2"><a id="__codelineno-175-2" name="__codelineno-175-2" href="#__codelineno-175-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-175-3"><a id="__codelineno-175-3" name="__codelineno-175-3" href="#__codelineno-175-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-175-4"><a id="__codelineno-175-4" name="__codelineno-175-4" href="#__codelineno-175-4"></a><span class="w">        </span><span class="c1">-- Remove associated effects</span>
</span><span id="__span-175-5"><a id="__codelineno-175-5" name="__codelineno-175-5" href="#__codelineno-175-5"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEffects</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-175-6"><a id="__codelineno-175-6" name="__codelineno-175-6" href="#__codelineno-175-6"></a><span class="w">            </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">effect</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEffects</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-175-7"><a id="__codelineno-175-7" name="__codelineno-175-7" href="#__codelineno-175-7"></a><span class="w">                </span><span class="nv">effect</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-175-8"><a id="__codelineno-175-8" name="__codelineno-175-8" href="#__codelineno-175-8"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-175-9"><a id="__codelineno-175-9" name="__codelineno-175-9" href="#__codelineno-175-9"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEffects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-175-10"><a id="__codelineno-175-10" name="__codelineno-175-10" href="#__codelineno-175-10"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-175-11"><a id="__codelineno-175-11" name="__codelineno-175-11" href="#__codelineno-175-11"></a><span class="w">        </span><span class="nf">SafeRemoveEntity</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span>
</span><span id="__span-175-12"><a id="__codelineno-175-12" name="__codelineno-175-12" href="#__codelineno-175-12"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-175-13"><a id="__codelineno-175-13" name="__codelineno-175-13" href="#__codelineno-175-13"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Ghost entity removed&quot;</span>
</span><span id="__span-175-14"><a id="__codelineno-175-14" name="__codelineno-175-14" href="#__codelineno-175-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-175-15"><a id="__codelineno-175-15" name="__codelineno-175-15" href="#__codelineno-175-15"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-176-1"><a id="__codelineno-176-1" name="__codelineno-176-1" href="#__codelineno-176-1"></a><span class="c1">-- High: Advanced ghost entity management with networking</span>
</span><span id="__span-176-2"><a id="__codelineno-176-2" name="__codelineno-176-2" href="#__codelineno-176-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">tool</span><span class="p">:</span><span class="nf">releaseGhostEntity</span><span class="p">()</span>
</span><span id="__span-176-3"><a id="__codelineno-176-3" name="__codelineno-176-3" href="#__codelineno-176-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">GetOwner</span><span class="p">()</span>
</span><span id="__span-176-4"><a id="__codelineno-176-4" name="__codelineno-176-4" href="#__codelineno-176-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-176-5"><a id="__codelineno-176-5" name="__codelineno-176-5" href="#__codelineno-176-5"></a><span class="w">        </span><span class="c1">-- Store ghost entity data before removal (if needed)</span>
</span><span id="__span-176-6"><a id="__codelineno-176-6" name="__codelineno-176-6" href="#__codelineno-176-6"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getClientInfo</span><span class="p">(</span><span class="s2">&quot;preserve_ghost_data&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-176-7"><a id="__codelineno-176-7" name="__codelineno-176-7" href="#__codelineno-176-7"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">LastGhostData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-176-8"><a id="__codelineno-176-8" name="__codelineno-176-8" href="#__codelineno-176-8"></a><span class="w">            </span><span class="nv">Model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">GetModel</span><span class="p">(),</span>
</span><span id="__span-176-9"><a id="__codelineno-176-9" name="__codelineno-176-9" href="#__codelineno-176-9"></a><span class="w">            </span><span class="nv">Pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">(),</span>
</span><span id="__span-176-10"><a id="__codelineno-176-10" name="__codelineno-176-10" href="#__codelineno-176-10"></a><span class="w">            </span><span class="nv">Ang</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">:</span><span class="nf">GetAngles</span><span class="p">(),</span>
</span><span id="__span-176-11"><a id="__codelineno-176-11" name="__codelineno-176-11" href="#__codelineno-176-11"></a><span class="w">            </span><span class="nv">Time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">CurTime</span><span class="p">()</span>
</span><span id="__span-176-12"><a id="__codelineno-176-12" name="__codelineno-176-12" href="#__codelineno-176-12"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-176-13"><a id="__codelineno-176-13" name="__codelineno-176-13" href="#__codelineno-176-13"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-176-14"><a id="__codelineno-176-14" name="__codelineno-176-14" href="#__codelineno-176-14"></a><span class="w">        </span><span class="c1">-- Clean up associated effects and particles</span>
</span><span id="__span-176-15"><a id="__codelineno-176-15" name="__codelineno-176-15" href="#__codelineno-176-15"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">CleanupGhostEffects</span><span class="p">()</span>
</span><span id="__span-176-16"><a id="__codelineno-176-16" name="__codelineno-176-16" href="#__codelineno-176-16"></a><span class="w">        </span><span class="c1">-- Remove the ghost entity safely</span>
</span><span id="__span-176-17"><a id="__codelineno-176-17" name="__codelineno-176-17" href="#__codelineno-176-17"></a><span class="w">        </span><span class="nf">SafeRemoveEntity</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="p">)</span>
</span><span id="__span-176-18"><a id="__codelineno-176-18" name="__codelineno-176-18" href="#__codelineno-176-18"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostEntity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-176-19"><a id="__codelineno-176-19" name="__codelineno-176-19" href="#__codelineno-176-19"></a><span class="w">        </span><span class="c1">-- Reset ghost-related state</span>
</span><span id="__span-176-20"><a id="__codelineno-176-20" name="__codelineno-176-20" href="#__codelineno-176-20"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostStage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-176-21"><a id="__codelineno-176-21" name="__codelineno-176-21" href="#__codelineno-176-21"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">GhostLastUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-176-22"><a id="__codelineno-176-22" name="__codelineno-176-22" href="#__codelineno-176-22"></a><span class="w">        </span><span class="c1">-- Update UI</span>
</span><span id="__span-176-23"><a id="__codelineno-176-23" name="__codelineno-176-23" href="#__codelineno-176-23"></a><span class="w">        </span><span class="nv">self</span><span class="p">.</span><span class="py">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Preview removed&quot;</span>
</span><span id="__span-176-24"><a id="__codelineno-176-24" name="__codelineno-176-24" href="#__codelineno-176-24"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">SERVER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-176-25"><a id="__codelineno-176-25" name="__codelineno-176-25" href="#__codelineno-176-25"></a><span class="w">            </span><span class="c1">-- Network ghost removal to clients</span>
</span><span id="__span-176-26"><a id="__codelineno-176-26" name="__codelineno-176-26" href="#__codelineno-176-26"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;tool_ghost_removed&quot;</span><span class="p">)</span>
</span><span id="__span-176-27"><a id="__codelineno-176-27" name="__codelineno-176-27" href="#__codelineno-176-27"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteEntity</span><span class="p">(</span><span class="nv">owner</span><span class="p">)</span>
</span><span id="__span-176-28"><a id="__codelineno-176-28" name="__codelineno-176-28" href="#__codelineno-176-28"></a><span class="w">            </span><span class="nv">net</span><span class="p">.</span><span class="nf">Broadcast</span><span class="p">()</span>
</span><span id="__span-176-29"><a id="__codelineno-176-29" name="__codelineno-176-29" href="#__codelineno-176-29"></a><span class="w">            </span><span class="c1">-- Log ghost entity removal</span>
</span><span id="__span-176-30"><a id="__codelineno-176-30" name="__codelineno-176-30" href="#__codelineno-176-30"></a><span class="w">            </span><span class="nb">print</span><span class="p">(</span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;Player %s removed ghost entity for %s tool&quot;</span><span class="p">,</span>
</span><span id="__span-176-31"><a id="__codelineno-176-31" name="__codelineno-176-31" href="#__codelineno-176-31"></a><span class="w">            </span><span class="nv">owner</span><span class="p">:</span><span class="nf">Name</span><span class="p">(),</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getMode</span><span class="p">()))</span>
</span><span id="__span-176-32"><a id="__codelineno-176-32" name="__codelineno-176-32" href="#__codelineno-176-32"></a><span class="w">            </span><span class="kr">else</span>
</span><span id="__span-176-33"><a id="__codelineno-176-33" name="__codelineno-176-33" href="#__codelineno-176-33"></a><span class="w">                </span><span class="c1">-- Client-side cleanup confirmation</span>
</span><span id="__span-176-34"><a id="__codelineno-176-34" name="__codelineno-176-34" href="#__codelineno-176-34"></a><span class="w">                </span><span class="nv">self</span><span class="p">:</span><span class="nf">ResetGhostMaterials</span><span class="p">()</span>
</span><span id="__span-176-35"><a id="__codelineno-176-35" name="__codelineno-176-35" href="#__codelineno-176-35"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-176-36"><a id="__codelineno-176-36" name="__codelineno-176-36" href="#__codelineno-176-36"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-176-37"><a id="__codelineno-176-37" name="__codelineno-176-37" href="#__codelineno-176-37"></a><span class="w">    </span><span class="kr">end</span>
</span></code></pre></div></p>
<hr />












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../player/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Player Meta">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Player Meta
              </div>
            </div>
          </a>
        
        
          
          <a href="../../modules/" class="md-footer__link md-footer__link--next" aria-label="Next: Modules">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Modules
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.instant.preview", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "toc.follow", "toc.integrate", "navigation.top", "header.autohide", "announce.dismiss", "navigation.footer", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.select", "content.code.annotate", "content.tabs.link", "content.tooltips", "content.footnote.tooltips"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>
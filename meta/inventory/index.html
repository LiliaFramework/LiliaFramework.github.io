
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Official documentation for the Lilia Framework">
      
      
        <meta name="author" content="Lilia Framework Team">
      
      
        <link rel="canonical" href="https://liliaframework.github.io/meta/inventory/">
      
      
        <link rel="prev" href="../entity/">
      
      
        <link rel="next" href="../item/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Inventory Meta - Lilia Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lavender">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#inventory-meta" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Lilia Documentation" class="md-header__button md-logo" aria-label="Lilia Documentation" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lilia Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Inventory Meta
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lavender"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="lavender"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/LiliaFramework/Lilia" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../changelog/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../compatibility/" class="md-tabs__link">
        
  
  
    
  
  Addon Compatibility

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../gettingstarted/" class="md-tabs__link">
        
  
  
    
  
  Getting Started with Lilia

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../installation/" class="md-tabs__link">
        
  
  
    
  
  Installation Guide

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../definitions/attributes/" class="md-tabs__link">
          
  
  
    
  
  Definitions

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../hooks/client/" class="md-tabs__link">
          
  
  
    
  
  Hooks

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../libraries/lia.admin/" class="md-tabs__link">
          
  
  
    
  
  Libraries

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../character/" class="md-tabs__link">
          
  
  
    
  
  Meta

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../modules/" class="md-tabs__link">
          
  
  
    
  
  Modules

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Lilia Documentation" class="md-nav__button md-logo" aria-label="Lilia Documentation" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Lilia Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/LiliaFramework/Lilia" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../compatibility/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Addon Compatibility
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gettingstarted/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with Lilia
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../definitions/attributes/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Definitions
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../hooks/client/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Hooks
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../libraries/lia.admin/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Libraries
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Meta
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Meta
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../character/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Character Meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../entity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Entity Meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Inventory Meta
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Inventory Meta
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getdata" class="md-nav__link">
    <span class="md-ellipsis">
      getData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logaccess" class="md-nav__link">
    <span class="md-ellipsis">
      logAccess
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extend" class="md-nav__link">
    <span class="md-ellipsis">
      extend
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure" class="md-nav__link">
    <span class="md-ellipsis">
      configure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure_1" class="md-nav__link">
    <span class="md-ellipsis">
      configure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure_2" class="md-nav__link">
    <span class="md-ellipsis">
      configure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure_3" class="md-nav__link">
    <span class="md-ellipsis">
      configure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adddataproxy" class="md-nav__link">
    <span class="md-ellipsis">
      addDataProxy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getitemsbyuniqueid" class="md-nav__link">
    <span class="md-ellipsis">
      getItemsByUniqueID
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register" class="md-nav__link">
    <span class="md-ellipsis">
      register
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#new" class="md-nav__link">
    <span class="md-ellipsis">
      new
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tostring" class="md-nav__link">
    <span class="md-ellipsis">
      tostring
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gettype" class="md-nav__link">
    <span class="md-ellipsis">
      getType
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ondatachanged" class="md-nav__link">
    <span class="md-ellipsis">
      onDataChanged
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ondatachanged_1" class="md-nav__link">
    <span class="md-ellipsis">
      onDataChanged
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ondatachanged_2" class="md-nav__link">
    <span class="md-ellipsis">
      onDataChanged
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getitems" class="md-nav__link">
    <span class="md-ellipsis">
      getItems
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getitemsoftype" class="md-nav__link">
    <span class="md-ellipsis">
      getItemsOfType
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getfirstitemoftype" class="md-nav__link">
    <span class="md-ellipsis">
      getFirstItemOfType
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasitem" class="md-nav__link">
    <span class="md-ellipsis">
      hasItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getitemcount" class="md-nav__link">
    <span class="md-ellipsis">
      getItemCount
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getid" class="md-nav__link">
    <span class="md-ellipsis">
      getID
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additem" class="md-nav__link">
    <span class="md-ellipsis">
      addItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add" class="md-nav__link">
    <span class="md-ellipsis">
      add
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syncitemadded" class="md-nav__link">
    <span class="md-ellipsis">
      syncItemAdded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializestorage" class="md-nav__link">
    <span class="md-ellipsis">
      initializeStorage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restorefromstorage" class="md-nav__link">
    <span class="md-ellipsis">
      restoreFromStorage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restorefromstorage_1" class="md-nav__link">
    <span class="md-ellipsis">
      restoreFromStorage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restorefromstorage_2" class="md-nav__link">
    <span class="md-ellipsis">
      restoreFromStorage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restorefromstorage_3" class="md-nav__link">
    <span class="md-ellipsis">
      restoreFromStorage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#removeitem" class="md-nav__link">
    <span class="md-ellipsis">
      removeItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remove" class="md-nav__link">
    <span class="md-ellipsis">
      remove
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setdata" class="md-nav__link">
    <span class="md-ellipsis">
      setData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canaccess" class="md-nav__link">
    <span class="md-ellipsis">
      canAccess
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#addaccessrule" class="md-nav__link">
    <span class="md-ellipsis">
      addAccessRule
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#removeaccessrule" class="md-nav__link">
    <span class="md-ellipsis">
      removeAccessRule
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getrecipients" class="md-nav__link">
    <span class="md-ellipsis">
      getRecipients
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oninstanced" class="md-nav__link">
    <span class="md-ellipsis">
      onInstanced
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oninstanced_1" class="md-nav__link">
    <span class="md-ellipsis">
      onInstanced
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oninstanced_2" class="md-nav__link">
    <span class="md-ellipsis">
      onInstanced
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oninstanced_3" class="md-nav__link">
    <span class="md-ellipsis">
      onInstanced
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onloaded" class="md-nav__link">
    <span class="md-ellipsis">
      onLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onloaded_1" class="md-nav__link">
    <span class="md-ellipsis">
      onLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onloaded_2" class="md-nav__link">
    <span class="md-ellipsis">
      onLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onloaded_3" class="md-nav__link">
    <span class="md-ellipsis">
      onLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loaditems" class="md-nav__link">
    <span class="md-ellipsis">
      loadItems
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onitemsloaded" class="md-nav__link">
    <span class="md-ellipsis">
      onItemsLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onitemsloaded_1" class="md-nav__link">
    <span class="md-ellipsis">
      onItemsLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onitemsloaded_2" class="md-nav__link">
    <span class="md-ellipsis">
      onItemsLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onitemsloaded_3" class="md-nav__link">
    <span class="md-ellipsis">
      onItemsLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instance" class="md-nav__link">
    <span class="md-ellipsis">
      instance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syncdata" class="md-nav__link">
    <span class="md-ellipsis">
      syncData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sync" class="md-nav__link">
    <span class="md-ellipsis">
      sync
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    <span class="md-ellipsis">
      delete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#destroy" class="md-nav__link">
    <span class="md-ellipsis">
      destroy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show" class="md-nav__link">
    <span class="md-ellipsis">
      show
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../item/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Item Meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../panel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Panel Meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../player/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Player Meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tool Gun Meta
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../modules/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="inventory-meta">Inventory Meta</h1>
<p>Inventory management system for the Lilia framework.</p>
<hr />
<p>Overview</p>
<p>The inventory meta table provides comprehensive functionality for managing inventory data, item storage, and inventory operations in the Lilia framework. It handles inventory creation, item management, data persistence, capacity management, and inventory-specific operations. The meta table operates on both server and client sides, with the server managing inventory storage and validation while the client provides inventory data access and display. It includes integration with the item system for item storage, database system for inventory persistence, character system for character inventories, and network system for inventory synchronization. The meta table ensures proper inventory data synchronization, item capacity management, item validation, and comprehensive inventory lifecycle management from creation to deletion.</p>
<hr />
<h3 id="getdata">getData</h3>
<p><strong>Purpose</strong></p>
<p>Retrieves data from the inventory's data table with optional default fallback</p>
<p><strong>When Called</strong></p>
<p>Whenever inventory data needs to be accessed with a safe default value</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>key</code> (<em>unknown</em>): The data key to retrieve</li>
<li><code>key</code> (<em>unknown</em>): The data key to retrieve</li>
<li><code>default</code> (<em>unknown</em>): Optional default value if key doesn't exist</li>
<li><code>default</code> (<em>unknown</em>): Optional default value if key doesn't exist</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The data value or default value if key doesn't exist</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">money</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;money&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">characterName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;charName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Unknown&quot;</span><span class="p">)</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kr">if</span><span class="w"> </span><span class="nv">characterName</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="s2">&quot;Unknown&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Character: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">characterName</span><span class="p">)</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nv">autoSave</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;autoSave&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">),</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nv">maxSlots</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;maxSlots&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">),</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="nv">permissions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;permissions&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{})</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="p">}</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="kr">for</span><span class="w"> </span><span class="nv">setting</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">settings</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">setting</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">value</span><span class="p">))</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="logaccess">logAccess</h3>
<p><strong>Purpose</strong></p>
<p>Extends a class with the Inventory metatable functionality</p>
<p><strong>When Called</strong></p>
<p>During inventory type registration to create specialized inventory types</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>className</code> (<em>unknown</em>): The name of the class to extend</li>
<li><code>className</code> (<em>unknown</em>): The name of the class to extend</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The extended class with Inventory functionality</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">PlayerInventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Inventory</span><span class="p">:</span><span class="nf">extend</span><span class="p">(</span><span class="s2">&quot;PlayerInventory&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">CustomInventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Inventory</span><span class="p">:</span><span class="nf">extend</span><span class="p">(</span><span class="s2">&quot;Backpack&quot;</span><span class="p">)</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nv">CustomInventory</span><span class="p">.</span><span class="py">maxSlots</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">SecureInventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Inventory</span><span class="p">:</span><span class="nf">extend</span><span class="p">(</span><span class="s2">&quot;BankVault&quot;</span><span class="p">)</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="nv">SecureInventory</span><span class="p">.</span><span class="py">accessLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;admin&quot;</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nv">SecureInventory</span><span class="p">.</span><span class="py">auditLog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="kr">function</span><span class="w"> </span><span class="nc">SecureInventory</span><span class="p">:</span><span class="nf">logAccess</span><span class="p">(</span><span class="nv">player</span><span class="p">)</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">auditLog</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">player</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">player</span><span class="p">,</span><span class="w"> </span><span class="nv">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">os.time</span><span class="p">()})</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="extend">extend</h3>
<p><strong>Purpose</strong></p>
<p>Extends a class with the Inventory metatable functionality</p>
<p><strong>When Called</strong></p>
<p>During inventory type registration to create specialized inventory types</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>className</code> (<em>unknown</em>): The name of the class to extend</li>
<li><code>className</code> (<em>unknown</em>): The name of the class to extend</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The extended class with Inventory functionality</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">PlayerInventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Inventory</span><span class="p">:</span><span class="nf">extend</span><span class="p">(</span><span class="s2">&quot;PlayerInventory&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">CustomInventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Inventory</span><span class="p">:</span><span class="nf">extend</span><span class="p">(</span><span class="s2">&quot;Backpack&quot;</span><span class="p">)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nv">CustomInventory</span><span class="p">.</span><span class="py">maxSlots</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">SecureInventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Inventory</span><span class="p">:</span><span class="nf">extend</span><span class="p">(</span><span class="s2">&quot;BankVault&quot;</span><span class="p">)</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="nv">SecureInventory</span><span class="p">.</span><span class="py">accessLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;admin&quot;</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="nv">SecureInventory</span><span class="p">.</span><span class="py">auditLog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="kr">function</span><span class="w"> </span><span class="nc">SecureInventory</span><span class="p">:</span><span class="nf">logAccess</span><span class="p">(</span><span class="nv">player</span><span class="p">)</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">    </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">auditLog</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">player</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">player</span><span class="p">,</span><span class="w"> </span><span class="nv">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">os.time</span><span class="p">()})</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="configure">configure</h3>
<p><strong>Purpose</strong></p>
<p>Configures the inventory type with default settings and rules</p>
<p><strong>When Called</strong></p>
<p>During inventory type registration, allows customization of inventory behavior</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">configure</span><span class="p">()</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">configure</span><span class="p">()</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;money&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">}</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">configure</span><span class="p">()</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;permissions&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}}</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;settings&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}}</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">addDataProxy</span><span class="p">(</span><span class="s2">&quot;permissions&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Permissions changed from&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;to&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="configure_1">configure</h3>
<p><strong>Purpose</strong></p>
<p>Configures the inventory type with default settings and rules</p>
<p><strong>When Called</strong></p>
<p>During inventory type registration, allows customization of inventory behavior</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">configure</span><span class="p">()</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">configure</span><span class="p">()</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;money&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">}</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">configure</span><span class="p">()</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;permissions&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}}</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;settings&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}}</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">addDataProxy</span><span class="p">(</span><span class="s2">&quot;permissions&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Permissions changed from&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;to&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="configure_2">configure</h3>
<p><strong>Purpose</strong></p>
<p>Configures the inventory type with default settings and rules</p>
<p><strong>When Called</strong></p>
<p>During inventory type registration, allows customization of inventory behavior</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">configure</span><span class="p">()</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">configure</span><span class="p">()</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;money&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">}</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">configure</span><span class="p">()</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;permissions&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}}</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;settings&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}}</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">addDataProxy</span><span class="p">(</span><span class="s2">&quot;permissions&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Permissions changed from&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;to&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="configure_3">configure</h3>
<p><strong>Purpose</strong></p>
<p>Configures the inventory type with default settings and rules</p>
<p><strong>When Called</strong></p>
<p>During inventory type registration, allows customization of inventory behavior</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">configure</span><span class="p">()</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">configure</span><span class="p">()</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;money&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">}</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">configure</span><span class="p">()</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;permissions&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}}</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">data</span><span class="p">[</span><span class="s2">&quot;settings&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}}</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">addDataProxy</span><span class="p">(</span><span class="s2">&quot;permissions&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Permissions changed from&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;to&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="adddataproxy">addDataProxy</h3>
<p><strong>Purpose</strong></p>
<p>Adds a data proxy function that gets called when specific data changes</p>
<p><strong>When Called</strong></p>
<p>During inventory configuration to set up data change callbacks</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>key</code> (<em>unknown</em>): The data key to monitor for changes</li>
<li><code>key</code> (<em>unknown</em>): The data key to monitor for changes</li>
<li><code>onChange</code> (<em>unknown</em>): Function to call when the data changes (oldValue, newValue)</li>
<li><code>onChange</code> (<em>unknown</em>): Function to call when the data changes (oldValue, newValue)</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">addDataProxy</span><span class="p">(</span><span class="s2">&quot;money&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Money changed from&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;to&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">addDataProxy</span><span class="p">(</span><span class="s2">&quot;level&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="kr">if</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">old</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">chat</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Level up!&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">player</span><span class="p">)</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="kr">end</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">complexProxy</span><span class="p">(</span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">new</span><span class="p">.</span><span class="py">xp</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">old</span><span class="p">.</span><span class="py">xp</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">new</span><span class="p">.</span><span class="py">xp</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">old</span><span class="p">.</span><span class="py">xp</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">gained</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="p">.</span><span class="py">xp</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">old</span><span class="p">.</span><span class="py">xp</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">        </span><span class="nv">hook</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s2">&quot;OnPlayerXPGain&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">player</span><span class="p">,</span><span class="w"> </span><span class="nv">gained</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">.</span><span class="py">level</span><span class="p">)</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="kr">end</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">addDataProxy</span><span class="p">(</span><span class="s2">&quot;stats&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">complexProxy</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getitemsbyuniqueid">getItemsByUniqueID</h3>
<p><strong>Purpose</strong></p>
<p>Retrieves all items with a specific uniqueID from the inventory</p>
<p><strong>When Called</strong></p>
<p>When you need to find all instances of a particular item type</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>uniqueID</code> (<em>unknown</em>): The uniqueID of the item type to find</li>
<li><code>uniqueID</code> (<em>unknown</em>): The uniqueID of the item type to find</li>
<li><code>onlyMain</code> (<em>unknown</em>): Optional boolean to only return items in main inventory slots</li>
<li><code>onlyMain</code> (<em>unknown</em>): Optional boolean to only return items in main inventory slots</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Table of items matching the uniqueID</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">weapons</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItemsByUniqueID</span><span class="p">(</span><span class="s2">&quot;weapon_pistol&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">foodItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItemsByUniqueID</span><span class="p">(</span><span class="s2">&quot;food_apple&quot;</span><span class="p">)</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">food</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">foodItems</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Found apple:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">food</span><span class="p">:</span><span class="nf">getID</span><span class="p">())</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">allItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItemsByUniqueID</span><span class="p">(</span><span class="s2">&quot;consumable&quot;</span><span class="p">)</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">totalValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">allItems</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">data</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="py">value</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">        </span><span class="nv">totalValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">totalValue</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="py">value</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="kr">end</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total consumable value:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">totalValue</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="register">register</h3>
<p><strong>Purpose</strong></p>
<p>Registers this inventory type with the Lilia inventory system</p>
<p><strong>When Called</strong></p>
<p>During inventory type definition to make it available for use</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>typeID</code> (<em>unknown</em>): String identifier for this inventory type</li>
<li><code>typeID</code> (<em>unknown</em>): String identifier for this inventory type</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nv">MyInventory</span><span class="p">:</span><span class="nf">register</span><span class="p">(</span><span class="s2">&quot;player&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="nv">PlayerInventory</span><span class="p">:</span><span class="nf">register</span><span class="p">(</span><span class="s2">&quot;player_backpack&quot;</span><span class="p">)</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="nv">BankInventory</span><span class="p">:</span><span class="nf">register</span><span class="p">(</span><span class="s2">&quot;secure_storage&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">types</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;player&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;vehicle&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;house&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;guild&quot;</span><span class="p">}</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">typeName</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">types</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">inventoryClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Inventory</span><span class="p">:</span><span class="nf">extend</span><span class="p">(</span><span class="nv">typeName</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;_inventory&quot;</span><span class="p">)</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="w">    </span><span class="nv">inventoryClass</span><span class="p">:</span><span class="nf">register</span><span class="p">(</span><span class="nv">typeName</span><span class="p">)</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="new">new</h3>
<p><strong>Purpose</strong></p>
<p>Creates a new instance of this inventory type</p>
<p><strong>When Called</strong></p>
<p>When you need to create a new inventory of this type</p>
<p><strong>Returns</strong></p>
<ul>
<li>New inventory instance</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">newInventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">MyInventory</span><span class="p">:</span><span class="nf">new</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">playerInv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">PlayerInventory</span><span class="p">:</span><span class="nf">new</span><span class="p">()</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">bankInv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">BankInventory</span><span class="p">:</span><span class="nf">new</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">inventories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="w">    </span><span class="nv">inventories</span><span class="p">[</span><span class="nv">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">StorageInventory</span><span class="p">:</span><span class="nf">new</span><span class="p">()</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="tostring">tostring</h3>
<p><strong>Purpose</strong></p>
<p>Returns a string representation of the inventory</p>
<p><strong>When Called</strong></p>
<p>For debugging, logging, or display purposes</p>
<p><strong>Returns</strong></p>
<ul>
<li>String representation of the inventory</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="nb">print</span><span class="p">(</span><span class="nv">inventory</span><span class="p">:</span><span class="nf">tostring</span><span class="p">())</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="nv">lia</span><span class="p">.</span><span class="py">chat</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Inventory: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">tostring</span><span class="p">())</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">inventories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">inv1</span><span class="p">,</span><span class="w"> </span><span class="nv">inv2</span><span class="p">,</span><span class="w"> </span><span class="nv">inv3</span><span class="p">}</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">inventories</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inventory &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">tostring</span><span class="p">())</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="gettype">getType</h3>
<p><strong>Purpose</strong></p>
<p>Gets the inventory type configuration</p>
<p><strong>When Called</strong></p>
<p>When you need to access type-specific settings or behavior</p>
<p><strong>Returns</strong></p>
<ul>
<li>The inventory type configuration table</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getType</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">invType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getType</span><span class="p">()</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="kr">if</span><span class="w"> </span><span class="nv">invType</span><span class="p">.</span><span class="py">maxSlots</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Max slots:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">invType</span><span class="p">.</span><span class="py">maxSlots</span><span class="p">)</span><span class="w"> </span><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">analyzeInventoryType</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getType</span><span class="p">()</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Type:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">config</span><span class="p">.</span><span class="py">typeID</span><span class="p">)</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data fields:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">table</span><span class="p">.</span><span class="nf">Count</span><span class="p">(</span><span class="nv">config</span><span class="p">.</span><span class="py">data</span><span class="p">))</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Persistent:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">config</span><span class="p">.</span><span class="py">persistent</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="ondatachanged">onDataChanged</h3>
<p><strong>Purpose</strong></p>
<p>Called when inventory data changes, triggers proxy functions</p>
<p><strong>When Called</strong></p>
<p>Automatically when setData is called and data changes</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>key</code> (<em>unknown</em>): The data key that changed</li>
<li><code>key</code> (<em>unknown</em>): The data key that changed</li>
<li><code>oldValue</code> (<em>unknown</em>): The previous value</li>
<li><code>oldValue</code> (<em>unknown</em>): The previous value</li>
<li><code>newValue</code> (<em>unknown</em>): The new value</li>
<li><code>newValue</code> (<em>unknown</em>): The new value</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="c1">-- This is usually called automatically, not manually</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">onDataChanged</span><span class="p">(</span><span class="s2">&quot;money&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="c1">-- Override in subclass for custom behavior</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onDataChanged</span><span class="p">(</span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;level&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">old</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Level increased!&quot;</span><span class="p">)</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">onDataChanged</span><span class="p">(</span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;permissions&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="w">        </span><span class="nv">hook</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s2">&quot;OnPermissionsChanged&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;settings&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">            </span><span class="kr">for</span><span class="w"> </span><span class="nv">setting</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">new</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="w">                </span><span class="kr">if</span><span class="w"> </span><span class="nv">old</span><span class="p">[</span><span class="nv">setting</span><span class="p">]</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="w">                    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Setting &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">setting</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; changed&quot;</span><span class="p">)</span>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="w">                </span><span class="kr">end</span>
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-41-10"><a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-41-11"><a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="w">    </span><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="ondatachanged_1">onDataChanged</h3>
<p><strong>Purpose</strong></p>
<p>Called when inventory data changes, triggers proxy functions</p>
<p><strong>When Called</strong></p>
<p>Automatically when setData is called and data changes</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>key</code> (<em>unknown</em>): The data key that changed</li>
<li><code>key</code> (<em>unknown</em>): The data key that changed</li>
<li><code>oldValue</code> (<em>unknown</em>): The previous value</li>
<li><code>oldValue</code> (<em>unknown</em>): The previous value</li>
<li><code>newValue</code> (<em>unknown</em>): The new value</li>
<li><code>newValue</code> (<em>unknown</em>): The new value</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="c1">-- This is usually called automatically, not manually</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">onDataChanged</span><span class="p">(</span><span class="s2">&quot;money&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="c1">-- Override in subclass for custom behavior</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onDataChanged</span><span class="p">(</span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;level&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">old</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Level increased!&quot;</span><span class="p">)</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">onDataChanged</span><span class="p">(</span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;permissions&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">        </span><span class="nv">hook</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s2">&quot;OnPermissionsChanged&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;settings&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="w">            </span><span class="kr">for</span><span class="w"> </span><span class="nv">setting</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">new</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="w">                </span><span class="kr">if</span><span class="w"> </span><span class="nv">old</span><span class="p">[</span><span class="nv">setting</span><span class="p">]</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="w">                    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Setting &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">setting</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; changed&quot;</span><span class="p">)</span>
</span><span id="__span-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="w">                </span><span class="kr">end</span>
</span><span id="__span-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-44-10"><a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-44-11"><a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a><span class="w">    </span><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="ondatachanged_2">onDataChanged</h3>
<p><strong>Purpose</strong></p>
<p>Called when inventory data changes, triggers proxy functions</p>
<p><strong>When Called</strong></p>
<p>Automatically when setData is called and data changes</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>key</code> (<em>unknown</em>): The data key that changed</li>
<li><code>key</code> (<em>unknown</em>): The data key that changed</li>
<li><code>oldValue</code> (<em>unknown</em>): The previous value</li>
<li><code>oldValue</code> (<em>unknown</em>): The previous value</li>
<li><code>newValue</code> (<em>unknown</em>): The new value</li>
<li><code>newValue</code> (<em>unknown</em>): The new value</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="c1">-- This is usually called automatically, not manually</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">onDataChanged</span><span class="p">(</span><span class="s2">&quot;money&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="c1">-- Override in subclass for custom behavior</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onDataChanged</span><span class="p">(</span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;level&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">old</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Level increased!&quot;</span><span class="p">)</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">onDataChanged</span><span class="p">(</span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;permissions&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="w">        </span><span class="nv">hook</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s2">&quot;OnPermissionsChanged&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">old</span><span class="p">,</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;settings&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">            </span><span class="kr">for</span><span class="w"> </span><span class="nv">setting</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">new</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="w">                </span><span class="kr">if</span><span class="w"> </span><span class="nv">old</span><span class="p">[</span><span class="nv">setting</span><span class="p">]</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-47-7"><a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="w">                    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Setting &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">setting</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; changed&quot;</span><span class="p">)</span>
</span><span id="__span-47-8"><a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">                </span><span class="kr">end</span>
</span><span id="__span-47-9"><a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-47-10"><a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-47-11"><a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a><span class="w">    </span><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="getitems">getItems</h3>
<p><strong>Purpose</strong></p>
<p>Gets all items in the inventory</p>
<p><strong>When Called</strong></p>
<p>When you need to iterate through all inventory items</p>
<p><strong>Returns</strong></p>
<ul>
<li>Table of all items in the inventory</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItems</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItems</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Item:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">analyzeInventoryContents</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getItems</span><span class="p">()</span>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">totalValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">categories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="w">        </span><span class="nv">totalValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">totalValue</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nv">item</span><span class="p">:</span><span class="nf">getValue</span><span class="p">()</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">category</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">category</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;misc&quot;</span>
</span><span id="__span-50-8"><a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="w">        </span><span class="nv">categories</span><span class="p">[</span><span class="nv">category</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nv">categories</span><span class="p">[</span><span class="nv">category</span><span class="p">]</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-50-9"><a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-50-10"><a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">totalValue</span><span class="p">,</span><span class="w"> </span><span class="nv">categories</span>
</span><span id="__span-50-11"><a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="getitemsoftype">getItemsOfType</h3>
<p><strong>Purpose</strong></p>
<p>Gets all items of a specific type from the inventory</p>
<p><strong>When Called</strong></p>
<p>When you need items of a particular type for processing</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>itemType</code> (<em>unknown</em>): The uniqueID of the item type to find</li>
<li><code>itemType</code> (<em>unknown</em>): The uniqueID of the item type to find</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Table of items matching the specified type</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">weapons</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItemsOfType</span><span class="p">(</span><span class="s2">&quot;weapon_pistol&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">food</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItemsOfType</span><span class="p">(</span><span class="s2">&quot;food_apple&quot;</span><span class="p">)</span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Found&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">food</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;apples&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">getItemsByRarity</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">rarity</span><span class="p">)</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">inv</span><span class="p">:</span><span class="nf">getItems</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">data</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="py">rarity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">rarity</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">items</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-53-7"><a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-53-8"><a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">items</span>
</span><span id="__span-53-9"><a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="kr">end</span>
</span><span id="__span-53-10"><a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="kd">local</span><span class="w"> </span><span class="nv">rareItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">getItemsByRarity</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;legendary&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getfirstitemoftype">getFirstItemOfType</h3>
<p><strong>Purpose</strong></p>
<p>Gets the first item of a specific type from the inventory</p>
<p><strong>When Called</strong></p>
<p>When you need any single item of a type (efficiency over getting all)</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>itemType</code> (<em>unknown</em>): The uniqueID of the item type to find</li>
<li><code>itemType</code> (<em>unknown</em>): The uniqueID of the item type to find</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The first item found of the specified type, or nil if none found</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getFirstItemOfType</span><span class="p">(</span><span class="s2">&quot;weapon_pistol&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">apple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getFirstItemOfType</span><span class="p">(</span><span class="s2">&quot;food_apple&quot;</span><span class="p">)</span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="kr">if</span><span class="w"> </span><span class="nv">apple</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="nv">apple</span><span class="p">:</span><span class="nf">use</span><span class="p">(</span><span class="nv">player</span><span class="p">)</span><span class="w"> </span><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">findBestTool</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">toolType</span><span class="p">)</span>
</span><span id="__span-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">tools</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getItemsOfType</span><span class="p">(</span><span class="nv">toolType</span><span class="p">)</span>
</span><span id="__span-56-3"><a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">bestTool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-56-4"><a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">bestLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-56-5"><a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">tool</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">tools</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-56-6"><a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">tool</span><span class="p">.</span><span class="py">data</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">tool</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="py">level</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">bestLevel</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-56-7"><a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="w">            </span><span class="nv">bestTool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span>
</span><span id="__span-56-8"><a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="w">            </span><span class="nv">bestLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tool</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="py">level</span>
</span><span id="__span-56-9"><a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-56-10"><a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-56-11"><a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">bestTool</span>
</span><span id="__span-56-12"><a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a><span class="kr">end</span>
</span><span id="__span-56-13"><a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a><span class="kd">local</span><span class="w"> </span><span class="nv">bestPickaxe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">findBestTool</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tool_pickaxe&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="hasitem">hasItem</h3>
<p><strong>Purpose</strong></p>
<p>Checks if the inventory contains at least one item of a specific type</p>
<p><strong>When Called</strong></p>
<p>For quick boolean checks before performing actions</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>itemType</code> (<em>unknown</em>): The uniqueID of the item type to check for</li>
<li><code>itemType</code> (<em>unknown</em>): The uniqueID of the item type to check for</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Boolean indicating if the item type exists in inventory</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="kr">if</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">hasItem</span><span class="p">(</span><span class="s2">&quot;food_apple&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Has apple!&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="kr">if</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">hasItem</span><span class="p">(</span><span class="s2">&quot;weapon_pistol&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="w">    </span><span class="nv">player</span><span class="p">:</span><span class="nf">giveWeapon</span><span class="p">(</span><span class="s2">&quot;weapon_pistol&quot;</span><span class="p">)</span>
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">canCraftRecipe</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">recipe</span><span class="p">)</span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">ingredient</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">recipe</span><span class="p">.</span><span class="py">ingredients</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">hasItem</span><span class="p">(</span><span class="nv">ingredient</span><span class="p">.</span><span class="py">id</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Missing: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">ingredient</span><span class="p">.</span><span class="py">name</span>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-59-7"><a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-59-8"><a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="kr">end</span>
</span><span id="__span-59-9"><a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a><span class="kd">local</span><span class="w"> </span><span class="nv">canCraft</span><span class="p">,</span><span class="w"> </span><span class="nv">reason</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">canCraftRecipe</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="nv">woodRecipe</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getitemcount">getItemCount</h3>
<p><strong>Purpose</strong></p>
<p>Counts total quantity of items of a specific type in the inventory</p>
<p><strong>When Called</strong></p>
<p>When you need to know how many of a particular item type exist</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>itemType</code> (<em>unknown</em>): Optional uniqueID of item type to count, nil for all items</li>
<li><code>itemType</code> (<em>unknown</em>): Optional uniqueID of item type to count, nil for all items</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Number representing total quantity of specified item type</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">appleCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItemCount</span><span class="p">(</span><span class="s2">&quot;food_apple&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">totalFood</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItemCount</span><span class="p">(</span><span class="s2">&quot;food&quot;</span><span class="p">)</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">totalWeapons</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItemCount</span><span class="p">(</span><span class="s2">&quot;weapon&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">calculateInventoryWeight</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">totalWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">inv</span><span class="p">:</span><span class="nf">getItems</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">itemWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">item</span><span class="p">:</span><span class="py">getWeight</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">item</span><span class="p">:</span><span class="nf">getWeight</span><span class="p">()</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a><span class="w">        </span><span class="nv">totalWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">totalWeight</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nv">itemWeight</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">item</span><span class="p">:</span><span class="nf">getQuantity</span><span class="p">())</span>
</span><span id="__span-62-6"><a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-62-7"><a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">totalWeight</span>
</span><span id="__span-62-8"><a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a><span class="kr">end</span>
</span><span id="__span-62-9"><a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a><span class="kd">local</span><span class="w"> </span><span class="nv">weight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">calculateInventoryWeight</span><span class="p">(</span><span class="nv">inventory</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getid">getID</h3>
<p><strong>Purpose</strong></p>
<p>Gets the unique ID of this inventory instance</p>
<p><strong>When Called</strong></p>
<p>When you need to reference this specific inventory instance</p>
<p><strong>Returns</strong></p>
<ul>
<li>The inventory's unique ID number</li>
</ul>
<p><strong>Realm</strong></p>
<p>Both</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getID</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inventory ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getID</span><span class="p">())</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">transferItems</span><span class="p">(</span><span class="nv">fromInv</span><span class="p">,</span><span class="w"> </span><span class="nv">toInv</span><span class="p">,</span><span class="w"> </span><span class="nv">itemType</span><span class="p">)</span>
</span><span id="__span-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">fromInv</span><span class="p">:</span><span class="nf">getItemsOfType</span><span class="p">(</span><span class="nv">itemType</span><span class="p">)</span>
</span><span id="__span-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-65-4"><a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="w">        </span><span class="nv">fromInv</span><span class="p">:</span><span class="nf">removeItem</span><span class="p">(</span><span class="nv">item</span><span class="p">:</span><span class="nf">getID</span><span class="p">())</span>
</span><span id="__span-65-5"><a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="w">        </span><span class="nv">toInv</span><span class="p">:</span><span class="nf">addItem</span><span class="p">(</span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-65-6"><a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-65-7"><a id="__codelineno-65-7" name="__codelineno-65-7" href="#__codelineno-65-7"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transferred&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">items</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;items between inventories&quot;</span><span class="p">,</span>
</span><span id="__span-65-8"><a id="__codelineno-65-8" name="__codelineno-65-8" href="#__codelineno-65-8"></a><span class="w">    </span><span class="nv">fromInv</span><span class="p">:</span><span class="nf">getID</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;and&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">toInv</span><span class="p">:</span><span class="nf">getID</span><span class="p">())</span>
</span><span id="__span-65-9"><a id="__codelineno-65-9" name="__codelineno-65-9" href="#__codelineno-65-9"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="additem">addItem</h3>
<p><strong>Purpose</strong></p>
<p>Adds an item to the inventory with optional replication control</p>
<p><strong>When Called</strong></p>
<p>When items need to be added to an inventory instance</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>item</code> (<em>unknown</em>): The item instance to add</li>
<li><code>item</code> (<em>unknown</em>): The item instance to add</li>
<li><code>noReplicate</code> (<em>unknown</em>): Optional boolean to skip network synchronization</li>
<li><code>noReplicate</code> (<em>unknown</em>): Optional boolean to skip network synchronization</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The inventory instance for method chaining</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">addItem</span><span class="p">(</span><span class="nv">myItem</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">item</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;weapon_pistol&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-67-2"><a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="nv">player</span><span class="p">:</span><span class="nf">getInventory</span><span class="p">():</span><span class="nf">addItem</span><span class="p">(</span><span class="nv">weapon</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">addItemsToInventory</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">itemList</span><span class="p">)</span>
</span><span id="__span-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">itemData</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">itemList</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-68-3"><a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">item</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="nv">itemData</span><span class="p">.</span><span class="py">uniqueID</span><span class="p">,</span><span class="w"> </span><span class="nv">itemData</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-68-4"><a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-68-5"><a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="w">            </span><span class="nv">inv</span><span class="p">:</span><span class="nf">addItem</span><span class="p">(</span><span class="nv">item</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="w"> </span><span class="c1">-- Force replication</span>
</span><span id="__span-68-6"><a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-68-7"><a id="__codelineno-68-7" name="__codelineno-68-7" href="#__codelineno-68-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-68-8"><a id="__codelineno-68-8" name="__codelineno-68-8" href="#__codelineno-68-8"></a><span class="kr">end</span>
</span><span id="__span-68-9"><a id="__codelineno-68-9" name="__codelineno-68-9" href="#__codelineno-68-9"></a><span class="nf">addItemsToInventory</span><span class="p">(</span><span class="nv">playerInventory</span><span class="p">,</span><span class="w"> </span><span class="nv">lootTable</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="add">add</h3>
<p><strong>Purpose</strong></p>
<p>Alias for addItem method for convenience</p>
<p><strong>When Called</strong></p>
<p>Alternative method name for adding items</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>item</code> (<em>unknown</em>): The item instance to add</li>
<li><code>item</code> (<em>unknown</em>): The item instance to add</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The inventory instance for method chaining</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">add</span><span class="p">(</span><span class="nv">myItem</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="nv">playerInventory</span><span class="p">:</span><span class="nf">add</span><span class="p">(</span><span class="nv">lia</span><span class="p">.</span><span class="py">item</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;food_apple&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;weapon_pistol&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">armor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;armor_helmet&quot;</span><span class="p">}</span>
</span><span id="__span-71-2"><a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="kr">for</span><span class="w"> </span><span class="nv">slot</span><span class="p">,</span><span class="w"> </span><span class="nv">uniqueID</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-71-3"><a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">item</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="nv">uniqueID</span><span class="p">,</span><span class="w"> </span><span class="nv">slot</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;_id&quot;</span><span class="p">)</span>
</span><span id="__span-71-4"><a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a><span class="w">    </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">add</span><span class="p">(</span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-71-5"><a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="syncitemadded">syncItemAdded</h3>
<p><strong>Purpose</strong></p>
<p>Synchronizes newly added items to appropriate clients</p>
<p><strong>When Called</strong></p>
<p>Automatically called when items are added to inventory</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>item</code> (<em>unknown</em>): The item that was added</li>
<li><code>item</code> (<em>unknown</em>): The item that was added</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="c1">-- Usually called automatically by addItem</span>
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">syncItemAdded</span><span class="p">(</span><span class="nv">item</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">item</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;weapon_sniper&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-73-2"><a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">addItem</span><span class="p">(</span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-73-3"><a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="c1">-- syncItemAdded is called automatically</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">batchAddItems</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-74-2"><a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-74-3"><a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a><span class="w">        </span><span class="nv">inv</span><span class="p">:</span><span class="nf">addItem</span><span class="p">(</span><span class="nv">item</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="c1">-- Don&#39;t replicate individually</span>
</span><span id="__span-74-4"><a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-74-5"><a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a><span class="w">    </span><span class="c1">-- Manually sync all at once</span>
</span><span id="__span-74-6"><a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">inv</span><span class="p">:</span><span class="nf">getItems</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-74-7"><a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a><span class="w">        </span><span class="nv">inv</span><span class="p">:</span><span class="nf">syncItemAdded</span><span class="p">(</span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-74-8"><a id="__codelineno-74-8" name="__codelineno-74-8" href="#__codelineno-74-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-74-9"><a id="__codelineno-74-9" name="__codelineno-74-9" href="#__codelineno-74-9"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="initializestorage">initializeStorage</h3>
<p><strong>Purpose</strong></p>
<p>Initializes inventory storage in the database</p>
<p><strong>When Called</strong></p>
<p>When creating new persistent inventories</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>initialData</code> (<em>unknown</em>): Initial data to store with the inventory</li>
<li><code>initialData</code> (<em>unknown</em>): Initial data to store with the inventory</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Deferred object that resolves when storage is initialized</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">deferred</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">initializeStorage</span><span class="p">({</span><span class="nv">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">characterID</span><span class="p">})</span>
</span><span id="__span-75-2"><a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a><span class="nv">deferred</span><span class="p">:</span><span class="nf">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">id</span><span class="p">)</span><span class="w"> </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Created inventory:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span><span class="w"> </span><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">initialData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-76-2"><a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a><span class="nv">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">player</span><span class="p">:</span><span class="nf">getCharacter</span><span class="p">():</span><span class="nf">getID</span><span class="p">(),</span>
</span><span id="__span-76-3"><a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a><span class="nv">permissions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;read&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;write&quot;</span><span class="p">}</span>
</span><span id="__span-76-4"><a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a><span class="p">}</span>
</span><span id="__span-76-5"><a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">initializeStorage</span><span class="p">(</span><span class="nv">initialData</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">createGuildInventory</span><span class="p">(</span><span class="nv">guildData</span><span class="p">)</span>
</span><span id="__span-77-2"><a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;guild_storage&quot;</span><span class="p">)</span>
</span><span id="__span-77-3"><a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">initialData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-77-4"><a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a><span class="w">    </span><span class="nv">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">guildData</span><span class="p">.</span><span class="py">leaderID</span><span class="p">,</span>
</span><span id="__span-77-5"><a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a><span class="w">    </span><span class="nv">guildID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">guildData</span><span class="p">.</span><span class="py">id</span><span class="p">,</span>
</span><span id="__span-77-6"><a id="__codelineno-77-6" name="__codelineno-77-6" href="#__codelineno-77-6"></a><span class="w">    </span><span class="nv">accessLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;member&quot;</span><span class="p">,</span>
</span><span id="__span-77-7"><a id="__codelineno-77-7" name="__codelineno-77-7" href="#__codelineno-77-7"></a><span class="w">    </span><span class="nv">maxSlots</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">guildData</span><span class="p">.</span><span class="py">tier</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">50</span>
</span><span id="__span-77-8"><a id="__codelineno-77-8" name="__codelineno-77-8" href="#__codelineno-77-8"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-77-9"><a id="__codelineno-77-9" name="__codelineno-77-9" href="#__codelineno-77-9"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">initializeStorage</span><span class="p">(</span><span class="nv">initialData</span><span class="p">)</span>
</span><span id="__span-77-10"><a id="__codelineno-77-10" name="__codelineno-77-10" href="#__codelineno-77-10"></a><span class="kr">end</span>
</span><span id="__span-77-11"><a id="__codelineno-77-11" name="__codelineno-77-11" href="#__codelineno-77-11"></a><span class="kd">local</span><span class="w"> </span><span class="nv">deferred</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">createGuildInventory</span><span class="p">(</span><span class="nv">guildInfo</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="restorefromstorage">restoreFromStorage</h3>
<p><strong>Purpose</strong></p>
<p>Placeholder for restoring inventory from storage</p>
<p><strong>When Called</strong></p>
<p>When loading existing inventories from database</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="c1">-- Override in subclass for custom restoration logic</span>
</span><span id="__span-78-2"><a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">restoreFromStorage</span><span class="p">()</span>
</span><span id="__span-78-3"><a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a><span class="w">    </span><span class="c1">-- Custom restoration code here</span>
</span><span id="__span-78-4"><a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">SecureInventory</span><span class="p">:</span><span class="nf">restoreFromStorage</span><span class="p">()</span>
</span><span id="__span-79-2"><a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a><span class="w">    </span><span class="c1">-- Load encryption keys, permissions, etc.</span>
</span><span id="__span-79-3"><a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">encryptionKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;encryptionKey&quot;</span><span class="p">)</span>
</span><span id="__span-79-4"><a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">restoreFromStorage</span><span class="p">()</span>
</span><span id="__span-80-2"><a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="w">    </span><span class="c1">-- Restore complex state from multiple data sources</span>
</span><span id="__span-80-3"><a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">loadAccessRules</span><span class="p">()</span>
</span><span id="__span-80-4"><a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">restoreItemStates</span><span class="p">()</span>
</span><span id="__span-80-5"><a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">validateIntegrity</span><span class="p">()</span>
</span><span id="__span-80-6"><a id="__codelineno-80-6" name="__codelineno-80-6" href="#__codelineno-80-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="restorefromstorage_1">restoreFromStorage</h3>
<p><strong>Purpose</strong></p>
<p>Placeholder for restoring inventory from storage</p>
<p><strong>When Called</strong></p>
<p>When loading existing inventories from database</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="c1">-- Override in subclass for custom restoration logic</span>
</span><span id="__span-81-2"><a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">restoreFromStorage</span><span class="p">()</span>
</span><span id="__span-81-3"><a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a><span class="w">    </span><span class="c1">-- Custom restoration code here</span>
</span><span id="__span-81-4"><a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">SecureInventory</span><span class="p">:</span><span class="nf">restoreFromStorage</span><span class="p">()</span>
</span><span id="__span-82-2"><a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a><span class="w">    </span><span class="c1">-- Load encryption keys, permissions, etc.</span>
</span><span id="__span-82-3"><a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">encryptionKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;encryptionKey&quot;</span><span class="p">)</span>
</span><span id="__span-82-4"><a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">restoreFromStorage</span><span class="p">()</span>
</span><span id="__span-83-2"><a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="w">    </span><span class="c1">-- Restore complex state from multiple data sources</span>
</span><span id="__span-83-3"><a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">loadAccessRules</span><span class="p">()</span>
</span><span id="__span-83-4"><a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">restoreItemStates</span><span class="p">()</span>
</span><span id="__span-83-5"><a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">validateIntegrity</span><span class="p">()</span>
</span><span id="__span-83-6"><a id="__codelineno-83-6" name="__codelineno-83-6" href="#__codelineno-83-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="restorefromstorage_2">restoreFromStorage</h3>
<p><strong>Purpose</strong></p>
<p>Placeholder for restoring inventory from storage</p>
<p><strong>When Called</strong></p>
<p>When loading existing inventories from database</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="c1">-- Override in subclass for custom restoration logic</span>
</span><span id="__span-84-2"><a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">restoreFromStorage</span><span class="p">()</span>
</span><span id="__span-84-3"><a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a><span class="w">    </span><span class="c1">-- Custom restoration code here</span>
</span><span id="__span-84-4"><a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">SecureInventory</span><span class="p">:</span><span class="nf">restoreFromStorage</span><span class="p">()</span>
</span><span id="__span-85-2"><a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a><span class="w">    </span><span class="c1">-- Load encryption keys, permissions, etc.</span>
</span><span id="__span-85-3"><a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">encryptionKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;encryptionKey&quot;</span><span class="p">)</span>
</span><span id="__span-85-4"><a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">restoreFromStorage</span><span class="p">()</span>
</span><span id="__span-86-2"><a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="w">    </span><span class="c1">-- Restore complex state from multiple data sources</span>
</span><span id="__span-86-3"><a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">loadAccessRules</span><span class="p">()</span>
</span><span id="__span-86-4"><a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">restoreItemStates</span><span class="p">()</span>
</span><span id="__span-86-5"><a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">validateIntegrity</span><span class="p">()</span>
</span><span id="__span-86-6"><a id="__codelineno-86-6" name="__codelineno-86-6" href="#__codelineno-86-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="restorefromstorage_3">restoreFromStorage</h3>
<p><strong>Purpose</strong></p>
<p>Placeholder for restoring inventory from storage</p>
<p><strong>When Called</strong></p>
<p>When loading existing inventories from database</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="c1">-- Override in subclass for custom restoration logic</span>
</span><span id="__span-87-2"><a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">restoreFromStorage</span><span class="p">()</span>
</span><span id="__span-87-3"><a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a><span class="w">    </span><span class="c1">-- Custom restoration code here</span>
</span><span id="__span-87-4"><a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-88-1"><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">SecureInventory</span><span class="p">:</span><span class="nf">restoreFromStorage</span><span class="p">()</span>
</span><span id="__span-88-2"><a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a><span class="w">    </span><span class="c1">-- Load encryption keys, permissions, etc.</span>
</span><span id="__span-88-3"><a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">encryptionKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;encryptionKey&quot;</span><span class="p">)</span>
</span><span id="__span-88-4"><a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-89-1"><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">restoreFromStorage</span><span class="p">()</span>
</span><span id="__span-89-2"><a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a><span class="w">    </span><span class="c1">-- Restore complex state from multiple data sources</span>
</span><span id="__span-89-3"><a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">loadAccessRules</span><span class="p">()</span>
</span><span id="__span-89-4"><a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">restoreItemStates</span><span class="p">()</span>
</span><span id="__span-89-5"><a id="__codelineno-89-5" name="__codelineno-89-5" href="#__codelineno-89-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">validateIntegrity</span><span class="p">()</span>
</span><span id="__span-89-6"><a id="__codelineno-89-6" name="__codelineno-89-6" href="#__codelineno-89-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="removeitem">removeItem</h3>
<p><strong>Purpose</strong></p>
<p>Removes an item from the inventory with optional preservation</p>
<p><strong>When Called</strong></p>
<p>When items need to be removed from inventory</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>itemID</code> (<em>unknown</em>): The ID of the item to remove</li>
<li><code>itemID</code> (<em>unknown</em>): The ID of the item to remove</li>
<li><code>preserveItem</code> (<em>unknown</em>): Optional boolean to preserve item data in database</li>
<li><code>preserveItem</code> (<em>unknown</em>): Optional boolean to preserve item data in database</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Deferred object that resolves when removal is complete</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-90-1"><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">removeItem</span><span class="p">(</span><span class="mi">12345</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-91-1"><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">itemID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">playerInventory</span><span class="p">:</span><span class="nf">getFirstItemOfType</span><span class="p">(</span><span class="s2">&quot;food_apple&quot;</span><span class="p">):</span><span class="nf">getID</span><span class="p">()</span>
</span><span id="__span-91-2"><a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">removeItem</span><span class="p">(</span><span class="nv">itemID</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-92-1"><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">removeItemsByType</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">itemType</span><span class="p">,</span><span class="w"> </span><span class="nv">preserve</span><span class="p">)</span>
</span><span id="__span-92-2"><a id="__codelineno-92-2" name="__codelineno-92-2" href="#__codelineno-92-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getItemsOfType</span><span class="p">(</span><span class="nv">itemType</span><span class="p">)</span>
</span><span id="__span-92-3"><a id="__codelineno-92-3" name="__codelineno-92-3" href="#__codelineno-92-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">deferreds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-92-4"><a id="__codelineno-92-4" name="__codelineno-92-4" href="#__codelineno-92-4"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-92-5"><a id="__codelineno-92-5" name="__codelineno-92-5" href="#__codelineno-92-5"></a><span class="w">        </span><span class="nv">deferreds</span><span class="p">[</span><span class="o">#</span><span class="nv">deferreds</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">removeItem</span><span class="p">(</span><span class="nv">item</span><span class="p">:</span><span class="nf">getID</span><span class="p">(),</span><span class="w"> </span><span class="nv">preserve</span><span class="p">)</span>
</span><span id="__span-92-6"><a id="__codelineno-92-6" name="__codelineno-92-6" href="#__codelineno-92-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-92-7"><a id="__codelineno-92-7" name="__codelineno-92-7" href="#__codelineno-92-7"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">deferreds</span>
</span><span id="__span-92-8"><a id="__codelineno-92-8" name="__codelineno-92-8" href="#__codelineno-92-8"></a><span class="kr">end</span>
</span><span id="__span-92-9"><a id="__codelineno-92-9" name="__codelineno-92-9" href="#__codelineno-92-9"></a><span class="kd">local</span><span class="w"> </span><span class="nv">deferreds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">removeItemsByType</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;expired_food&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="remove">remove</h3>
<p><strong>Purpose</strong></p>
<p>Alias for removeItem method for convenience</p>
<p><strong>When Called</strong></p>
<p>Alternative method name for removing items</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>itemID</code> (<em>unknown</em>): The ID of the item to remove</li>
<li><code>itemID</code> (<em>unknown</em>): The ID of the item to remove</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Deferred object that resolves when removal is complete</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-93-1"><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">remove</span><span class="p">(</span><span class="mi">12345</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-94-1"><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getFirstItemOfType</span><span class="p">(</span><span class="s2">&quot;weapon_knife&quot;</span><span class="p">)</span>
</span><span id="__span-94-2"><a id="__codelineno-94-2" name="__codelineno-94-2" href="#__codelineno-94-2"></a><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">remove</span><span class="p">(</span><span class="nv">item</span><span class="p">:</span><span class="nf">getID</span><span class="p">())</span><span class="w"> </span><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-95-1"><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">clearInventoryOfType</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">itemType</span><span class="p">)</span>
</span><span id="__span-95-2"><a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getItemsOfType</span><span class="p">(</span><span class="nv">itemType</span><span class="p">)</span>
</span><span id="__span-95-3"><a id="__codelineno-95-3" name="__codelineno-95-3" href="#__codelineno-95-3"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-95-4"><a id="__codelineno-95-4" name="__codelineno-95-4" href="#__codelineno-95-4"></a><span class="w">        </span><span class="nv">inv</span><span class="p">:</span><span class="nf">remove</span><span class="p">(</span><span class="nv">item</span><span class="p">:</span><span class="nf">getID</span><span class="p">())</span>
</span><span id="__span-95-5"><a id="__codelineno-95-5" name="__codelineno-95-5" href="#__codelineno-95-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-95-6"><a id="__codelineno-95-6" name="__codelineno-95-6" href="#__codelineno-95-6"></a><span class="kr">end</span>
</span><span id="__span-95-7"><a id="__codelineno-95-7" name="__codelineno-95-7" href="#__codelineno-95-7"></a><span class="nf">clearInventoryOfType</span><span class="p">(</span><span class="nv">playerInventory</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;contraband&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="setdata">setData</h3>
<p><strong>Purpose</strong></p>
<p>Sets data for the inventory and persists to database</p>
<p><strong>When Called</strong></p>
<p>When inventory data needs to be updated</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>key</code> (<em>unknown</em>): The data key to set</li>
<li><code>key</code> (<em>unknown</em>): The data key to set</li>
<li><code>value</code> (<em>unknown</em>): The value to set for the key</li>
<li><code>value</code> (<em>unknown</em>): The value to set for the key</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The inventory instance for method chaining</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-96-1"><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">setData</span><span class="p">(</span><span class="s2">&quot;money&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-97-1"><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">setData</span><span class="p">(</span><span class="s2">&quot;permissions&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;read&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;write&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;admin&quot;</span><span class="p">})</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-98-1"><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">updateInventoryStats</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">stats</span><span class="p">)</span>
</span><span id="__span-98-2"><a id="__codelineno-98-2" name="__codelineno-98-2" href="#__codelineno-98-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">statName</span><span class="p">,</span><span class="w"> </span><span class="nv">statValue</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">stats</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-98-3"><a id="__codelineno-98-3" name="__codelineno-98-3" href="#__codelineno-98-3"></a><span class="w">        </span><span class="nv">inv</span><span class="p">:</span><span class="nf">setData</span><span class="p">(</span><span class="nv">statName</span><span class="p">,</span><span class="w"> </span><span class="nv">statValue</span><span class="p">)</span>
</span><span id="__span-98-4"><a id="__codelineno-98-4" name="__codelineno-98-4" href="#__codelineno-98-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-98-5"><a id="__codelineno-98-5" name="__codelineno-98-5" href="#__codelineno-98-5"></a><span class="w">    </span><span class="c1">-- Trigger custom update logic</span>
</span><span id="__span-98-6"><a id="__codelineno-98-6" name="__codelineno-98-6" href="#__codelineno-98-6"></a><span class="w">    </span><span class="nv">inv</span><span class="p">:</span><span class="nf">onStatsUpdated</span><span class="p">(</span><span class="nv">stats</span><span class="p">)</span>
</span><span id="__span-98-7"><a id="__codelineno-98-7" name="__codelineno-98-7" href="#__codelineno-98-7"></a><span class="kr">end</span>
</span><span id="__span-98-8"><a id="__codelineno-98-8" name="__codelineno-98-8" href="#__codelineno-98-8"></a><span class="nf">updateInventoryStats</span><span class="p">(</span><span class="nv">guildInventory</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nv">members</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span><span class="p">})</span>
</span></code></pre></div></p>
<hr />
<h3 id="canaccess">canAccess</h3>
<p><strong>Purpose</strong></p>
<p>Checks if an action is allowed on this inventory</p>
<p><strong>When Called</strong></p>
<p>Before performing actions that require access control</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>action</code> (<em>unknown</em>): The action to check (e.g., "repl", "add", "remove")</li>
<li><code>action</code> (<em>unknown</em>): The action to check (e.g., "repl", "add", "remove")</li>
<li><code>context</code> (<em>unknown</em>): Optional context table with additional information</li>
<li><code>context</code> (<em>unknown</em>): Optional context table with additional information</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Boolean indicating if action is allowed, and optional reason string</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-99-1"><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">canAccess</span><span class="p">,</span><span class="w"> </span><span class="nv">reason</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">canAccess</span><span class="p">(</span><span class="s2">&quot;repl&quot;</span><span class="p">)</span>
</span><span id="__span-99-2"><a id="__codelineno-99-2" name="__codelineno-99-2" href="#__codelineno-99-2"></a><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">canAccess</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Access denied:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">reason</span><span class="p">)</span><span class="w"> </span><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-100-1"><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">canAdd</span><span class="p">,</span><span class="w"> </span><span class="nv">reason</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">canAccess</span><span class="p">(</span><span class="s2">&quot;add&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">player</span><span class="p">})</span>
</span><span id="__span-100-2"><a id="__codelineno-100-2" name="__codelineno-100-2" href="#__codelineno-100-2"></a><span class="kr">if</span><span class="w"> </span><span class="nv">canAdd</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">addItem</span><span class="p">(</span><span class="nv">item</span><span class="p">)</span><span class="w"> </span><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-101-1"><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">checkInventoryPermissions</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">player</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">)</span>
</span><span id="__span-101-2"><a id="__codelineno-101-2" name="__codelineno-101-2" href="#__codelineno-101-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-101-3"><a id="__codelineno-101-3" name="__codelineno-101-3" href="#__codelineno-101-3"></a><span class="w">    </span><span class="nv">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">player</span><span class="p">,</span>
</span><span id="__span-101-4"><a id="__codelineno-101-4" name="__codelineno-101-4" href="#__codelineno-101-4"></a><span class="w">    </span><span class="nv">itemType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;weapon&quot;</span><span class="p">,</span>
</span><span id="__span-101-5"><a id="__codelineno-101-5" name="__codelineno-101-5" href="#__codelineno-101-5"></a><span class="w">    </span><span class="nv">quantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-101-6"><a id="__codelineno-101-6" name="__codelineno-101-6" href="#__codelineno-101-6"></a><span class="w">    </span><span class="nv">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">os.time</span><span class="p">()</span>
</span><span id="__span-101-7"><a id="__codelineno-101-7" name="__codelineno-101-7" href="#__codelineno-101-7"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-101-8"><a id="__codelineno-101-8" name="__codelineno-101-8" href="#__codelineno-101-8"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">allowed</span><span class="p">,</span><span class="w"> </span><span class="nv">reason</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">canAccess</span><span class="p">(</span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-101-9"><a id="__codelineno-101-9" name="__codelineno-101-9" href="#__codelineno-101-9"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">allowed</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-101-10"><a id="__codelineno-101-10" name="__codelineno-101-10" href="#__codelineno-101-10"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nv">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;inventory_denied&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">reason</span><span class="p">)</span>
</span><span id="__span-101-11"><a id="__codelineno-101-11" name="__codelineno-101-11" href="#__codelineno-101-11"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-101-12"><a id="__codelineno-101-12" name="__codelineno-101-12" href="#__codelineno-101-12"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">allowed</span><span class="p">,</span><span class="w"> </span><span class="nv">reason</span>
</span><span id="__span-101-13"><a id="__codelineno-101-13" name="__codelineno-101-13" href="#__codelineno-101-13"></a><span class="kr">end</span>
</span><span id="__span-101-14"><a id="__codelineno-101-14" name="__codelineno-101-14" href="#__codelineno-101-14"></a><span class="kd">local</span><span class="w"> </span><span class="nv">canTake</span><span class="p">,</span><span class="w"> </span><span class="nv">reason</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">checkInventoryPermissions</span><span class="p">(</span><span class="nv">bankInv</span><span class="p">,</span><span class="w"> </span><span class="nv">robber</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;remove&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="addaccessrule">addAccessRule</h3>
<p><strong>Purpose</strong></p>
<p>Adds an access control rule to the inventory</p>
<p><strong>When Called</strong></p>
<p>During inventory configuration to set up access control</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>rule</code> (<em>unknown</em>): Function that takes (inventory, action, context) and returns bool, string</li>
<li><code>rule</code> (<em>unknown</em>): Function that takes (inventory, action, context) and returns bool, string</li>
<li><code>priority</code> (<em>unknown</em>): Optional priority number for rule evaluation order</li>
<li><code>priority</code> (<em>unknown</em>): Optional priority number for rule evaluation order</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The inventory instance for method chaining</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-102-1"><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">addAccessRule</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-102-2"><a id="__codelineno-102-2" name="__codelineno-102-2" href="#__codelineno-102-2"></a><span class="kr">if</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;repl&quot;</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-102-3"><a id="__codelineno-102-3" name="__codelineno-102-3" href="#__codelineno-102-3"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-103-1"><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">addAccessRule</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-103-2"><a id="__codelineno-103-2" name="__codelineno-103-2" href="#__codelineno-103-2"></a><span class="kr">if</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">client</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-103-3"><a id="__codelineno-103-3" name="__codelineno-103-3" href="#__codelineno-103-3"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Owner access&quot;</span>
</span><span id="__span-103-4"><a id="__codelineno-103-4" name="__codelineno-103-4" href="#__codelineno-103-4"></a><span class="kr">end</span>
</span><span id="__span-103-5"><a id="__codelineno-103-5" name="__codelineno-103-5" href="#__codelineno-103-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-104-1"><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">complexAccessRule</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-104-2"><a id="__codelineno-104-2" name="__codelineno-104-2" href="#__codelineno-104-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">client</span>
</span><span id="__span-104-3"><a id="__codelineno-104-3" name="__codelineno-104-3" href="#__codelineno-104-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">client</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;No client provided&quot;</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-104-4"><a id="__codelineno-104-4" name="__codelineno-104-4" href="#__codelineno-104-4"></a><span class="w">        </span><span class="c1">-- Check if client is admin</span>
</span><span id="__span-104-5"><a id="__codelineno-104-5" name="__codelineno-104-5" href="#__codelineno-104-5"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isAdmin</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Admin access&quot;</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-104-6"><a id="__codelineno-104-6" name="__codelineno-104-6" href="#__codelineno-104-6"></a><span class="w">            </span><span class="c1">-- Check time-based restrictions</span>
</span><span id="__span-104-7"><a id="__codelineno-104-7" name="__codelineno-104-7" href="#__codelineno-104-7"></a><span class="w">            </span><span class="kd">local</span><span class="w"> </span><span class="nv">currentHour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">os.date</span><span class="p">(</span><span class="s2">&quot;%H&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">os.time</span><span class="p">())</span>
</span><span id="__span-104-8"><a id="__codelineno-104-8" name="__codelineno-104-8" href="#__codelineno-104-8"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;remove&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">currentHour</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-104-9"><a id="__codelineno-104-9" name="__codelineno-104-9" href="#__codelineno-104-9"></a><span class="w">                </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Withdrawals not allowed before 6 AM&quot;</span>
</span><span id="__span-104-10"><a id="__codelineno-104-10" name="__codelineno-104-10" href="#__codelineno-104-10"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-104-11"><a id="__codelineno-104-11" name="__codelineno-104-11" href="#__codelineno-104-11"></a><span class="w">            </span><span class="c1">-- Check item-specific rules</span>
</span><span id="__span-104-12"><a id="__codelineno-104-12" name="__codelineno-104-12" href="#__codelineno-104-12"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">itemType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;weapon&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-104-13"><a id="__codelineno-104-13" name="__codelineno-104-13" href="#__codelineno-104-13"></a><span class="w">                </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">hasFlag</span><span class="p">(</span><span class="s2">&quot;can_carry_weapons&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-104-14"><a id="__codelineno-104-14" name="__codelineno-104-14" href="#__codelineno-104-14"></a><span class="w">                    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;No weapon permit&quot;</span>
</span><span id="__span-104-15"><a id="__codelineno-104-15" name="__codelineno-104-15" href="#__codelineno-104-15"></a><span class="w">                </span><span class="kr">end</span>
</span><span id="__span-104-16"><a id="__codelineno-104-16" name="__codelineno-104-16" href="#__codelineno-104-16"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-104-17"><a id="__codelineno-104-17" name="__codelineno-104-17" href="#__codelineno-104-17"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-104-18"><a id="__codelineno-104-18" name="__codelineno-104-18" href="#__codelineno-104-18"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-104-19"><a id="__codelineno-104-19" name="__codelineno-104-19" href="#__codelineno-104-19"></a><span class="w">        </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">addAccessRule</span><span class="p">(</span><span class="nv">complexAccessRule</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="removeaccessrule">removeAccessRule</h3>
<p><strong>Purpose</strong></p>
<p>Removes an access control rule from the inventory</p>
<p><strong>When Called</strong></p>
<p>When access rules need to be removed or updated</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>rule</code> (<em>unknown</em>): The rule function to remove</li>
<li><code>rule</code> (<em>unknown</em>): The rule function to remove</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The inventory instance for method chaining</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-105-1"><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">removeAccessRule</span><span class="p">(</span><span class="nv">myRule</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-106-1"><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">rules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">accessRules</span>
</span><span id="__span-106-2"><a id="__codelineno-106-2" name="__codelineno-106-2" href="#__codelineno-106-2"></a><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">rule</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">rules</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-106-3"><a id="__codelineno-106-3" name="__codelineno-106-3" href="#__codelineno-106-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">rule</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">tempAccessRule</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-106-4"><a id="__codelineno-106-4" name="__codelineno-106-4" href="#__codelineno-106-4"></a><span class="w">        </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">removeAccessRule</span><span class="p">(</span><span class="nv">rule</span><span class="p">)</span>
</span><span id="__span-106-5"><a id="__codelineno-106-5" name="__codelineno-106-5" href="#__codelineno-106-5"></a><span class="w">        </span><span class="kr">break</span>
</span><span id="__span-106-6"><a id="__codelineno-106-6" name="__codelineno-106-6" href="#__codelineno-106-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-106-7"><a id="__codelineno-106-7" name="__codelineno-106-7" href="#__codelineno-106-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-107-1"><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">cleanupAccessRules</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-107-2"><a id="__codelineno-107-2" name="__codelineno-107-2" href="#__codelineno-107-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">rules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">accessRules</span>
</span><span id="__span-107-3"><a id="__codelineno-107-3" name="__codelineno-107-3" href="#__codelineno-107-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">currentTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">os.time</span><span class="p">()</span>
</span><span id="__span-107-4"><a id="__codelineno-107-4" name="__codelineno-107-4" href="#__codelineno-107-4"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">rules</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-107-5"><a id="__codelineno-107-5" name="__codelineno-107-5" href="#__codelineno-107-5"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">rule</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">rules</span><span class="p">[</span><span class="nv">i</span><span class="p">]</span>
</span><span id="__span-107-6"><a id="__codelineno-107-6" name="__codelineno-107-6" href="#__codelineno-107-6"></a><span class="w">        </span><span class="c1">-- Remove expired temporary rules</span>
</span><span id="__span-107-7"><a id="__codelineno-107-7" name="__codelineno-107-7" href="#__codelineno-107-7"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">rule</span><span class="p">.</span><span class="py">expiry</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">rule</span><span class="p">.</span><span class="py">expiry</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">currentTime</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-107-8"><a id="__codelineno-107-8" name="__codelineno-107-8" href="#__codelineno-107-8"></a><span class="w">            </span><span class="nv">inv</span><span class="p">:</span><span class="nf">removeAccessRule</span><span class="p">(</span><span class="nv">rule</span><span class="p">)</span>
</span><span id="__span-107-9"><a id="__codelineno-107-9" name="__codelineno-107-9" href="#__codelineno-107-9"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-107-10"><a id="__codelineno-107-10" name="__codelineno-107-10" href="#__codelineno-107-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-107-11"><a id="__codelineno-107-11" name="__codelineno-107-11" href="#__codelineno-107-11"></a><span class="kr">end</span>
</span><span id="__span-107-12"><a id="__codelineno-107-12" name="__codelineno-107-12" href="#__codelineno-107-12"></a><span class="nf">cleanupAccessRules</span><span class="p">(</span><span class="nv">guildInventory</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getrecipients">getRecipients</h3>
<p><strong>Purpose</strong></p>
<p>Gets list of clients that should receive inventory updates</p>
<p><strong>When Called</strong></p>
<p>When synchronizing inventory changes to clients</p>
<p><strong>Returns</strong></p>
<ul>
<li>Table of client entities that can access this inventory</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-108-1"><a id="__codelineno-108-1" name="__codelineno-108-1" href="#__codelineno-108-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">recipients</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getRecipients</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-109-1"><a id="__codelineno-109-1" name="__codelineno-109-1" href="#__codelineno-109-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">players</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getRecipients</span><span class="p">()</span>
</span><span id="__span-109-2"><a id="__codelineno-109-2" name="__codelineno-109-2" href="#__codelineno-109-2"></a><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">players</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-109-3"><a id="__codelineno-109-3" name="__codelineno-109-3" href="#__codelineno-109-3"></a><span class="w">    </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;Inventory updated&quot;</span><span class="p">)</span>
</span><span id="__span-109-4"><a id="__codelineno-109-4" name="__codelineno-109-4" href="#__codelineno-109-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-110-1"><a id="__codelineno-110-1" name="__codelineno-110-1" href="#__codelineno-110-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">sendCustomNotification</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">message</span><span class="p">)</span>
</span><span id="__span-110-2"><a id="__codelineno-110-2" name="__codelineno-110-2" href="#__codelineno-110-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">recipients</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getRecipients</span><span class="p">()</span>
</span><span id="__span-110-3"><a id="__codelineno-110-3" name="__codelineno-110-3" href="#__codelineno-110-3"></a><span class="w">    </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;CustomInventoryNotification&quot;</span><span class="p">)</span>
</span><span id="__span-110-4"><a id="__codelineno-110-4" name="__codelineno-110-4" href="#__codelineno-110-4"></a><span class="w">    </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteString</span><span class="p">(</span><span class="nv">message</span><span class="p">)</span>
</span><span id="__span-110-5"><a id="__codelineno-110-5" name="__codelineno-110-5" href="#__codelineno-110-5"></a><span class="w">    </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">recipients</span><span class="p">)</span>
</span><span id="__span-110-6"><a id="__codelineno-110-6" name="__codelineno-110-6" href="#__codelineno-110-6"></a><span class="kr">end</span>
</span><span id="__span-110-7"><a id="__codelineno-110-7" name="__codelineno-110-7" href="#__codelineno-110-7"></a><span class="nf">sendCustomNotification</span><span class="p">(</span><span class="nv">bankInventory</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Security alert triggered!&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="oninstanced">onInstanced</h3>
<p><strong>Purpose</strong></p>
<p>Called when inventory instance is created</p>
<p><strong>When Called</strong></p>
<p>Automatically when inventory instances are created</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-111-1"><a id="__codelineno-111-1" name="__codelineno-111-1" href="#__codelineno-111-1"></a><span class="c1">-- Override in subclass for custom initialization</span>
</span><span id="__span-111-2"><a id="__codelineno-111-2" name="__codelineno-111-2" href="#__codelineno-111-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onInstanced</span><span class="p">()</span>
</span><span id="__span-111-3"><a id="__codelineno-111-3" name="__codelineno-111-3" href="#__codelineno-111-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;New inventory created&quot;</span><span class="p">)</span>
</span><span id="__span-111-4"><a id="__codelineno-111-4" name="__codelineno-111-4" href="#__codelineno-111-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-112-1"><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">onInstanced</span><span class="p">()</span>
</span><span id="__span-112-2"><a id="__codelineno-112-2" name="__codelineno-112-2" href="#__codelineno-112-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">addAccessRule</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-112-3"><a id="__codelineno-112-3" name="__codelineno-112-3" href="#__codelineno-112-3"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">client</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">()</span>
</span><span id="__span-112-4"><a id="__codelineno-112-4" name="__codelineno-112-4" href="#__codelineno-112-4"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-112-5"><a id="__codelineno-112-5" name="__codelineno-112-5" href="#__codelineno-112-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-113-1"><a id="__codelineno-113-1" name="__codelineno-113-1" href="#__codelineno-113-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">SecureInventory</span><span class="p">:</span><span class="nf">onInstanced</span><span class="p">()</span>
</span><span id="__span-113-2"><a id="__codelineno-113-2" name="__codelineno-113-2" href="#__codelineno-113-2"></a><span class="w">    </span><span class="c1">-- Initialize security features</span>
</span><span id="__span-113-3"><a id="__codelineno-113-3" name="__codelineno-113-3" href="#__codelineno-113-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">securityLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;securityLevel&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-113-4"><a id="__codelineno-113-4" name="__codelineno-113-4" href="#__codelineno-113-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">accessLog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-113-5"><a id="__codelineno-113-5" name="__codelineno-113-5" href="#__codelineno-113-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">failedAttempts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-113-6"><a id="__codelineno-113-6" name="__codelineno-113-6" href="#__codelineno-113-6"></a><span class="w">    </span><span class="c1">-- Set up monitoring</span>
</span><span id="__span-113-7"><a id="__codelineno-113-7" name="__codelineno-113-7" href="#__codelineno-113-7"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">addAccessRule</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-113-8"><a id="__codelineno-113-8" name="__codelineno-113-8" href="#__codelineno-113-8"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;remove&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">securityLevel</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-113-9"><a id="__codelineno-113-9" name="__codelineno-113-9" href="#__codelineno-113-9"></a><span class="w">        </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">inv</span><span class="p">.</span><span class="py">accessLog</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-113-10"><a id="__codelineno-113-10" name="__codelineno-113-10" href="#__codelineno-113-10"></a><span class="w">        </span><span class="nv">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">client</span><span class="p">,</span>
</span><span id="__span-113-11"><a id="__codelineno-113-11" name="__codelineno-113-11" href="#__codelineno-113-11"></a><span class="w">        </span><span class="nv">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span>
</span><span id="__span-113-12"><a id="__codelineno-113-12" name="__codelineno-113-12" href="#__codelineno-113-12"></a><span class="w">        </span><span class="nv">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">os.time</span><span class="p">()</span>
</span><span id="__span-113-13"><a id="__codelineno-113-13" name="__codelineno-113-13" href="#__codelineno-113-13"></a><span class="w">        </span><span class="p">})</span>
</span><span id="__span-113-14"><a id="__codelineno-113-14" name="__codelineno-113-14" href="#__codelineno-113-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-113-15"><a id="__codelineno-113-15" name="__codelineno-113-15" href="#__codelineno-113-15"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-113-16"><a id="__codelineno-113-16" name="__codelineno-113-16" href="#__codelineno-113-16"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-113-17"><a id="__codelineno-113-17" name="__codelineno-113-17" href="#__codelineno-113-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="oninstanced_1">onInstanced</h3>
<p><strong>Purpose</strong></p>
<p>Called when inventory instance is created</p>
<p><strong>When Called</strong></p>
<p>Automatically when inventory instances are created</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-114-1"><a id="__codelineno-114-1" name="__codelineno-114-1" href="#__codelineno-114-1"></a><span class="c1">-- Override in subclass for custom initialization</span>
</span><span id="__span-114-2"><a id="__codelineno-114-2" name="__codelineno-114-2" href="#__codelineno-114-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onInstanced</span><span class="p">()</span>
</span><span id="__span-114-3"><a id="__codelineno-114-3" name="__codelineno-114-3" href="#__codelineno-114-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;New inventory created&quot;</span><span class="p">)</span>
</span><span id="__span-114-4"><a id="__codelineno-114-4" name="__codelineno-114-4" href="#__codelineno-114-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-115-1"><a id="__codelineno-115-1" name="__codelineno-115-1" href="#__codelineno-115-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">onInstanced</span><span class="p">()</span>
</span><span id="__span-115-2"><a id="__codelineno-115-2" name="__codelineno-115-2" href="#__codelineno-115-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">addAccessRule</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-115-3"><a id="__codelineno-115-3" name="__codelineno-115-3" href="#__codelineno-115-3"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">client</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">()</span>
</span><span id="__span-115-4"><a id="__codelineno-115-4" name="__codelineno-115-4" href="#__codelineno-115-4"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-115-5"><a id="__codelineno-115-5" name="__codelineno-115-5" href="#__codelineno-115-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-116-1"><a id="__codelineno-116-1" name="__codelineno-116-1" href="#__codelineno-116-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">SecureInventory</span><span class="p">:</span><span class="nf">onInstanced</span><span class="p">()</span>
</span><span id="__span-116-2"><a id="__codelineno-116-2" name="__codelineno-116-2" href="#__codelineno-116-2"></a><span class="w">    </span><span class="c1">-- Initialize security features</span>
</span><span id="__span-116-3"><a id="__codelineno-116-3" name="__codelineno-116-3" href="#__codelineno-116-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">securityLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;securityLevel&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-116-4"><a id="__codelineno-116-4" name="__codelineno-116-4" href="#__codelineno-116-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">accessLog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-116-5"><a id="__codelineno-116-5" name="__codelineno-116-5" href="#__codelineno-116-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">failedAttempts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-116-6"><a id="__codelineno-116-6" name="__codelineno-116-6" href="#__codelineno-116-6"></a><span class="w">    </span><span class="c1">-- Set up monitoring</span>
</span><span id="__span-116-7"><a id="__codelineno-116-7" name="__codelineno-116-7" href="#__codelineno-116-7"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">addAccessRule</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-116-8"><a id="__codelineno-116-8" name="__codelineno-116-8" href="#__codelineno-116-8"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;remove&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">securityLevel</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-116-9"><a id="__codelineno-116-9" name="__codelineno-116-9" href="#__codelineno-116-9"></a><span class="w">        </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">inv</span><span class="p">.</span><span class="py">accessLog</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-116-10"><a id="__codelineno-116-10" name="__codelineno-116-10" href="#__codelineno-116-10"></a><span class="w">        </span><span class="nv">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">client</span><span class="p">,</span>
</span><span id="__span-116-11"><a id="__codelineno-116-11" name="__codelineno-116-11" href="#__codelineno-116-11"></a><span class="w">        </span><span class="nv">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span>
</span><span id="__span-116-12"><a id="__codelineno-116-12" name="__codelineno-116-12" href="#__codelineno-116-12"></a><span class="w">        </span><span class="nv">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">os.time</span><span class="p">()</span>
</span><span id="__span-116-13"><a id="__codelineno-116-13" name="__codelineno-116-13" href="#__codelineno-116-13"></a><span class="w">        </span><span class="p">})</span>
</span><span id="__span-116-14"><a id="__codelineno-116-14" name="__codelineno-116-14" href="#__codelineno-116-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-116-15"><a id="__codelineno-116-15" name="__codelineno-116-15" href="#__codelineno-116-15"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-116-16"><a id="__codelineno-116-16" name="__codelineno-116-16" href="#__codelineno-116-16"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-116-17"><a id="__codelineno-116-17" name="__codelineno-116-17" href="#__codelineno-116-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="oninstanced_2">onInstanced</h3>
<p><strong>Purpose</strong></p>
<p>Called when inventory instance is created</p>
<p><strong>When Called</strong></p>
<p>Automatically when inventory instances are created</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-117-1"><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a><span class="c1">-- Override in subclass for custom initialization</span>
</span><span id="__span-117-2"><a id="__codelineno-117-2" name="__codelineno-117-2" href="#__codelineno-117-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onInstanced</span><span class="p">()</span>
</span><span id="__span-117-3"><a id="__codelineno-117-3" name="__codelineno-117-3" href="#__codelineno-117-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;New inventory created&quot;</span><span class="p">)</span>
</span><span id="__span-117-4"><a id="__codelineno-117-4" name="__codelineno-117-4" href="#__codelineno-117-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-118-1"><a id="__codelineno-118-1" name="__codelineno-118-1" href="#__codelineno-118-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">onInstanced</span><span class="p">()</span>
</span><span id="__span-118-2"><a id="__codelineno-118-2" name="__codelineno-118-2" href="#__codelineno-118-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">addAccessRule</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-118-3"><a id="__codelineno-118-3" name="__codelineno-118-3" href="#__codelineno-118-3"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">client</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">()</span>
</span><span id="__span-118-4"><a id="__codelineno-118-4" name="__codelineno-118-4" href="#__codelineno-118-4"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-118-5"><a id="__codelineno-118-5" name="__codelineno-118-5" href="#__codelineno-118-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-119-1"><a id="__codelineno-119-1" name="__codelineno-119-1" href="#__codelineno-119-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">SecureInventory</span><span class="p">:</span><span class="nf">onInstanced</span><span class="p">()</span>
</span><span id="__span-119-2"><a id="__codelineno-119-2" name="__codelineno-119-2" href="#__codelineno-119-2"></a><span class="w">    </span><span class="c1">-- Initialize security features</span>
</span><span id="__span-119-3"><a id="__codelineno-119-3" name="__codelineno-119-3" href="#__codelineno-119-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">securityLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;securityLevel&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-119-4"><a id="__codelineno-119-4" name="__codelineno-119-4" href="#__codelineno-119-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">accessLog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-119-5"><a id="__codelineno-119-5" name="__codelineno-119-5" href="#__codelineno-119-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">failedAttempts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-119-6"><a id="__codelineno-119-6" name="__codelineno-119-6" href="#__codelineno-119-6"></a><span class="w">    </span><span class="c1">-- Set up monitoring</span>
</span><span id="__span-119-7"><a id="__codelineno-119-7" name="__codelineno-119-7" href="#__codelineno-119-7"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">addAccessRule</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-119-8"><a id="__codelineno-119-8" name="__codelineno-119-8" href="#__codelineno-119-8"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;remove&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">securityLevel</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-119-9"><a id="__codelineno-119-9" name="__codelineno-119-9" href="#__codelineno-119-9"></a><span class="w">        </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">inv</span><span class="p">.</span><span class="py">accessLog</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-119-10"><a id="__codelineno-119-10" name="__codelineno-119-10" href="#__codelineno-119-10"></a><span class="w">        </span><span class="nv">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">client</span><span class="p">,</span>
</span><span id="__span-119-11"><a id="__codelineno-119-11" name="__codelineno-119-11" href="#__codelineno-119-11"></a><span class="w">        </span><span class="nv">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span>
</span><span id="__span-119-12"><a id="__codelineno-119-12" name="__codelineno-119-12" href="#__codelineno-119-12"></a><span class="w">        </span><span class="nv">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">os.time</span><span class="p">()</span>
</span><span id="__span-119-13"><a id="__codelineno-119-13" name="__codelineno-119-13" href="#__codelineno-119-13"></a><span class="w">        </span><span class="p">})</span>
</span><span id="__span-119-14"><a id="__codelineno-119-14" name="__codelineno-119-14" href="#__codelineno-119-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-119-15"><a id="__codelineno-119-15" name="__codelineno-119-15" href="#__codelineno-119-15"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-119-16"><a id="__codelineno-119-16" name="__codelineno-119-16" href="#__codelineno-119-16"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-119-17"><a id="__codelineno-119-17" name="__codelineno-119-17" href="#__codelineno-119-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="oninstanced_3">onInstanced</h3>
<p><strong>Purpose</strong></p>
<p>Called when inventory instance is created</p>
<p><strong>When Called</strong></p>
<p>Automatically when inventory instances are created</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-120-1"><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a><span class="c1">-- Override in subclass for custom initialization</span>
</span><span id="__span-120-2"><a id="__codelineno-120-2" name="__codelineno-120-2" href="#__codelineno-120-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onInstanced</span><span class="p">()</span>
</span><span id="__span-120-3"><a id="__codelineno-120-3" name="__codelineno-120-3" href="#__codelineno-120-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;New inventory created&quot;</span><span class="p">)</span>
</span><span id="__span-120-4"><a id="__codelineno-120-4" name="__codelineno-120-4" href="#__codelineno-120-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-121-1"><a id="__codelineno-121-1" name="__codelineno-121-1" href="#__codelineno-121-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">onInstanced</span><span class="p">()</span>
</span><span id="__span-121-2"><a id="__codelineno-121-2" name="__codelineno-121-2" href="#__codelineno-121-2"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">addAccessRule</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-121-3"><a id="__codelineno-121-3" name="__codelineno-121-3" href="#__codelineno-121-3"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">client</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">()</span>
</span><span id="__span-121-4"><a id="__codelineno-121-4" name="__codelineno-121-4" href="#__codelineno-121-4"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-121-5"><a id="__codelineno-121-5" name="__codelineno-121-5" href="#__codelineno-121-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-122-1"><a id="__codelineno-122-1" name="__codelineno-122-1" href="#__codelineno-122-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">SecureInventory</span><span class="p">:</span><span class="nf">onInstanced</span><span class="p">()</span>
</span><span id="__span-122-2"><a id="__codelineno-122-2" name="__codelineno-122-2" href="#__codelineno-122-2"></a><span class="w">    </span><span class="c1">-- Initialize security features</span>
</span><span id="__span-122-3"><a id="__codelineno-122-3" name="__codelineno-122-3" href="#__codelineno-122-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">securityLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;securityLevel&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-122-4"><a id="__codelineno-122-4" name="__codelineno-122-4" href="#__codelineno-122-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">accessLog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-122-5"><a id="__codelineno-122-5" name="__codelineno-122-5" href="#__codelineno-122-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">failedAttempts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-122-6"><a id="__codelineno-122-6" name="__codelineno-122-6" href="#__codelineno-122-6"></a><span class="w">    </span><span class="c1">-- Set up monitoring</span>
</span><span id="__span-122-7"><a id="__codelineno-122-7" name="__codelineno-122-7" href="#__codelineno-122-7"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">addAccessRule</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-122-8"><a id="__codelineno-122-8" name="__codelineno-122-8" href="#__codelineno-122-8"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;remove&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">securityLevel</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-122-9"><a id="__codelineno-122-9" name="__codelineno-122-9" href="#__codelineno-122-9"></a><span class="w">        </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">inv</span><span class="p">.</span><span class="py">accessLog</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-122-10"><a id="__codelineno-122-10" name="__codelineno-122-10" href="#__codelineno-122-10"></a><span class="w">        </span><span class="nv">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">client</span><span class="p">,</span>
</span><span id="__span-122-11"><a id="__codelineno-122-11" name="__codelineno-122-11" href="#__codelineno-122-11"></a><span class="w">        </span><span class="nv">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span>
</span><span id="__span-122-12"><a id="__codelineno-122-12" name="__codelineno-122-12" href="#__codelineno-122-12"></a><span class="w">        </span><span class="nv">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">os.time</span><span class="p">()</span>
</span><span id="__span-122-13"><a id="__codelineno-122-13" name="__codelineno-122-13" href="#__codelineno-122-13"></a><span class="w">        </span><span class="p">})</span>
</span><span id="__span-122-14"><a id="__codelineno-122-14" name="__codelineno-122-14" href="#__codelineno-122-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-122-15"><a id="__codelineno-122-15" name="__codelineno-122-15" href="#__codelineno-122-15"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-122-16"><a id="__codelineno-122-16" name="__codelineno-122-16" href="#__codelineno-122-16"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-122-17"><a id="__codelineno-122-17" name="__codelineno-122-17" href="#__codelineno-122-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="onloaded">onLoaded</h3>
<p><strong>Purpose</strong></p>
<p>Called when inventory is loaded from storage</p>
<p><strong>When Called</strong></p>
<p>Automatically when persistent inventories are loaded</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-123-1"><a id="__codelineno-123-1" name="__codelineno-123-1" href="#__codelineno-123-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onLoaded</span><span class="p">()</span>
</span><span id="__span-123-2"><a id="__codelineno-123-2" name="__codelineno-123-2" href="#__codelineno-123-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inventory loaded from storage&quot;</span><span class="p">)</span>
</span><span id="__span-123-3"><a id="__codelineno-123-3" name="__codelineno-123-3" href="#__codelineno-123-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-124-1"><a id="__codelineno-124-1" name="__codelineno-124-1" href="#__codelineno-124-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">onLoaded</span><span class="p">()</span>
</span><span id="__span-124-2"><a id="__codelineno-124-2" name="__codelineno-124-2" href="#__codelineno-124-2"></a><span class="w">    </span><span class="c1">-- Restore character-specific settings</span>
</span><span id="__span-124-3"><a id="__codelineno-124-3" name="__codelineno-124-3" href="#__codelineno-124-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getCharacter</span><span class="p">()</span>
</span><span id="__span-124-4"><a id="__codelineno-124-4" name="__codelineno-124-4" href="#__codelineno-124-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-124-5"><a id="__codelineno-124-5" name="__codelineno-124-5" href="#__codelineno-124-5"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">setData</span><span class="p">(</span><span class="s2">&quot;lastSeen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">os.time</span><span class="p">())</span>
</span><span id="__span-124-6"><a id="__codelineno-124-6" name="__codelineno-124-6" href="#__codelineno-124-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-124-7"><a id="__codelineno-124-7" name="__codelineno-124-7" href="#__codelineno-124-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-125-1"><a id="__codelineno-125-1" name="__codelineno-125-1" href="#__codelineno-125-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">onLoaded</span><span class="p">()</span>
</span><span id="__span-125-2"><a id="__codelineno-125-2" name="__codelineno-125-2" href="#__codelineno-125-2"></a><span class="w">    </span><span class="c1">-- Validate inventory integrity</span>
</span><span id="__span-125-3"><a id="__codelineno-125-3" name="__codelineno-125-3" href="#__codelineno-125-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">validateItemStates</span><span class="p">()</span>
</span><span id="__span-125-4"><a id="__codelineno-125-4" name="__codelineno-125-4" href="#__codelineno-125-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">restoreAccessRules</span><span class="p">()</span>
</span><span id="__span-125-5"><a id="__codelineno-125-5" name="__codelineno-125-5" href="#__codelineno-125-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">checkForExpiredItems</span><span class="p">()</span>
</span><span id="__span-125-6"><a id="__codelineno-125-6" name="__codelineno-125-6" href="#__codelineno-125-6"></a><span class="w">    </span><span class="c1">-- Initialize advanced features</span>
</span><span id="__span-125-7"><a id="__codelineno-125-7" name="__codelineno-125-7" href="#__codelineno-125-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;autoSort&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-125-8"><a id="__codelineno-125-8" name="__codelineno-125-8" href="#__codelineno-125-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">sortItems</span><span class="p">()</span>
</span><span id="__span-125-9"><a id="__codelineno-125-9" name="__codelineno-125-9" href="#__codelineno-125-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-125-10"><a id="__codelineno-125-10" name="__codelineno-125-10" href="#__codelineno-125-10"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="onloaded_1">onLoaded</h3>
<p><strong>Purpose</strong></p>
<p>Called when inventory is loaded from storage</p>
<p><strong>When Called</strong></p>
<p>Automatically when persistent inventories are loaded</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-126-1"><a id="__codelineno-126-1" name="__codelineno-126-1" href="#__codelineno-126-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onLoaded</span><span class="p">()</span>
</span><span id="__span-126-2"><a id="__codelineno-126-2" name="__codelineno-126-2" href="#__codelineno-126-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inventory loaded from storage&quot;</span><span class="p">)</span>
</span><span id="__span-126-3"><a id="__codelineno-126-3" name="__codelineno-126-3" href="#__codelineno-126-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-127-1"><a id="__codelineno-127-1" name="__codelineno-127-1" href="#__codelineno-127-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">onLoaded</span><span class="p">()</span>
</span><span id="__span-127-2"><a id="__codelineno-127-2" name="__codelineno-127-2" href="#__codelineno-127-2"></a><span class="w">    </span><span class="c1">-- Restore character-specific settings</span>
</span><span id="__span-127-3"><a id="__codelineno-127-3" name="__codelineno-127-3" href="#__codelineno-127-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getCharacter</span><span class="p">()</span>
</span><span id="__span-127-4"><a id="__codelineno-127-4" name="__codelineno-127-4" href="#__codelineno-127-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-127-5"><a id="__codelineno-127-5" name="__codelineno-127-5" href="#__codelineno-127-5"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">setData</span><span class="p">(</span><span class="s2">&quot;lastSeen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">os.time</span><span class="p">())</span>
</span><span id="__span-127-6"><a id="__codelineno-127-6" name="__codelineno-127-6" href="#__codelineno-127-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-127-7"><a id="__codelineno-127-7" name="__codelineno-127-7" href="#__codelineno-127-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-128-1"><a id="__codelineno-128-1" name="__codelineno-128-1" href="#__codelineno-128-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">onLoaded</span><span class="p">()</span>
</span><span id="__span-128-2"><a id="__codelineno-128-2" name="__codelineno-128-2" href="#__codelineno-128-2"></a><span class="w">    </span><span class="c1">-- Validate inventory integrity</span>
</span><span id="__span-128-3"><a id="__codelineno-128-3" name="__codelineno-128-3" href="#__codelineno-128-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">validateItemStates</span><span class="p">()</span>
</span><span id="__span-128-4"><a id="__codelineno-128-4" name="__codelineno-128-4" href="#__codelineno-128-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">restoreAccessRules</span><span class="p">()</span>
</span><span id="__span-128-5"><a id="__codelineno-128-5" name="__codelineno-128-5" href="#__codelineno-128-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">checkForExpiredItems</span><span class="p">()</span>
</span><span id="__span-128-6"><a id="__codelineno-128-6" name="__codelineno-128-6" href="#__codelineno-128-6"></a><span class="w">    </span><span class="c1">-- Initialize advanced features</span>
</span><span id="__span-128-7"><a id="__codelineno-128-7" name="__codelineno-128-7" href="#__codelineno-128-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;autoSort&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-128-8"><a id="__codelineno-128-8" name="__codelineno-128-8" href="#__codelineno-128-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">sortItems</span><span class="p">()</span>
</span><span id="__span-128-9"><a id="__codelineno-128-9" name="__codelineno-128-9" href="#__codelineno-128-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-128-10"><a id="__codelineno-128-10" name="__codelineno-128-10" href="#__codelineno-128-10"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="onloaded_2">onLoaded</h3>
<p><strong>Purpose</strong></p>
<p>Called when inventory is loaded from storage</p>
<p><strong>When Called</strong></p>
<p>Automatically when persistent inventories are loaded</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-129-1"><a id="__codelineno-129-1" name="__codelineno-129-1" href="#__codelineno-129-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onLoaded</span><span class="p">()</span>
</span><span id="__span-129-2"><a id="__codelineno-129-2" name="__codelineno-129-2" href="#__codelineno-129-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inventory loaded from storage&quot;</span><span class="p">)</span>
</span><span id="__span-129-3"><a id="__codelineno-129-3" name="__codelineno-129-3" href="#__codelineno-129-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-130-1"><a id="__codelineno-130-1" name="__codelineno-130-1" href="#__codelineno-130-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">onLoaded</span><span class="p">()</span>
</span><span id="__span-130-2"><a id="__codelineno-130-2" name="__codelineno-130-2" href="#__codelineno-130-2"></a><span class="w">    </span><span class="c1">-- Restore character-specific settings</span>
</span><span id="__span-130-3"><a id="__codelineno-130-3" name="__codelineno-130-3" href="#__codelineno-130-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getCharacter</span><span class="p">()</span>
</span><span id="__span-130-4"><a id="__codelineno-130-4" name="__codelineno-130-4" href="#__codelineno-130-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-130-5"><a id="__codelineno-130-5" name="__codelineno-130-5" href="#__codelineno-130-5"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">setData</span><span class="p">(</span><span class="s2">&quot;lastSeen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">os.time</span><span class="p">())</span>
</span><span id="__span-130-6"><a id="__codelineno-130-6" name="__codelineno-130-6" href="#__codelineno-130-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-130-7"><a id="__codelineno-130-7" name="__codelineno-130-7" href="#__codelineno-130-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-131-1"><a id="__codelineno-131-1" name="__codelineno-131-1" href="#__codelineno-131-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">onLoaded</span><span class="p">()</span>
</span><span id="__span-131-2"><a id="__codelineno-131-2" name="__codelineno-131-2" href="#__codelineno-131-2"></a><span class="w">    </span><span class="c1">-- Validate inventory integrity</span>
</span><span id="__span-131-3"><a id="__codelineno-131-3" name="__codelineno-131-3" href="#__codelineno-131-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">validateItemStates</span><span class="p">()</span>
</span><span id="__span-131-4"><a id="__codelineno-131-4" name="__codelineno-131-4" href="#__codelineno-131-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">restoreAccessRules</span><span class="p">()</span>
</span><span id="__span-131-5"><a id="__codelineno-131-5" name="__codelineno-131-5" href="#__codelineno-131-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">checkForExpiredItems</span><span class="p">()</span>
</span><span id="__span-131-6"><a id="__codelineno-131-6" name="__codelineno-131-6" href="#__codelineno-131-6"></a><span class="w">    </span><span class="c1">-- Initialize advanced features</span>
</span><span id="__span-131-7"><a id="__codelineno-131-7" name="__codelineno-131-7" href="#__codelineno-131-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;autoSort&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-131-8"><a id="__codelineno-131-8" name="__codelineno-131-8" href="#__codelineno-131-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">sortItems</span><span class="p">()</span>
</span><span id="__span-131-9"><a id="__codelineno-131-9" name="__codelineno-131-9" href="#__codelineno-131-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-131-10"><a id="__codelineno-131-10" name="__codelineno-131-10" href="#__codelineno-131-10"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="onloaded_3">onLoaded</h3>
<p><strong>Purpose</strong></p>
<p>Called when inventory is loaded from storage</p>
<p><strong>When Called</strong></p>
<p>Automatically when persistent inventories are loaded</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-132-1"><a id="__codelineno-132-1" name="__codelineno-132-1" href="#__codelineno-132-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onLoaded</span><span class="p">()</span>
</span><span id="__span-132-2"><a id="__codelineno-132-2" name="__codelineno-132-2" href="#__codelineno-132-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inventory loaded from storage&quot;</span><span class="p">)</span>
</span><span id="__span-132-3"><a id="__codelineno-132-3" name="__codelineno-132-3" href="#__codelineno-132-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-133-1"><a id="__codelineno-133-1" name="__codelineno-133-1" href="#__codelineno-133-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">onLoaded</span><span class="p">()</span>
</span><span id="__span-133-2"><a id="__codelineno-133-2" name="__codelineno-133-2" href="#__codelineno-133-2"></a><span class="w">    </span><span class="c1">-- Restore character-specific settings</span>
</span><span id="__span-133-3"><a id="__codelineno-133-3" name="__codelineno-133-3" href="#__codelineno-133-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getCharacter</span><span class="p">()</span>
</span><span id="__span-133-4"><a id="__codelineno-133-4" name="__codelineno-133-4" href="#__codelineno-133-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-133-5"><a id="__codelineno-133-5" name="__codelineno-133-5" href="#__codelineno-133-5"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">setData</span><span class="p">(</span><span class="s2">&quot;lastSeen&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">os.time</span><span class="p">())</span>
</span><span id="__span-133-6"><a id="__codelineno-133-6" name="__codelineno-133-6" href="#__codelineno-133-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-133-7"><a id="__codelineno-133-7" name="__codelineno-133-7" href="#__codelineno-133-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-134-1"><a id="__codelineno-134-1" name="__codelineno-134-1" href="#__codelineno-134-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">onLoaded</span><span class="p">()</span>
</span><span id="__span-134-2"><a id="__codelineno-134-2" name="__codelineno-134-2" href="#__codelineno-134-2"></a><span class="w">    </span><span class="c1">-- Validate inventory integrity</span>
</span><span id="__span-134-3"><a id="__codelineno-134-3" name="__codelineno-134-3" href="#__codelineno-134-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">validateItemStates</span><span class="p">()</span>
</span><span id="__span-134-4"><a id="__codelineno-134-4" name="__codelineno-134-4" href="#__codelineno-134-4"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">restoreAccessRules</span><span class="p">()</span>
</span><span id="__span-134-5"><a id="__codelineno-134-5" name="__codelineno-134-5" href="#__codelineno-134-5"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">checkForExpiredItems</span><span class="p">()</span>
</span><span id="__span-134-6"><a id="__codelineno-134-6" name="__codelineno-134-6" href="#__codelineno-134-6"></a><span class="w">    </span><span class="c1">-- Initialize advanced features</span>
</span><span id="__span-134-7"><a id="__codelineno-134-7" name="__codelineno-134-7" href="#__codelineno-134-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;autoSort&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-134-8"><a id="__codelineno-134-8" name="__codelineno-134-8" href="#__codelineno-134-8"></a><span class="w">        </span><span class="nv">self</span><span class="p">:</span><span class="nf">sortItems</span><span class="p">()</span>
</span><span id="__span-134-9"><a id="__codelineno-134-9" name="__codelineno-134-9" href="#__codelineno-134-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-134-10"><a id="__codelineno-134-10" name="__codelineno-134-10" href="#__codelineno-134-10"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="loaditems">loadItems</h3>
<p><strong>Purpose</strong></p>
<p>Loads items from database storage</p>
<p><strong>When Called</strong></p>
<p>When inventory needs to be populated from persistent storage</p>
<p><strong>Returns</strong></p>
<ul>
<li>Deferred object that resolves with loaded items</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-135-1"><a id="__codelineno-135-1" name="__codelineno-135-1" href="#__codelineno-135-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">loadItems</span><span class="p">():</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-135-2"><a id="__codelineno-135-2" name="__codelineno-135-2" href="#__codelineno-135-2"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">items</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;items&quot;</span><span class="p">)</span>
</span><span id="__span-135-3"><a id="__codelineno-135-3" name="__codelineno-135-3" href="#__codelineno-135-3"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-136-1"><a id="__codelineno-136-1" name="__codelineno-136-1" href="#__codelineno-136-1"></a><span class="nv">playerInventory</span><span class="p">:</span><span class="nf">loadItems</span><span class="p">():</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-136-2"><a id="__codelineno-136-2" name="__codelineno-136-2" href="#__codelineno-136-2"></a><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-136-3"><a id="__codelineno-136-3" name="__codelineno-136-3" href="#__codelineno-136-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;weapon&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-136-4"><a id="__codelineno-136-4" name="__codelineno-136-4" href="#__codelineno-136-4"></a><span class="w">        </span><span class="nv">player</span><span class="p">:</span><span class="nf">giveWeapon</span><span class="p">(</span><span class="nv">item</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="py">weaponClass</span><span class="p">)</span>
</span><span id="__span-136-5"><a id="__codelineno-136-5" name="__codelineno-136-5" href="#__codelineno-136-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-136-6"><a id="__codelineno-136-6" name="__codelineno-136-6" href="#__codelineno-136-6"></a><span class="kr">end</span>
</span><span id="__span-136-7"><a id="__codelineno-136-7" name="__codelineno-136-7" href="#__codelineno-136-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-137-1"><a id="__codelineno-137-1" name="__codelineno-137-1" href="#__codelineno-137-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">loadInventoryWithValidation</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-137-2"><a id="__codelineno-137-2" name="__codelineno-137-2" href="#__codelineno-137-2"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">loadItems</span><span class="p">():</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-137-3"><a id="__codelineno-137-3" name="__codelineno-137-3" href="#__codelineno-137-3"></a><span class="w">    </span><span class="c1">-- Validate loaded items</span>
</span><span id="__span-137-4"><a id="__codelineno-137-4" name="__codelineno-137-4" href="#__codelineno-137-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">validItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-137-5"><a id="__codelineno-137-5" name="__codelineno-137-5" href="#__codelineno-137-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">invalidCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-137-6"><a id="__codelineno-137-6" name="__codelineno-137-6" href="#__codelineno-137-6"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-137-7"><a id="__codelineno-137-7" name="__codelineno-137-7" href="#__codelineno-137-7"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">validateItem</span><span class="p">(</span><span class="nv">item</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-137-8"><a id="__codelineno-137-8" name="__codelineno-137-8" href="#__codelineno-137-8"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">validItems</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-137-9"><a id="__codelineno-137-9" name="__codelineno-137-9" href="#__codelineno-137-9"></a><span class="w">            </span><span class="kr">else</span>
</span><span id="__span-137-10"><a id="__codelineno-137-10" name="__codelineno-137-10" href="#__codelineno-137-10"></a><span class="w">                </span><span class="nv">invalidCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">invalidCount</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-137-11"><a id="__codelineno-137-11" name="__codelineno-137-11" href="#__codelineno-137-11"></a><span class="w">                </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;invalid_item&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">:</span><span class="nf">getID</span><span class="p">(),</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getID</span><span class="p">())</span>
</span><span id="__span-137-12"><a id="__codelineno-137-12" name="__codelineno-137-12" href="#__codelineno-137-12"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-137-13"><a id="__codelineno-137-13" name="__codelineno-137-13" href="#__codelineno-137-13"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-137-14"><a id="__codelineno-137-14" name="__codelineno-137-14" href="#__codelineno-137-14"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">invalidCount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-137-15"><a id="__codelineno-137-15" name="__codelineno-137-15" href="#__codelineno-137-15"></a><span class="w">            </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;inventory_validation&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getID</span><span class="p">(),</span><span class="w"> </span><span class="nv">invalidCount</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; invalid items&quot;</span><span class="p">)</span>
</span><span id="__span-137-16"><a id="__codelineno-137-16" name="__codelineno-137-16" href="#__codelineno-137-16"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-137-17"><a id="__codelineno-137-17" name="__codelineno-137-17" href="#__codelineno-137-17"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">validItems</span>
</span><span id="__span-137-18"><a id="__codelineno-137-18" name="__codelineno-137-18" href="#__codelineno-137-18"></a><span class="w">    </span><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-137-19"><a id="__codelineno-137-19" name="__codelineno-137-19" href="#__codelineno-137-19"></a><span class="kr">end</span>
</span><span id="__span-137-20"><a id="__codelineno-137-20" name="__codelineno-137-20" href="#__codelineno-137-20"></a><span class="nf">loadInventoryWithValidation</span><span class="p">(</span><span class="nv">playerInventory</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onitemsloaded">onItemsLoaded</h3>
<p><strong>Purpose</strong></p>
<p>Called after items are loaded from storage</p>
<p><strong>When Called</strong></p>
<p>Automatically after loadItems completes successfully</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>items</code> (<em>unknown</em>): Table of loaded items</li>
<li><code>items</code> (<em>unknown</em>): Table of loaded items</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-138-1"><a id="__codelineno-138-1" name="__codelineno-138-1" href="#__codelineno-138-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onItemsLoaded</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-138-2"><a id="__codelineno-138-2" name="__codelineno-138-2" href="#__codelineno-138-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">items</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;items&quot;</span><span class="p">)</span>
</span><span id="__span-138-3"><a id="__codelineno-138-3" name="__codelineno-138-3" href="#__codelineno-138-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-139-1"><a id="__codelineno-139-1" name="__codelineno-139-1" href="#__codelineno-139-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">onItemsLoaded</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-139-2"><a id="__codelineno-139-2" name="__codelineno-139-2" href="#__codelineno-139-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-139-3"><a id="__codelineno-139-3" name="__codelineno-139-3" href="#__codelineno-139-3"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;quest_item&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-139-4"><a id="__codelineno-139-4" name="__codelineno-139-4" href="#__codelineno-139-4"></a><span class="w">            </span><span class="nv">hook</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s2">&quot;OnQuestItemLoaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">(),</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-139-5"><a id="__codelineno-139-5" name="__codelineno-139-5" href="#__codelineno-139-5"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-139-6"><a id="__codelineno-139-6" name="__codelineno-139-6" href="#__codelineno-139-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-139-7"><a id="__codelineno-139-7" name="__codelineno-139-7" href="#__codelineno-139-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-140-1"><a id="__codelineno-140-1" name="__codelineno-140-1" href="#__codelineno-140-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">onItemsLoaded</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-140-2"><a id="__codelineno-140-2" name="__codelineno-140-2" href="#__codelineno-140-2"></a><span class="w">    </span><span class="c1">-- Categorize items</span>
</span><span id="__span-140-3"><a id="__codelineno-140-3" name="__codelineno-140-3" href="#__codelineno-140-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-140-4"><a id="__codelineno-140-4" name="__codelineno-140-4" href="#__codelineno-140-4"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-140-5"><a id="__codelineno-140-5" name="__codelineno-140-5" href="#__codelineno-140-5"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">category</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">category</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;misc&quot;</span>
</span><span id="__span-140-6"><a id="__codelineno-140-6" name="__codelineno-140-6" href="#__codelineno-140-6"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="p">[</span><span class="nv">category</span><span class="p">]</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-140-7"><a id="__codelineno-140-7" name="__codelineno-140-7" href="#__codelineno-140-7"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="p">[</span><span class="nv">category</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-140-8"><a id="__codelineno-140-8" name="__codelineno-140-8" href="#__codelineno-140-8"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-140-9"><a id="__codelineno-140-9" name="__codelineno-140-9" href="#__codelineno-140-9"></a><span class="w">        </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="p">[</span><span class="nv">category</span><span class="p">],</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-140-10"><a id="__codelineno-140-10" name="__codelineno-140-10" href="#__codelineno-140-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-140-11"><a id="__codelineno-140-11" name="__codelineno-140-11" href="#__codelineno-140-11"></a><span class="w">    </span><span class="c1">-- Initialize item relationships</span>
</span><span id="__span-140-12"><a id="__codelineno-140-12" name="__codelineno-140-12" href="#__codelineno-140-12"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-140-13"><a id="__codelineno-140-13" name="__codelineno-140-13" href="#__codelineno-140-13"></a><span class="w">        </span><span class="nv">item</span><span class="p">:</span><span class="nf">onInventoryLoaded</span><span class="p">(</span><span class="nv">self</span><span class="p">)</span>
</span><span id="__span-140-14"><a id="__codelineno-140-14" name="__codelineno-140-14" href="#__codelineno-140-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-140-15"><a id="__codelineno-140-15" name="__codelineno-140-15" href="#__codelineno-140-15"></a><span class="w">    </span><span class="c1">-- Validate inventory constraints</span>
</span><span id="__span-140-16"><a id="__codelineno-140-16" name="__codelineno-140-16" href="#__codelineno-140-16"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">validateInventoryConstraints</span><span class="p">()</span>
</span><span id="__span-140-17"><a id="__codelineno-140-17" name="__codelineno-140-17" href="#__codelineno-140-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="onitemsloaded_1">onItemsLoaded</h3>
<p><strong>Purpose</strong></p>
<p>Called after items are loaded from storage</p>
<p><strong>When Called</strong></p>
<p>Automatically after loadItems completes successfully</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>items</code> (<em>unknown</em>): Table of loaded items</li>
<li><code>items</code> (<em>unknown</em>): Table of loaded items</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-141-1"><a id="__codelineno-141-1" name="__codelineno-141-1" href="#__codelineno-141-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onItemsLoaded</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-141-2"><a id="__codelineno-141-2" name="__codelineno-141-2" href="#__codelineno-141-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">items</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;items&quot;</span><span class="p">)</span>
</span><span id="__span-141-3"><a id="__codelineno-141-3" name="__codelineno-141-3" href="#__codelineno-141-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-142-1"><a id="__codelineno-142-1" name="__codelineno-142-1" href="#__codelineno-142-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">onItemsLoaded</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-142-2"><a id="__codelineno-142-2" name="__codelineno-142-2" href="#__codelineno-142-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-142-3"><a id="__codelineno-142-3" name="__codelineno-142-3" href="#__codelineno-142-3"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;quest_item&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-142-4"><a id="__codelineno-142-4" name="__codelineno-142-4" href="#__codelineno-142-4"></a><span class="w">            </span><span class="nv">hook</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s2">&quot;OnQuestItemLoaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">(),</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-142-5"><a id="__codelineno-142-5" name="__codelineno-142-5" href="#__codelineno-142-5"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-142-6"><a id="__codelineno-142-6" name="__codelineno-142-6" href="#__codelineno-142-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-142-7"><a id="__codelineno-142-7" name="__codelineno-142-7" href="#__codelineno-142-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-143-1"><a id="__codelineno-143-1" name="__codelineno-143-1" href="#__codelineno-143-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">onItemsLoaded</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-143-2"><a id="__codelineno-143-2" name="__codelineno-143-2" href="#__codelineno-143-2"></a><span class="w">    </span><span class="c1">-- Categorize items</span>
</span><span id="__span-143-3"><a id="__codelineno-143-3" name="__codelineno-143-3" href="#__codelineno-143-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-143-4"><a id="__codelineno-143-4" name="__codelineno-143-4" href="#__codelineno-143-4"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-143-5"><a id="__codelineno-143-5" name="__codelineno-143-5" href="#__codelineno-143-5"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">category</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">category</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;misc&quot;</span>
</span><span id="__span-143-6"><a id="__codelineno-143-6" name="__codelineno-143-6" href="#__codelineno-143-6"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="p">[</span><span class="nv">category</span><span class="p">]</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-143-7"><a id="__codelineno-143-7" name="__codelineno-143-7" href="#__codelineno-143-7"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="p">[</span><span class="nv">category</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-143-8"><a id="__codelineno-143-8" name="__codelineno-143-8" href="#__codelineno-143-8"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-143-9"><a id="__codelineno-143-9" name="__codelineno-143-9" href="#__codelineno-143-9"></a><span class="w">        </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="p">[</span><span class="nv">category</span><span class="p">],</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-143-10"><a id="__codelineno-143-10" name="__codelineno-143-10" href="#__codelineno-143-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-143-11"><a id="__codelineno-143-11" name="__codelineno-143-11" href="#__codelineno-143-11"></a><span class="w">    </span><span class="c1">-- Initialize item relationships</span>
</span><span id="__span-143-12"><a id="__codelineno-143-12" name="__codelineno-143-12" href="#__codelineno-143-12"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-143-13"><a id="__codelineno-143-13" name="__codelineno-143-13" href="#__codelineno-143-13"></a><span class="w">        </span><span class="nv">item</span><span class="p">:</span><span class="nf">onInventoryLoaded</span><span class="p">(</span><span class="nv">self</span><span class="p">)</span>
</span><span id="__span-143-14"><a id="__codelineno-143-14" name="__codelineno-143-14" href="#__codelineno-143-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-143-15"><a id="__codelineno-143-15" name="__codelineno-143-15" href="#__codelineno-143-15"></a><span class="w">    </span><span class="c1">-- Validate inventory constraints</span>
</span><span id="__span-143-16"><a id="__codelineno-143-16" name="__codelineno-143-16" href="#__codelineno-143-16"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">validateInventoryConstraints</span><span class="p">()</span>
</span><span id="__span-143-17"><a id="__codelineno-143-17" name="__codelineno-143-17" href="#__codelineno-143-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="onitemsloaded_2">onItemsLoaded</h3>
<p><strong>Purpose</strong></p>
<p>Called after items are loaded from storage</p>
<p><strong>When Called</strong></p>
<p>Automatically after loadItems completes successfully</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>items</code> (<em>unknown</em>): Table of loaded items</li>
<li><code>items</code> (<em>unknown</em>): Table of loaded items</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-144-1"><a id="__codelineno-144-1" name="__codelineno-144-1" href="#__codelineno-144-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onItemsLoaded</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-144-2"><a id="__codelineno-144-2" name="__codelineno-144-2" href="#__codelineno-144-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">items</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;items&quot;</span><span class="p">)</span>
</span><span id="__span-144-3"><a id="__codelineno-144-3" name="__codelineno-144-3" href="#__codelineno-144-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-145-1"><a id="__codelineno-145-1" name="__codelineno-145-1" href="#__codelineno-145-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">onItemsLoaded</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-145-2"><a id="__codelineno-145-2" name="__codelineno-145-2" href="#__codelineno-145-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-145-3"><a id="__codelineno-145-3" name="__codelineno-145-3" href="#__codelineno-145-3"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;quest_item&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-145-4"><a id="__codelineno-145-4" name="__codelineno-145-4" href="#__codelineno-145-4"></a><span class="w">            </span><span class="nv">hook</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s2">&quot;OnQuestItemLoaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">(),</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-145-5"><a id="__codelineno-145-5" name="__codelineno-145-5" href="#__codelineno-145-5"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-145-6"><a id="__codelineno-145-6" name="__codelineno-145-6" href="#__codelineno-145-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-145-7"><a id="__codelineno-145-7" name="__codelineno-145-7" href="#__codelineno-145-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-146-1"><a id="__codelineno-146-1" name="__codelineno-146-1" href="#__codelineno-146-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">onItemsLoaded</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-146-2"><a id="__codelineno-146-2" name="__codelineno-146-2" href="#__codelineno-146-2"></a><span class="w">    </span><span class="c1">-- Categorize items</span>
</span><span id="__span-146-3"><a id="__codelineno-146-3" name="__codelineno-146-3" href="#__codelineno-146-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-146-4"><a id="__codelineno-146-4" name="__codelineno-146-4" href="#__codelineno-146-4"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-146-5"><a id="__codelineno-146-5" name="__codelineno-146-5" href="#__codelineno-146-5"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">category</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">category</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;misc&quot;</span>
</span><span id="__span-146-6"><a id="__codelineno-146-6" name="__codelineno-146-6" href="#__codelineno-146-6"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="p">[</span><span class="nv">category</span><span class="p">]</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-146-7"><a id="__codelineno-146-7" name="__codelineno-146-7" href="#__codelineno-146-7"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="p">[</span><span class="nv">category</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-146-8"><a id="__codelineno-146-8" name="__codelineno-146-8" href="#__codelineno-146-8"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-146-9"><a id="__codelineno-146-9" name="__codelineno-146-9" href="#__codelineno-146-9"></a><span class="w">        </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="p">[</span><span class="nv">category</span><span class="p">],</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-146-10"><a id="__codelineno-146-10" name="__codelineno-146-10" href="#__codelineno-146-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-146-11"><a id="__codelineno-146-11" name="__codelineno-146-11" href="#__codelineno-146-11"></a><span class="w">    </span><span class="c1">-- Initialize item relationships</span>
</span><span id="__span-146-12"><a id="__codelineno-146-12" name="__codelineno-146-12" href="#__codelineno-146-12"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-146-13"><a id="__codelineno-146-13" name="__codelineno-146-13" href="#__codelineno-146-13"></a><span class="w">        </span><span class="nv">item</span><span class="p">:</span><span class="nf">onInventoryLoaded</span><span class="p">(</span><span class="nv">self</span><span class="p">)</span>
</span><span id="__span-146-14"><a id="__codelineno-146-14" name="__codelineno-146-14" href="#__codelineno-146-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-146-15"><a id="__codelineno-146-15" name="__codelineno-146-15" href="#__codelineno-146-15"></a><span class="w">    </span><span class="c1">-- Validate inventory constraints</span>
</span><span id="__span-146-16"><a id="__codelineno-146-16" name="__codelineno-146-16" href="#__codelineno-146-16"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">validateInventoryConstraints</span><span class="p">()</span>
</span><span id="__span-146-17"><a id="__codelineno-146-17" name="__codelineno-146-17" href="#__codelineno-146-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="onitemsloaded_3">onItemsLoaded</h3>
<p><strong>Purpose</strong></p>
<p>Called after items are loaded from storage</p>
<p><strong>When Called</strong></p>
<p>Automatically after loadItems completes successfully</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>items</code> (<em>unknown</em>): Table of loaded items</li>
<li><code>items</code> (<em>unknown</em>): Table of loaded items</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-147-1"><a id="__codelineno-147-1" name="__codelineno-147-1" href="#__codelineno-147-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MyInventory</span><span class="p">:</span><span class="nf">onItemsLoaded</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-147-2"><a id="__codelineno-147-2" name="__codelineno-147-2" href="#__codelineno-147-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">items</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;items&quot;</span><span class="p">)</span>
</span><span id="__span-147-3"><a id="__codelineno-147-3" name="__codelineno-147-3" href="#__codelineno-147-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-148-1"><a id="__codelineno-148-1" name="__codelineno-148-1" href="#__codelineno-148-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">PlayerInventory</span><span class="p">:</span><span class="nf">onItemsLoaded</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-148-2"><a id="__codelineno-148-2" name="__codelineno-148-2" href="#__codelineno-148-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-148-3"><a id="__codelineno-148-3" name="__codelineno-148-3" href="#__codelineno-148-3"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;quest_item&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-148-4"><a id="__codelineno-148-4" name="__codelineno-148-4" href="#__codelineno-148-4"></a><span class="w">            </span><span class="nv">hook</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s2">&quot;OnQuestItemLoaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">(),</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-148-5"><a id="__codelineno-148-5" name="__codelineno-148-5" href="#__codelineno-148-5"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-148-6"><a id="__codelineno-148-6" name="__codelineno-148-6" href="#__codelineno-148-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-148-7"><a id="__codelineno-148-7" name="__codelineno-148-7" href="#__codelineno-148-7"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-149-1"><a id="__codelineno-149-1" name="__codelineno-149-1" href="#__codelineno-149-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">AdvancedInventory</span><span class="p">:</span><span class="nf">onItemsLoaded</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span>
</span><span id="__span-149-2"><a id="__codelineno-149-2" name="__codelineno-149-2" href="#__codelineno-149-2"></a><span class="w">    </span><span class="c1">-- Categorize items</span>
</span><span id="__span-149-3"><a id="__codelineno-149-3" name="__codelineno-149-3" href="#__codelineno-149-3"></a><span class="w">    </span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-149-4"><a id="__codelineno-149-4" name="__codelineno-149-4" href="#__codelineno-149-4"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-149-5"><a id="__codelineno-149-5" name="__codelineno-149-5" href="#__codelineno-149-5"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">category</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">category</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;misc&quot;</span>
</span><span id="__span-149-6"><a id="__codelineno-149-6" name="__codelineno-149-6" href="#__codelineno-149-6"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="p">[</span><span class="nv">category</span><span class="p">]</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-149-7"><a id="__codelineno-149-7" name="__codelineno-149-7" href="#__codelineno-149-7"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="p">[</span><span class="nv">category</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-149-8"><a id="__codelineno-149-8" name="__codelineno-149-8" href="#__codelineno-149-8"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-149-9"><a id="__codelineno-149-9" name="__codelineno-149-9" href="#__codelineno-149-9"></a><span class="w">        </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">self</span><span class="p">.</span><span class="py">itemCategories</span><span class="p">[</span><span class="nv">category</span><span class="p">],</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-149-10"><a id="__codelineno-149-10" name="__codelineno-149-10" href="#__codelineno-149-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-149-11"><a id="__codelineno-149-11" name="__codelineno-149-11" href="#__codelineno-149-11"></a><span class="w">    </span><span class="c1">-- Initialize item relationships</span>
</span><span id="__span-149-12"><a id="__codelineno-149-12" name="__codelineno-149-12" href="#__codelineno-149-12"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-149-13"><a id="__codelineno-149-13" name="__codelineno-149-13" href="#__codelineno-149-13"></a><span class="w">        </span><span class="nv">item</span><span class="p">:</span><span class="nf">onInventoryLoaded</span><span class="p">(</span><span class="nv">self</span><span class="p">)</span>
</span><span id="__span-149-14"><a id="__codelineno-149-14" name="__codelineno-149-14" href="#__codelineno-149-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-149-15"><a id="__codelineno-149-15" name="__codelineno-149-15" href="#__codelineno-149-15"></a><span class="w">    </span><span class="c1">-- Validate inventory constraints</span>
</span><span id="__span-149-16"><a id="__codelineno-149-16" name="__codelineno-149-16" href="#__codelineno-149-16"></a><span class="w">    </span><span class="nv">self</span><span class="p">:</span><span class="nf">validateInventoryConstraints</span><span class="p">()</span>
</span><span id="__span-149-17"><a id="__codelineno-149-17" name="__codelineno-149-17" href="#__codelineno-149-17"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="instance">instance</h3>
<p><strong>Purpose</strong></p>
<p>Creates a new instance of this inventory type with initial data</p>
<p><strong>When Called</strong></p>
<p>When creating configured inventory instances</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>initialData</code> (<em>unknown</em>): Initial data for the inventory instance</li>
<li><code>initialData</code> (<em>unknown</em>): Initial data for the inventory instance</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>New inventory instance</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-150-1"><a id="__codelineno-150-1" name="__codelineno-150-1" href="#__codelineno-150-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">MyInventory</span><span class="p">:</span><span class="nf">instance</span><span class="p">({</span><span class="nv">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">playerID</span><span class="p">})</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-151-1"><a id="__codelineno-151-1" name="__codelineno-151-1" href="#__codelineno-151-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">bank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">BankInventory</span><span class="p">:</span><span class="nf">instance</span><span class="p">({</span>
</span><span id="__span-151-2"><a id="__codelineno-151-2" name="__codelineno-151-2" href="#__codelineno-151-2"></a><span class="nv">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">characterID</span><span class="p">,</span>
</span><span id="__span-151-3"><a id="__codelineno-151-3" name="__codelineno-151-3" href="#__codelineno-151-3"></a><span class="nv">accessLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;premium&quot;</span>
</span><span id="__span-151-4"><a id="__codelineno-151-4" name="__codelineno-151-4" href="#__codelineno-151-4"></a><span class="p">})</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-152-1"><a id="__codelineno-152-1" name="__codelineno-152-1" href="#__codelineno-152-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">createComplexInventory</span><span class="p">(</span><span class="nv">typeClass</span><span class="p">,</span><span class="w"> </span><span class="nv">config</span><span class="p">)</span>
</span><span id="__span-152-2"><a id="__codelineno-152-2" name="__codelineno-152-2" href="#__codelineno-152-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">typeClass</span><span class="p">:</span><span class="nf">instance</span><span class="p">({</span>
</span><span id="__span-152-3"><a id="__codelineno-152-3" name="__codelineno-152-3" href="#__codelineno-152-3"></a><span class="w">    </span><span class="nv">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">config</span><span class="p">.</span><span class="py">ownerID</span><span class="p">,</span>
</span><span id="__span-152-4"><a id="__codelineno-152-4" name="__codelineno-152-4" href="#__codelineno-152-4"></a><span class="w">    </span><span class="nv">permissions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">config</span><span class="p">.</span><span class="py">permissions</span><span class="p">,</span>
</span><span id="__span-152-5"><a id="__codelineno-152-5" name="__codelineno-152-5" href="#__codelineno-152-5"></a><span class="w">    </span><span class="nv">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">config</span><span class="p">.</span><span class="py">settings</span><span class="p">,</span>
</span><span id="__span-152-6"><a id="__codelineno-152-6" name="__codelineno-152-6" href="#__codelineno-152-6"></a><span class="w">    </span><span class="nv">maxSlots</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">config</span><span class="p">.</span><span class="py">maxSlots</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">50</span>
</span><span id="__span-152-7"><a id="__codelineno-152-7" name="__codelineno-152-7" href="#__codelineno-152-7"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-152-8"><a id="__codelineno-152-8" name="__codelineno-152-8" href="#__codelineno-152-8"></a><span class="w">    </span><span class="c1">-- Configure based on type</span>
</span><span id="__span-152-9"><a id="__codelineno-152-9" name="__codelineno-152-9" href="#__codelineno-152-9"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">config</span><span class="p">.</span><span class="py">secure</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-152-10"><a id="__codelineno-152-10" name="__codelineno-152-10" href="#__codelineno-152-10"></a><span class="w">        </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">addAccessRule</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-152-11"><a id="__codelineno-152-11" name="__codelineno-152-11" href="#__codelineno-152-11"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;remove&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">client</span><span class="p">:</span><span class="nf">isAdmin</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-152-12"><a id="__codelineno-152-12" name="__codelineno-152-12" href="#__codelineno-152-12"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Secure inventory - admin access required&quot;</span>
</span><span id="__span-152-13"><a id="__codelineno-152-13" name="__codelineno-152-13" href="#__codelineno-152-13"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-152-14"><a id="__codelineno-152-14" name="__codelineno-152-14" href="#__codelineno-152-14"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-152-15"><a id="__codelineno-152-15" name="__codelineno-152-15" href="#__codelineno-152-15"></a><span class="w">    </span><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-152-16"><a id="__codelineno-152-16" name="__codelineno-152-16" href="#__codelineno-152-16"></a><span class="kr">end</span>
</span><span id="__span-152-17"><a id="__codelineno-152-17" name="__codelineno-152-17" href="#__codelineno-152-17"></a><span class="kr">return</span><span class="w"> </span><span class="nv">inventory</span>
</span><span id="__span-152-18"><a id="__codelineno-152-18" name="__codelineno-152-18" href="#__codelineno-152-18"></a><span class="kr">end</span>
</span><span id="__span-152-19"><a id="__codelineno-152-19" name="__codelineno-152-19" href="#__codelineno-152-19"></a><span class="kd">local</span><span class="w"> </span><span class="nv">secureBank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">createComplexInventory</span><span class="p">(</span><span class="nv">BankInventory</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-152-20"><a id="__codelineno-152-20" name="__codelineno-152-20" href="#__codelineno-152-20"></a><span class="nv">ownerID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">playerID</span><span class="p">,</span>
</span><span id="__span-152-21"><a id="__codelineno-152-21" name="__codelineno-152-21" href="#__codelineno-152-21"></a><span class="nv">secure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-152-22"><a id="__codelineno-152-22" name="__codelineno-152-22" href="#__codelineno-152-22"></a><span class="nv">maxSlots</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-152-23"><a id="__codelineno-152-23" name="__codelineno-152-23" href="#__codelineno-152-23"></a><span class="p">})</span>
</span></code></pre></div></p>
<hr />
<h3 id="syncdata">syncData</h3>
<p><strong>Purpose</strong></p>
<p>Synchronizes inventory data changes to clients</p>
<p><strong>When Called</strong></p>
<p>When inventory data changes and needs to be replicated</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>key</code> (<em>unknown</em>): The data key that changed</li>
<li><code>key</code> (<em>unknown</em>): The data key that changed</li>
<li><code>recipients</code> (<em>unknown</em>): Optional specific clients to send to, defaults to all recipients</li>
<li><code>recipients</code> (<em>unknown</em>): Optional specific clients to send to, defaults to all recipients</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-153-1"><a id="__codelineno-153-1" name="__codelineno-153-1" href="#__codelineno-153-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">syncData</span><span class="p">(</span><span class="s2">&quot;money&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-154-1"><a id="__codelineno-154-1" name="__codelineno-154-1" href="#__codelineno-154-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">setData</span><span class="p">(</span><span class="s2">&quot;level&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
</span><span id="__span-154-2"><a id="__codelineno-154-2" name="__codelineno-154-2" href="#__codelineno-154-2"></a><span class="c1">-- syncData is called automatically</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-155-1"><a id="__codelineno-155-1" name="__codelineno-155-1" href="#__codelineno-155-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">updateInventoryData</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">updates</span><span class="p">)</span>
</span><span id="__span-155-2"><a id="__codelineno-155-2" name="__codelineno-155-2" href="#__codelineno-155-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">recipients</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">getRecipients</span><span class="p">()</span>
</span><span id="__span-155-3"><a id="__codelineno-155-3" name="__codelineno-155-3" href="#__codelineno-155-3"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">updates</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-155-4"><a id="__codelineno-155-4" name="__codelineno-155-4" href="#__codelineno-155-4"></a><span class="w">        </span><span class="nv">inv</span><span class="p">:</span><span class="nf">setData</span><span class="p">(</span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-155-5"><a id="__codelineno-155-5" name="__codelineno-155-5" href="#__codelineno-155-5"></a><span class="w">        </span><span class="c1">-- Additional custom sync logic</span>
</span><span id="__span-155-6"><a id="__codelineno-155-6" name="__codelineno-155-6" href="#__codelineno-155-6"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;permissions&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-155-7"><a id="__codelineno-155-7" name="__codelineno-155-7" href="#__codelineno-155-7"></a><span class="w">            </span><span class="nv">inv</span><span class="p">:</span><span class="nf">syncData</span><span class="p">(</span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">recipients</span><span class="p">)</span><span class="w"> </span><span class="c1">-- Force immediate sync</span>
</span><span id="__span-155-8"><a id="__codelineno-155-8" name="__codelineno-155-8" href="#__codelineno-155-8"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-155-9"><a id="__codelineno-155-9" name="__codelineno-155-9" href="#__codelineno-155-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-155-10"><a id="__codelineno-155-10" name="__codelineno-155-10" href="#__codelineno-155-10"></a><span class="kr">end</span>
</span><span id="__span-155-11"><a id="__codelineno-155-11" name="__codelineno-155-11" href="#__codelineno-155-11"></a><span class="nf">updateInventoryData</span><span class="p">(</span><span class="nv">guildInventory</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nv">memberCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span><span class="p">})</span>
</span></code></pre></div></p>
<hr />
<h3 id="sync">sync</h3>
<p><strong>Purpose</strong></p>
<p>Synchronizes entire inventory state to clients</p>
<p><strong>When Called</strong></p>
<p>When clients need full inventory state (initial load, resync)</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>recipients</code> (<em>unknown</em>): Optional specific clients to send to, defaults to all recipients</li>
<li><code>recipients</code> (<em>unknown</em>): Optional specific clients to send to, defaults to all recipients</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-156-1"><a id="__codelineno-156-1" name="__codelineno-156-1" href="#__codelineno-156-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">sync</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-157-1"><a id="__codelineno-157-1" name="__codelineno-157-1" href="#__codelineno-157-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">recipients</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getRecipients</span><span class="p">()</span>
</span><span id="__span-157-2"><a id="__codelineno-157-2" name="__codelineno-157-2" href="#__codelineno-157-2"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">sync</span><span class="p">(</span><span class="nv">recipients</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-158-1"><a id="__codelineno-158-1" name="__codelineno-158-1" href="#__codelineno-158-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">fullInventorySync</span><span class="p">(</span><span class="nv">inv</span><span class="p">,</span><span class="w"> </span><span class="nv">targetClients</span><span class="p">)</span>
</span><span id="__span-158-2"><a id="__codelineno-158-2" name="__codelineno-158-2" href="#__codelineno-158-2"></a><span class="w">    </span><span class="c1">-- Send full inventory state</span>
</span><span id="__span-158-3"><a id="__codelineno-158-3" name="__codelineno-158-3" href="#__codelineno-158-3"></a><span class="w">    </span><span class="nv">inv</span><span class="p">:</span><span class="nf">sync</span><span class="p">(</span><span class="nv">targetClients</span><span class="p">)</span>
</span><span id="__span-158-4"><a id="__codelineno-158-4" name="__codelineno-158-4" href="#__codelineno-158-4"></a><span class="w">    </span><span class="c1">-- Send additional metadata if needed</span>
</span><span id="__span-158-5"><a id="__codelineno-158-5" name="__codelineno-158-5" href="#__codelineno-158-5"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">targetClients</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-158-6"><a id="__codelineno-158-6" name="__codelineno-158-6" href="#__codelineno-158-6"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;InventoryMetadata&quot;</span><span class="p">)</span>
</span><span id="__span-158-7"><a id="__codelineno-158-7" name="__codelineno-158-7" href="#__codelineno-158-7"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteType</span><span class="p">(</span><span class="nv">inv</span><span class="p">:</span><span class="nf">getID</span><span class="p">())</span>
</span><span id="__span-158-8"><a id="__codelineno-158-8" name="__codelineno-158-8" href="#__codelineno-158-8"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteTable</span><span class="p">(</span><span class="nv">inv</span><span class="p">:</span><span class="nf">getData</span><span class="p">())</span>
</span><span id="__span-158-9"><a id="__codelineno-158-9" name="__codelineno-158-9" href="#__codelineno-158-9"></a><span class="w">        </span><span class="nv">net</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-158-10"><a id="__codelineno-158-10" name="__codelineno-158-10" href="#__codelineno-158-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-158-11"><a id="__codelineno-158-11" name="__codelineno-158-11" href="#__codelineno-158-11"></a><span class="kr">end</span>
</span><span id="__span-158-12"><a id="__codelineno-158-12" name="__codelineno-158-12" href="#__codelineno-158-12"></a><span class="nf">fullInventorySync</span><span class="p">(</span><span class="nv">playerInventory</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">admin1</span><span class="p">,</span><span class="w"> </span><span class="nv">admin2</span><span class="p">})</span>
</span></code></pre></div></p>
<hr />
<h3 id="delete">delete</h3>
<p><strong>Purpose</strong></p>
<p>Deletes the inventory from the system</p>
<p><strong>When Called</strong></p>
<p>When inventory should be permanently removed</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-159-1"><a id="__codelineno-159-1" name="__codelineno-159-1" href="#__codelineno-159-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">delete</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-160-1"><a id="__codelineno-160-1" name="__codelineno-160-1" href="#__codelineno-160-1"></a><span class="kr">if</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItemCount</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-160-2"><a id="__codelineno-160-2" name="__codelineno-160-2" href="#__codelineno-160-2"></a><span class="w">    </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">delete</span><span class="p">()</span>
</span><span id="__span-160-3"><a id="__codelineno-160-3" name="__codelineno-160-3" href="#__codelineno-160-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-161-1"><a id="__codelineno-161-1" name="__codelineno-161-1" href="#__codelineno-161-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">safelyDeleteInventory</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-161-2"><a id="__codelineno-161-2" name="__codelineno-161-2" href="#__codelineno-161-2"></a><span class="w">    </span><span class="c1">-- Archive inventory data first</span>
</span><span id="__span-161-3"><a id="__codelineno-161-3" name="__codelineno-161-3" href="#__codelineno-161-3"></a><span class="w">    </span><span class="nv">inv</span><span class="p">:</span><span class="nf">archiveData</span><span class="p">()</span>
</span><span id="__span-161-4"><a id="__codelineno-161-4" name="__codelineno-161-4" href="#__codelineno-161-4"></a><span class="w">    </span><span class="c1">-- Remove all items</span>
</span><span id="__span-161-5"><a id="__codelineno-161-5" name="__codelineno-161-5" href="#__codelineno-161-5"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">inv</span><span class="p">:</span><span class="nf">getItems</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-161-6"><a id="__codelineno-161-6" name="__codelineno-161-6" href="#__codelineno-161-6"></a><span class="w">        </span><span class="nv">inv</span><span class="p">:</span><span class="nf">removeItem</span><span class="p">(</span><span class="nv">item</span><span class="p">:</span><span class="nf">getID</span><span class="p">())</span>
</span><span id="__span-161-7"><a id="__codelineno-161-7" name="__codelineno-161-7" href="#__codelineno-161-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-161-8"><a id="__codelineno-161-8" name="__codelineno-161-8" href="#__codelineno-161-8"></a><span class="w">    </span><span class="c1">-- Clear access rules</span>
</span><span id="__span-161-9"><a id="__codelineno-161-9" name="__codelineno-161-9" href="#__codelineno-161-9"></a><span class="w">    </span><span class="nv">inv</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">accessRules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-161-10"><a id="__codelineno-161-10" name="__codelineno-161-10" href="#__codelineno-161-10"></a><span class="w">    </span><span class="c1">-- Finally delete</span>
</span><span id="__span-161-11"><a id="__codelineno-161-11" name="__codelineno-161-11" href="#__codelineno-161-11"></a><span class="w">    </span><span class="nv">inv</span><span class="p">:</span><span class="nf">delete</span><span class="p">()</span>
</span><span id="__span-161-12"><a id="__codelineno-161-12" name="__codelineno-161-12" href="#__codelineno-161-12"></a><span class="kr">end</span>
</span><span id="__span-161-13"><a id="__codelineno-161-13" name="__codelineno-161-13" href="#__codelineno-161-13"></a><span class="nf">safelyDeleteInventory</span><span class="p">(</span><span class="nv">oldInventory</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="destroy">destroy</h3>
<p><strong>Purpose</strong></p>
<p>Destroys the inventory and all its items</p>
<p><strong>When Called</strong></p>
<p>When inventory and all contents should be completely removed</p>
<p><strong>Returns</strong></p>
<ul>
<li>Nothing</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-162-1"><a id="__codelineno-162-1" name="__codelineno-162-1" href="#__codelineno-162-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">destroy</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-163-1"><a id="__codelineno-163-1" name="__codelineno-163-1" href="#__codelineno-163-1"></a><span class="kr">if</span><span class="w"> </span><span class="nv">shouldDestroy</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-163-2"><a id="__codelineno-163-2" name="__codelineno-163-2" href="#__codelineno-163-2"></a><span class="w">    </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">destroy</span><span class="p">()</span>
</span><span id="__span-163-3"><a id="__codelineno-163-3" name="__codelineno-163-3" href="#__codelineno-163-3"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-164-1"><a id="__codelineno-164-1" name="__codelineno-164-1" href="#__codelineno-164-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">cleanupPlayerInventory</span><span class="p">(</span><span class="nv">player</span><span class="p">)</span>
</span><span id="__span-164-2"><a id="__codelineno-164-2" name="__codelineno-164-2" href="#__codelineno-164-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">player</span><span class="p">:</span><span class="nf">getInventory</span><span class="p">()</span>
</span><span id="__span-164-3"><a id="__codelineno-164-3" name="__codelineno-164-3" href="#__codelineno-164-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">inventory</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-164-4"><a id="__codelineno-164-4" name="__codelineno-164-4" href="#__codelineno-164-4"></a><span class="w">        </span><span class="c1">-- Log destruction reason</span>
</span><span id="__span-164-5"><a id="__codelineno-164-5" name="__codelineno-164-5" href="#__codelineno-164-5"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nv">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;inventory_destroyed&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">reason</span><span class="p">)</span>
</span><span id="__span-164-6"><a id="__codelineno-164-6" name="__codelineno-164-6" href="#__codelineno-164-6"></a><span class="w">        </span><span class="c1">-- Transfer important items to bank first</span>
</span><span id="__span-164-7"><a id="__codelineno-164-7" name="__codelineno-164-7" href="#__codelineno-164-7"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">bankItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;important_document&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;rare_item&quot;</span><span class="p">}</span>
</span><span id="__span-164-8"><a id="__codelineno-164-8" name="__codelineno-164-8" href="#__codelineno-164-8"></a><span class="w">        </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">itemType</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">bankItems</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-164-9"><a id="__codelineno-164-9" name="__codelineno-164-9" href="#__codelineno-164-9"></a><span class="w">            </span><span class="kd">local</span><span class="w"> </span><span class="nv">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItemsOfType</span><span class="p">(</span><span class="nv">itemType</span><span class="p">)</span>
</span><span id="__span-164-10"><a id="__codelineno-164-10" name="__codelineno-164-10" href="#__codelineno-164-10"></a><span class="w">            </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-164-11"><a id="__codelineno-164-11" name="__codelineno-164-11" href="#__codelineno-164-11"></a><span class="w">                </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">removeItem</span><span class="p">(</span><span class="nv">item</span><span class="p">:</span><span class="nf">getID</span><span class="p">())</span>
</span><span id="__span-164-12"><a id="__codelineno-164-12" name="__codelineno-164-12" href="#__codelineno-164-12"></a><span class="w">                </span><span class="nv">bankInventory</span><span class="p">:</span><span class="nf">addItem</span><span class="p">(</span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-164-13"><a id="__codelineno-164-13" name="__codelineno-164-13" href="#__codelineno-164-13"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-164-14"><a id="__codelineno-164-14" name="__codelineno-164-14" href="#__codelineno-164-14"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-164-15"><a id="__codelineno-164-15" name="__codelineno-164-15" href="#__codelineno-164-15"></a><span class="w">        </span><span class="c1">-- Destroy remaining inventory</span>
</span><span id="__span-164-16"><a id="__codelineno-164-16" name="__codelineno-164-16" href="#__codelineno-164-16"></a><span class="w">        </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">destroy</span><span class="p">()</span>
</span><span id="__span-164-17"><a id="__codelineno-164-17" name="__codelineno-164-17" href="#__codelineno-164-17"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-164-18"><a id="__codelineno-164-18" name="__codelineno-164-18" href="#__codelineno-164-18"></a><span class="kr">end</span>
</span><span id="__span-164-19"><a id="__codelineno-164-19" name="__codelineno-164-19" href="#__codelineno-164-19"></a><span class="nf">cleanupPlayerInventory</span><span class="p">(</span><span class="nv">leavingPlayer</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="show">show</h3>
<p><strong>Purpose</strong></p>
<p>Shows the inventory panel to the player</p>
<p><strong>When Called</strong></p>
<p>When player opens inventory interface</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>parent</code> (<em>unknown</em>): Optional parent panel for the inventory UI</li>
<li><code>parent</code> (<em>unknown</em>): Optional parent panel for the inventory UI</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The created inventory panel</li>
</ul>
<p><strong>Realm</strong></p>
<p>Client</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-165-1"><a id="__codelineno-165-1" name="__codelineno-165-1" href="#__codelineno-165-1"></a><span class="nv">inventory</span><span class="p">:</span><span class="nf">show</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-166-1"><a id="__codelineno-166-1" name="__codelineno-166-1" href="#__codelineno-166-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">panel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">show</span><span class="p">(</span><span class="nv">myCustomParent</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-167-1"><a id="__codelineno-167-1" name="__codelineno-167-1" href="#__codelineno-167-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">createCustomInventoryUI</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-167-2"><a id="__codelineno-167-2" name="__codelineno-167-2" href="#__codelineno-167-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vgui</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;DFrame&quot;</span><span class="p">)</span>
</span><span id="__span-167-3"><a id="__codelineno-167-3" name="__codelineno-167-3" href="#__codelineno-167-3"></a><span class="w">    </span><span class="nv">frame</span><span class="p">:</span><span class="nf">SetSize</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">)</span>
</span><span id="__span-167-4"><a id="__codelineno-167-4" name="__codelineno-167-4" href="#__codelineno-167-4"></a><span class="w">    </span><span class="nv">frame</span><span class="p">:</span><span class="nf">Center</span><span class="p">()</span>
</span><span id="__span-167-5"><a id="__codelineno-167-5" name="__codelineno-167-5" href="#__codelineno-167-5"></a><span class="w">    </span><span class="nv">frame</span><span class="p">:</span><span class="nf">SetTitle</span><span class="p">(</span><span class="s2">&quot;Custom Inventory&quot;</span><span class="p">)</span>
</span><span id="__span-167-6"><a id="__codelineno-167-6" name="__codelineno-167-6" href="#__codelineno-167-6"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">inventoryPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inv</span><span class="p">:</span><span class="nf">show</span><span class="p">(</span><span class="nv">frame</span><span class="p">)</span>
</span><span id="__span-167-7"><a id="__codelineno-167-7" name="__codelineno-167-7" href="#__codelineno-167-7"></a><span class="w">    </span><span class="nv">inventoryPanel</span><span class="p">:</span><span class="nf">Dock</span><span class="p">(</span><span class="nv">FILL</span><span class="p">)</span>
</span><span id="__span-167-8"><a id="__codelineno-167-8" name="__codelineno-167-8" href="#__codelineno-167-8"></a><span class="w">    </span><span class="c1">-- Add custom buttons</span>
</span><span id="__span-167-9"><a id="__codelineno-167-9" name="__codelineno-167-9" href="#__codelineno-167-9"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">sortButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vgui</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;DButton&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">frame</span><span class="p">)</span>
</span><span id="__span-167-10"><a id="__codelineno-167-10" name="__codelineno-167-10" href="#__codelineno-167-10"></a><span class="w">    </span><span class="nv">sortButton</span><span class="p">:</span><span class="nf">Dock</span><span class="p">(</span><span class="nv">BOTTOM</span><span class="p">)</span>
</span><span id="__span-167-11"><a id="__codelineno-167-11" name="__codelineno-167-11" href="#__codelineno-167-11"></a><span class="w">    </span><span class="nv">sortButton</span><span class="p">:</span><span class="nf">SetText</span><span class="p">(</span><span class="s2">&quot;Sort Items&quot;</span><span class="p">)</span>
</span><span id="__span-167-12"><a id="__codelineno-167-12" name="__codelineno-167-12" href="#__codelineno-167-12"></a><span class="w">    </span><span class="nv">sortButton</span><span class="p">.</span><span class="py">DoClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-167-13"><a id="__codelineno-167-13" name="__codelineno-167-13" href="#__codelineno-167-13"></a><span class="w">    </span><span class="nv">net</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;InventorySort&quot;</span><span class="p">)</span>
</span><span id="__span-167-14"><a id="__codelineno-167-14" name="__codelineno-167-14" href="#__codelineno-167-14"></a><span class="w">    </span><span class="nv">net</span><span class="p">.</span><span class="nf">WriteType</span><span class="p">(</span><span class="nv">inv</span><span class="p">:</span><span class="nf">getID</span><span class="p">())</span>
</span><span id="__span-167-15"><a id="__codelineno-167-15" name="__codelineno-167-15" href="#__codelineno-167-15"></a><span class="w">    </span><span class="nv">net</span><span class="p">.</span><span class="nf">SendToServer</span><span class="p">()</span>
</span><span id="__span-167-16"><a id="__codelineno-167-16" name="__codelineno-167-16" href="#__codelineno-167-16"></a><span class="kr">end</span>
</span><span id="__span-167-17"><a id="__codelineno-167-17" name="__codelineno-167-17" href="#__codelineno-167-17"></a><span class="kr">return</span><span class="w"> </span><span class="nv">frame</span>
</span><span id="__span-167-18"><a id="__codelineno-167-18" name="__codelineno-167-18" href="#__codelineno-167-18"></a><span class="kr">end</span>
</span><span id="__span-167-19"><a id="__codelineno-167-19" name="__codelineno-167-19" href="#__codelineno-167-19"></a><span class="kd">local</span><span class="w"> </span><span class="nv">ui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">createCustomInventoryUI</span><span class="p">(</span><span class="nv">playerInventory</span><span class="p">)</span>
</span><span id="__span-167-20"><a id="__codelineno-167-20" name="__codelineno-167-20" href="#__codelineno-167-20"></a><span class="nv">ui</span><span class="p">:</span><span class="nf">MakePopup</span><span class="p">()</span>
</span></code></pre></div></p>
<hr />












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../entity/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Entity Meta">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Entity Meta
              </div>
            </div>
          </a>
        
        
          
          <a href="../item/" class="md-footer__link md-footer__link--next" aria-label="Next: Item Meta">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Item Meta
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.instant.preview", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "toc.follow", "toc.integrate", "navigation.top", "header.autohide", "announce.dismiss", "navigation.footer", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.select", "content.code.annotate", "content.tabs.link", "content.tooltips", "content.footnote.tooltips"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>
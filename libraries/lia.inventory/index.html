
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Official documentation for the Lilia Framework">
      
      
        <meta name="author" content="Lilia Framework Team">
      
      
        <link rel="canonical" href="https://liliaframework.github.io/libraries/lia.inventory/">
      
      
        <link rel="prev" href="../lia.fonts/">
      
      
        <link rel="next" href="../lia.item/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Inventory Library - Lilia Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lavender">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#inventory-library" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Lilia Documentation" class="md-header__button md-logo" aria-label="Lilia Documentation" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lilia Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Inventory Library
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lavender"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="lavender"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/LiliaFramework/Lilia" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../changelog/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../compatibility/" class="md-tabs__link">
        
  
  
    
  
  Addon Compatibility

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../gettingstarted/" class="md-tabs__link">
        
  
  
    
  
  Getting Started with Lilia

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../installation/" class="md-tabs__link">
        
  
  
    
  
  Installation Guide

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../definitions/attributes/" class="md-tabs__link">
          
  
  
    
  
  Definitions

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../hooks/client/" class="md-tabs__link">
          
  
  
    
  
  Hooks

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../lia.admin/" class="md-tabs__link">
          
  
  
    
  
  Libraries

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../meta/character/" class="md-tabs__link">
          
  
  
    
  
  Meta

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../modules/" class="md-tabs__link">
          
  
  
    
  
  Modules

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Lilia Documentation" class="md-nav__button md-logo" aria-label="Lilia Documentation" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Lilia Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/LiliaFramework/Lilia" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../compatibility/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Addon Compatibility
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gettingstarted/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with Lilia
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../definitions/attributes/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Definitions
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../hooks/client/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Hooks
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Libraries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.admin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Administrator Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.attributes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Attributes Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.bars/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bars Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.character/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Character Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.chatbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chatbox Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.classes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Classes Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.color/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Color Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Commands Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.currency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Currency Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.darkrp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DarkRP Compatibility Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Database Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.derma/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Derma Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.doors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Doors Library Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.factions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Faction Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.flags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Flags Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.fonts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Font Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Inventory Library
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Inventory Library
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#newtype" class="md-nav__link">
    <span class="md-ellipsis">
      newType
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#new" class="md-nav__link">
    <span class="md-ellipsis">
      new
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loadbyid" class="md-nav__link">
    <span class="md-ellipsis">
      loadByID
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loadfromdefaultstorage" class="md-nav__link">
    <span class="md-ellipsis">
      loadFromDefaultStorage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instance" class="md-nav__link">
    <span class="md-ellipsis">
      instance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loadallfromcharid" class="md-nav__link">
    <span class="md-ellipsis">
      loadAllFromCharID
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deletebyid" class="md-nav__link">
    <span class="md-ellipsis">
      deleteByID
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanupforcharacter" class="md-nav__link">
    <span class="md-ellipsis">
      cleanUpForCharacter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checkoverflow" class="md-nav__link">
    <span class="md-ellipsis">
      checkOverflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registerstorage" class="md-nav__link">
    <span class="md-ellipsis">
      registerStorage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getstorage" class="md-nav__link">
    <span class="md-ellipsis">
      getStorage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registertrunk" class="md-nav__link">
    <span class="md-ellipsis">
      registerTrunk
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gettrunk" class="md-nav__link">
    <span class="md-ellipsis">
      getTrunk
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getalltrunks" class="md-nav__link">
    <span class="md-ellipsis">
      getAllTrunks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getallstorage" class="md-nav__link">
    <span class="md-ellipsis">
      getAllStorage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show" class="md-nav__link">
    <span class="md-ellipsis">
      show
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#liapanelonremove" class="md-nav__link">
    <span class="md-ellipsis">
      lia.panel:OnRemove
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.item/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Item Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.keybind/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Keybind Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.languages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Languages Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.loader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Loader Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.logger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logger Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.menu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Menu Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.modularity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modularity Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.net/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Network Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.notice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Notice Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.option/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Option Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.playerinteract/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Player Interaction Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.time/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Time Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.util/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Utility Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.vendor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vendor Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.webimage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web Image Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.websound/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WebSound Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lia.workshop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workshop Library
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../meta/character/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Meta
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../modules/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="inventory-library">Inventory Library</h1>
<p>Comprehensive inventory system management with multiple storage types for the Lilia framework.</p>
<hr />
<p>Overview</p>
<p>The inventory library provides comprehensive functionality for managing inventory systems in the Lilia framework. It handles inventory type registration, instance creation, storage management, and database persistence. The library operates on both server and client sides, with the server managing inventory data persistence, loading, and storage registration, while the client handles inventory panel display and user interaction. It supports multiple inventory types, storage containers, vehicle trunks, and character-based inventory management. The library ensures proper data validation, caching, and cleanup for optimal performance.</p>
<hr />
<h3 id="newtype">newType</h3>
<p><strong>Purpose</strong></p>
<p>Registers a new inventory type with the system</p>
<p><strong>When Called</strong></p>
<p>During module initialization or when defining custom inventory types</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>typeID</code> (<em>string</em>): Unique identifier for the inventory type</li>
<li><code>invTypeStruct</code> (<em>table</em>): Structure containing inventory type configuration</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">-- Simple: Register a basic inventory type</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">newType</span><span class="p">(</span><span class="s2">&quot;player&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nv">className</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;PlayerInventory&quot;</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="nv">typeID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;player&quot;</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="nv">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">}</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">})</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">-- Medium: Register inventory type with custom methods</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">playerInvType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nv">className</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;PlayerInventory&quot;</span><span class="p">,</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="nv">typeID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;player&quot;</span><span class="p">,</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="nv">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">},</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="nv">add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span><span class="w"> </span><span class="c1">-- custom add method</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1">-- custom logic here</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="kr">end</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="p">}</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">newType</span><span class="p">(</span><span class="s2">&quot;player&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">playerInvType</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">-- High: Register complex inventory type with validation</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">complexInvType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nv">className</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ComplexInventory&quot;</span><span class="p">,</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="nv">typeID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;complex&quot;</span><span class="p">,</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="nv">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="nv">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="nv">restrictions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;weapons&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;drugs&quot;</span><span class="p">}</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="p">},</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="nv">add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">canAddItem</span><span class="p">(</span><span class="nv">item</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">doAddItem</span><span class="p">(</span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="kr">end</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="kr">end</span><span class="p">,</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="nv">remove</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="kr">return</span><span class="w"> </span><span class="nv">self</span><span class="p">:</span><span class="nf">doRemoveItem</span><span class="p">(</span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="kr">end</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="p">}</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">newType</span><span class="p">(</span><span class="s2">&quot;complex&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">complexInvType</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="new">new</h3>
<p><strong>Purpose</strong></p>
<p>Creates a new inventory instance of the specified type</p>
<p><strong>When Called</strong></p>
<p>When creating inventory instances for players, storage containers, or vehicles</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>typeID</code> (<em>string</em>): The inventory type identifier to create an instance of</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Inventory instance (table) with items and config properties</li>
</ul>
<p><strong>Realm</strong></p>
<p>Shared</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">-- Simple: Create a basic player inventory</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">playerInv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;player&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">-- Medium: Create inventory and configure it</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">storageInv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;storage&quot;</span><span class="p">)</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nv">storageInv</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="nv">storageInv</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">-- High: Create inventory with custom configuration</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">customInv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;player&quot;</span><span class="p">)</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nv">customInv</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="nv">customInv</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="nv">customInv</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="nv">customInv</span><span class="p">.</span><span class="py">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span></code></pre></div></p>
<hr />
<h3 id="loadbyid">loadByID</h3>
<p><strong>Purpose</strong></p>
<p>Loads an inventory instance by its ID from storage or cache</p>
<p><strong>When Called</strong></p>
<p>When accessing an existing inventory that may be cached or needs to be loaded from database</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>id</code> (<em>number</em>): The inventory ID to load</li>
<li><code>noCache</code> (<em>boolean, optional</em>): If true, bypasses cache and forces reload from storage</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Deferred promise that resolves to inventory instance</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">-- Simple: Load inventory by ID</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">loadByID</span><span class="p">(</span><span class="mi">123</span><span class="p">):</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loaded inventory:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">-- Medium: Load inventory with error handling</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">loadByID</span><span class="p">(</span><span class="mi">123</span><span class="p">):</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="kr">if</span><span class="w"> </span><span class="nv">inv</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Successfully loaded inventory:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="kr">end</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="kr">end</span><span class="p">):</span><span class="nf">catch</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Failed to load inventory:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">-- High: Load inventory with cache bypass and validation</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">loadInventorySafely</span><span class="p">(</span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">loadByID</span><span class="p">(</span><span class="nv">id</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">):</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inv</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">deferred</span><span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="s2">&quot;Inventory not found&quot;</span><span class="p">)</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">    </span><span class="c1">-- Validate inventory data</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">data</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">items</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">deferred</span><span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="s2">&quot;Invalid inventory data&quot;</span><span class="p">)</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">inv</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="loadfromdefaultstorage">loadFromDefaultStorage</h3>
<p><strong>Purpose</strong></p>
<p>Loads an inventory from the default database storage system</p>
<p><strong>When Called</strong></p>
<p>When loadByID cannot find a custom loader and needs to use default storage</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>id</code> (<em>number</em>): The inventory ID to load from database</li>
<li><code>noCache</code> (<em>boolean, optional</em>): If true, bypasses cache and forces reload from database</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Deferred promise that resolves to inventory instance</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">-- Simple: Load inventory from default storage</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">loadFromDefaultStorage</span><span class="p">(</span><span class="mi">123</span><span class="p">):</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loaded from database:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1">-- Medium: Load with cache bypass</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">loadFromDefaultStorage</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">):</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="kr">if</span><span class="w"> </span><span class="nv">inv</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fresh load from database:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="kr">end</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1">-- High: Load with comprehensive error handling and validation</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">loadFromDatabase</span><span class="p">(</span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">loadFromDefaultStorage</span><span class="p">(</span><span class="nv">id</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">):</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inv</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Failed to load inventory &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; from database&quot;</span><span class="p">)</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">deferred</span><span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="s2">&quot;Inventory not found in database&quot;</span><span class="p">)</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">    </span><span class="c1">-- Validate inventory structure</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">data</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">items</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Invalid inventory structure for ID: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">deferred</span><span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="s2">&quot;Corrupted inventory data&quot;</span><span class="p">)</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="w">    </span><span class="c1">-- Log successful load</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;Successfully loaded inventory &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; from database&quot;</span><span class="p">)</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">inv</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="kr">end</span><span class="p">):</span><span class="nf">catch</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Database load error for inventory &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">err</span><span class="p">))</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="kr">return</span><span class="w"> </span><span class="nv">deferred</span><span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="instance">instance</h3>
<p><strong>Purpose</strong></p>
<p>Creates a new inventory instance and initializes it in storage</p>
<p><strong>When Called</strong></p>
<p>When creating new inventories that need to be persisted to database</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>typeID</code> (<em>string</em>): The inventory type identifier</li>
<li><code>initialData</code> (<em>table, optional</em>): Initial data to store with the inventory</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Deferred promise that resolves to the created inventory instance</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">-- Simple: Create a new inventory instance</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">instance</span><span class="p">(</span><span class="s2">&quot;player&quot;</span><span class="p">):</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Created inventory:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1">-- Medium: Create inventory with initial data</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">initialData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;player123&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">}</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">instance</span><span class="p">(</span><span class="s2">&quot;storage&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">initialData</span><span class="p">):</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Created storage inventory:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Owner:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="py">owner</span><span class="p">)</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">-- High: Create inventory with validation and error handling</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">createInventorySafely</span><span class="p">(</span><span class="nv">typeID</span><span class="p">,</span><span class="w"> </span><span class="nv">data</span><span class="p">)</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="py">types</span><span class="p">[</span><span class="nv">typeID</span><span class="p">]</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">deferred</span><span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="s2">&quot;Invalid inventory type: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">typeID</span><span class="p">)</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">instance</span><span class="p">(</span><span class="nv">typeID</span><span class="p">,</span><span class="w"> </span><span class="nv">data</span><span class="p">):</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inv</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">id</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">deferred</span><span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="s2">&quot;Failed to create inventory instance&quot;</span><span class="p">)</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">    </span><span class="c1">-- Validate created inventory</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">data</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">items</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">deferred</span><span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="s2">&quot;Invalid inventory structure&quot;</span><span class="p">)</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;Successfully created inventory &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">id</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; of type &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">typeID</span><span class="p">)</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">inv</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="kr">end</span><span class="p">):</span><span class="nf">catch</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Failed to create inventory: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">err</span><span class="p">))</span>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="kr">return</span><span class="w"> </span><span class="nv">deferred</span><span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="loadallfromcharid">loadAllFromCharID</h3>
<p><strong>Purpose</strong></p>
<p>Loads all inventories associated with a specific character ID</p>
<p><strong>When Called</strong></p>
<p>When a character logs in or when accessing all character inventories</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>charID</code> (<em>number</em>): The character ID to load inventories for</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Deferred promise that resolves to array of inventory instances</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1">-- Simple: Load all inventories for a character</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">loadAllFromCharID</span><span class="p">(</span><span class="mi">123</span><span class="p">):</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inventories</span><span class="p">)</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">inventories</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;inventories&quot;</span><span class="p">)</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">-- Medium: Load inventories with error handling</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">loadAllFromCharID</span><span class="p">(</span><span class="mi">123</span><span class="p">):</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inventories</span><span class="p">)</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="kr">if</span><span class="w"> </span><span class="nv">inventories</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="o">#</span><span class="nv">inventories</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Successfully loaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">inventories</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;inventories&quot;</span><span class="p">)</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">inventories</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inventory ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">id</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Type:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="py">invType</span><span class="p">)</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="kr">end</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="kr">end</span><span class="p">):</span><span class="nf">catch</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Failed to load character inventories:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1">-- High: Load inventories with validation and processing</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">loadCharacterInventories</span><span class="p">(</span><span class="nv">charID</span><span class="p">)</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">loadAllFromCharID</span><span class="p">(</span><span class="nv">charID</span><span class="p">):</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inventories</span><span class="p">)</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inventories</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">deferred</span><span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="s2">&quot;No inventories found for character &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">charID</span><span class="p">)</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">validInventories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">inventories</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">inv</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">id</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">data</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="w">            </span><span class="c1">-- Validate inventory structure</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">items</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">config</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="w">                </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">validInventories</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="w">                </span><span class="kr">else</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="w">                    </span><span class="nv">lia</span><span class="p">.</span><span class="nf">warning</span><span class="p">(</span><span class="s2">&quot;Invalid inventory structure for ID: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="w">                </span><span class="kr">end</span>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;Loaded &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="o">#</span><span class="nv">validInventories</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; valid inventories for character &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">charID</span><span class="p">)</span>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">validInventories</span>
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a><span class="w">    </span><span class="kr">end</span><span class="p">):</span><span class="nf">catch</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Failed to load inventories for character &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">charID</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">err</span><span class="p">))</span>
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">deferred</span><span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="deletebyid">deleteByID</h3>
<p><strong>Purpose</strong></p>
<p>Permanently deletes an inventory and all its associated data from the database</p>
<p><strong>When Called</strong></p>
<p>When removing inventories that are no longer needed or during cleanup operations</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>id</code> (<em>number</em>): The inventory ID to delete</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1">-- Simple: Delete an inventory by ID</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">deleteByID</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1">-- Medium: Delete inventory with validation</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">deleteInventory</span><span class="p">(</span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">isnumber</span><span class="p">(</span><span class="nv">id</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Invalid inventory ID for deletion: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">id</span><span class="p">))</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">deleteByID</span><span class="p">(</span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;Deleted inventory ID: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1">-- High: Delete inventory with comprehensive cleanup</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">deleteInventorySafely</span><span class="p">(</span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">isnumber</span><span class="p">(</span><span class="nv">id</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">deferred</span><span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="s2">&quot;Invalid inventory ID: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">id</span><span class="p">))</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">    </span><span class="c1">-- Check if inventory exists before deletion</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">loadByID</span><span class="p">(</span><span class="nv">id</span><span class="p">):</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inv</span><span class="p">)</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inv</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">warning</span><span class="p">(</span><span class="s2">&quot;Attempted to delete non-existent inventory: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">    </span><span class="c1">-- Clean up any items in the inventory</span>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">items</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="w">        </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">inv</span><span class="p">.</span><span class="py">items</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">destroy</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-20-16"><a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a><span class="w">                </span><span class="nv">item</span><span class="p">:</span><span class="nf">destroy</span><span class="p">()</span>
</span><span id="__span-20-17"><a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-20-18"><a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-20-19"><a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-20-20"><a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a><span class="w">    </span><span class="c1">-- Delete from database</span>
</span><span id="__span-20-21"><a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">deleteByID</span><span class="p">(</span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-20-22"><a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;Successfully deleted inventory &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; and all associated data&quot;</span><span class="p">)</span>
</span><span id="__span-20-23"><a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-20-24"><a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a><span class="kr">end</span><span class="p">):</span><span class="nf">catch</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-20-25"><a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Failed to delete inventory &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">err</span><span class="p">))</span>
</span><span id="__span-20-26"><a id="__codelineno-20-26" name="__codelineno-20-26" href="#__codelineno-20-26"></a><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-20-27"><a id="__codelineno-20-27" name="__codelineno-20-27" href="#__codelineno-20-27"></a><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-20-28"><a id="__codelineno-20-28" name="__codelineno-20-28" href="#__codelineno-20-28"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="cleanupforcharacter">cleanUpForCharacter</h3>
<p><strong>Purpose</strong></p>
<p>Destroys all inventory instances associated with a character</p>
<p><strong>When Called</strong></p>
<p>When a character is deleted or during character cleanup operations</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>character</code> (<em>table</em>): The character object containing inventory references</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>None</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1">-- Simple: Clean up character inventories</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">cleanUpForCharacter</span><span class="p">(</span><span class="nv">character</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1">-- Medium: Clean up with validation</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">cleanupCharacterInventories</span><span class="p">(</span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">character</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">character</span><span class="p">.</span><span class="py">getInv</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Invalid character object for cleanup&quot;</span><span class="p">)</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">cleanUpForCharacter</span><span class="p">(</span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;Cleaned up inventories for character: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1">-- High: Clean up with comprehensive logging and validation</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">cleanupCharacterInventoriesSafely</span><span class="p">(</span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">character</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">character</span><span class="p">.</span><span class="py">getInv</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Invalid character object for inventory cleanup&quot;</span><span class="p">)</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">inventories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getInv</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inventories</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nv">table</span><span class="p">.</span><span class="nf">IsEmpty</span><span class="p">(</span><span class="nv">inventories</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;No inventories to clean up for character: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">inv</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">inventories</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">inv</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">inv</span><span class="p">.</span><span class="py">destroy</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="w">            </span><span class="nv">inv</span><span class="p">:</span><span class="nf">destroy</span><span class="p">()</span>
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="w">            </span><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-23-18"><a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-23-19"><a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;Cleaned up &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; inventories for character: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-23-20"><a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-23-21"><a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="checkoverflow">checkOverflow</h3>
<p><strong>Purpose</strong></p>
<p>Checks for and handles inventory overflow when inventory size changes</p>
<p><strong>When Called</strong></p>
<p>When an inventory's dimensions are reduced and items may no longer fit</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>inv</code> (<em>table</em>): The inventory instance to check for overflow</li>
<li><code>character</code> (<em>table</em>): The character object to store overflow items with</li>
<li><code>oldW</code> (<em>number</em>): The previous width of the inventory</li>
<li><code>oldH</code> (<em>number</em>): The previous height of the inventory</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Boolean indicating whether overflow items were found and stored</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1">-- Simple: Check for overflow after inventory resize</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">hadOverflow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">checkOverflow</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="kr">if</span><span class="w"> </span><span class="nv">hadOverflow</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">notify</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="s2">&quot;Some items were moved to overflow storage&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">NOTIFY_GENERIC</span><span class="p">)</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1">-- High: Comprehensive overflow handling with validation</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">handleInventoryResize</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">oldWidth</span><span class="p">,</span><span class="w"> </span><span class="nv">oldHeight</span><span class="p">)</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inventory</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">character</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Invalid parameters for inventory overflow check&quot;</span><span class="p">)</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">overflowDetected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">checkOverflow</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">oldWidth</span><span class="p">,</span><span class="w"> </span><span class="nv">oldHeight</span><span class="p">)</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">overflowDetected</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">overflowData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getData</span><span class="p">(</span><span class="s2">&quot;overflowItems&quot;</span><span class="p">)</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;Overflow detected: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="o">#</span><span class="nv">overflowData</span><span class="p">.</span><span class="py">items</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; items stored for character &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="w">        </span><span class="c1">-- Notify player about overflow</span>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">notify</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="s2">&quot;Inventory resized - some items moved to overflow storage&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">NOTIFY_WARNING</span><span class="p">)</span>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-25-16"><a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="registerstorage">registerStorage</h3>
<p><strong>Purpose</strong></p>
<p>Registers a storage container model with inventory configuration</p>
<p><strong>When Called</strong></p>
<p>During module initialization to register storage containers like crates, lockers, etc.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>model</code> (<em>string</em>): The model path of the storage container</li>
<li><code>data</code> (<em>table</em>): Configuration data containing name, invType, and invData</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The registered storage data table</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1">-- Simple: Register a basic storage container</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">registerStorage</span><span class="p">(</span><span class="s2">&quot;models/props_c17/lockers001a.mdl&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Locker&quot;</span><span class="p">,</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="nv">invType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;storage&quot;</span><span class="p">,</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="nv">invData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="p">})</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1">-- Medium: Register storage with custom configuration</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">storageData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Medical Cabinet&quot;</span><span class="p">,</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="nv">invType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;medical&quot;</span><span class="p">,</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="nv">invData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="nv">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="nv">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="nv">restrictions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;medical&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;drugs&quot;</span><span class="p">}</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="p">}</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="p">}</span>
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">registerStorage</span><span class="p">(</span><span class="s2">&quot;models/props_c17/furnituremedicinecabinet001a.mdl&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">storageData</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1">-- High: Register multiple storage types with validation</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">registerStorageContainers</span><span class="p">()</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">storages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">    </span><span class="nv">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;models/props_c17/lockers001a.mdl&quot;</span><span class="p">,</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="w">    </span><span class="nv">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="w">    </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Security Locker&quot;</span><span class="p">,</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="w">    </span><span class="nv">invType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;security&quot;</span><span class="p">,</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="w">    </span><span class="nv">invData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="nv">restricted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="w">    </span><span class="nv">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;models/props_c17/furnituremedicinecabinet001a.mdl&quot;</span><span class="p">,</span>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="w">    </span><span class="nv">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="w">    </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Medical Cabinet&quot;</span><span class="p">,</span>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="w">    </span><span class="nv">invType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;medical&quot;</span><span class="p">,</span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="w">    </span><span class="nv">invData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="nv">medicalOnly</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-28-20"><a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-28-21"><a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">storage</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">storages</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-28-22"><a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">storage</span><span class="p">.</span><span class="py">model</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">storage</span><span class="p">.</span><span class="py">data</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-28-23"><a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="w">            </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">registerStorage</span><span class="p">(</span><span class="nv">storage</span><span class="p">.</span><span class="py">model</span><span class="p">,</span><span class="w"> </span><span class="nv">storage</span><span class="p">.</span><span class="py">data</span><span class="p">)</span>
</span><span id="__span-28-24"><a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a><span class="w">            </span><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;Registered storage: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">storage</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="py">name</span><span class="p">)</span>
</span><span id="__span-28-25"><a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-28-26"><a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-28-27"><a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="getstorage">getStorage</h3>
<p><strong>Purpose</strong></p>
<p>Retrieves storage configuration data for a specific model</p>
<p><strong>When Called</strong></p>
<p>When checking if a model has registered storage or accessing storage configuration</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>model</code> (<em>string</em>): The model path to look up storage data for</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Storage data table if found, nil otherwise</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1">-- Simple: Get storage data for a model</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">storageData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">getStorage</span><span class="p">(</span><span class="s2">&quot;models/props_c17/lockers001a.mdl&quot;</span><span class="p">)</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="kr">if</span><span class="w"> </span><span class="nv">storageData</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Storage name:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">name</span><span class="p">)</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1">-- Medium: Get storage with validation</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">getStorageInfo</span><span class="p">(</span><span class="nv">model</span><span class="p">)</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">model</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">isstring</span><span class="p">(</span><span class="nv">model</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">storageData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">getStorage</span><span class="p">(</span><span class="nv">model</span><span class="p">)</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">storageData</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="w">        </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">name</span><span class="p">,</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="w">        </span><span class="nb">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">invType</span><span class="p">,</span>
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="w">        </span><span class="nv">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">w</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">h</span>
</span><span id="__span-30-12"><a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-30-13"><a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-30-14"><a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-30-15"><a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1">-- High: Get storage with comprehensive validation and processing</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">getStorageConfiguration</span><span class="p">(</span><span class="nv">model</span><span class="p">)</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">model</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">isstring</span><span class="p">(</span><span class="nv">model</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">warning</span><span class="p">(</span><span class="s2">&quot;Invalid model provided to getStorageConfiguration: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">model</span><span class="p">))</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">storageData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">getStorage</span><span class="p">(</span><span class="nv">model</span><span class="p">)</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">storageData</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;No storage configuration found for model: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">model</span><span class="p">)</span>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="w">    </span><span class="c1">-- Validate storage data structure</span>
</span><span id="__span-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">name</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">invType</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">invData</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-31-14"><a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Invalid storage data structure for model: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">model</span><span class="p">)</span>
</span><span id="__span-31-15"><a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-31-16"><a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-31-17"><a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="w">    </span><span class="c1">-- Process and return validated data</span>
</span><span id="__span-31-18"><a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-31-19"><a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="w">    </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">name</span><span class="p">,</span>
</span><span id="__span-31-20"><a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="w">    </span><span class="nb">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">invType</span><span class="p">,</span>
</span><span id="__span-31-21"><a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="w">    </span><span class="nv">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">w</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-31-22"><a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="w">    </span><span class="nv">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">h</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
</span><span id="__span-31-23"><a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="w">    </span><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">maxWeight</span><span class="p">,</span>
</span><span id="__span-31-24"><a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="w">    </span><span class="nv">restrictions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">restrictions</span><span class="p">,</span>
</span><span id="__span-31-25"><a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="w">    </span><span class="nv">isTrunk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">storageData</span><span class="p">.</span><span class="py">isTrunk</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-31-26"><a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-31-27"><a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="registertrunk">registerTrunk</h3>
<p><strong>Purpose</strong></p>
<p>Registers a vehicle class with trunk inventory configuration</p>
<p><strong>When Called</strong></p>
<p>During module initialization to register vehicle trunks</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>vehicleClass</code> (<em>string</em>): The vehicle class name</li>
<li><code>data</code> (<em>table</em>): Configuration data containing name, invType, and invData</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The registered trunk data table</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1">-- Simple: Register a basic vehicle trunk</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">registerTrunk</span><span class="p">(</span><span class="s2">&quot;prop_vehicle_jeep&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Jeep Trunk&quot;</span><span class="p">,</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="nv">invType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;trunk&quot;</span><span class="p">,</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="nv">invData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="p">})</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1">-- Medium: Register trunk with custom configuration</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Police Car Trunk&quot;</span><span class="p">,</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="nv">invType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;police_trunk&quot;</span><span class="p">,</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="nv">invData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="nv">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="nv">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="nv">restricted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="nv">allowedItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;weapons&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;evidence&quot;</span><span class="p">}</span>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="p">}</span>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="p">}</span>
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">registerTrunk</span><span class="p">(</span><span class="s2">&quot;prop_vehicle_police&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="c1">-- High: Register multiple vehicle trunks with validation</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">registerVehicleTrunks</span><span class="p">()</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">vehicles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="w">    </span><span class="nv">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prop_vehicle_jeep&quot;</span><span class="p">,</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="w">    </span><span class="nv">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="w">    </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Civilian Vehicle Trunk&quot;</span><span class="p">,</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="w">    </span><span class="nv">invType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;civilian_trunk&quot;</span><span class="p">,</span>
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="w">    </span><span class="nv">invData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">}</span>
</span><span id="__span-34-10"><a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-34-11"><a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-34-12"><a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-34-13"><a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="w">    </span><span class="nv">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prop_vehicle_police&quot;</span><span class="p">,</span>
</span><span id="__span-34-14"><a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="w">    </span><span class="nv">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-34-15"><a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a><span class="w">    </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Police Vehicle Trunk&quot;</span><span class="p">,</span>
</span><span id="__span-34-16"><a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="w">    </span><span class="nv">invType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;police_trunk&quot;</span><span class="p">,</span>
</span><span id="__span-34-17"><a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a><span class="w">    </span><span class="nv">invData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="nv">restricted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span>
</span><span id="__span-34-18"><a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-34-19"><a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-34-20"><a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-34-21"><a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a><span class="w">    </span><span class="nv">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prop_vehicle_ambulance&quot;</span><span class="p">,</span>
</span><span id="__span-34-22"><a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a><span class="w">    </span><span class="nv">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-34-23"><a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a><span class="w">    </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Ambulance Storage&quot;</span><span class="p">,</span>
</span><span id="__span-34-24"><a id="__codelineno-34-24" name="__codelineno-34-24" href="#__codelineno-34-24"></a><span class="w">    </span><span class="nv">invType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;medical_trunk&quot;</span><span class="p">,</span>
</span><span id="__span-34-25"><a id="__codelineno-34-25" name="__codelineno-34-25" href="#__codelineno-34-25"></a><span class="w">    </span><span class="nv">invData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">75</span><span class="p">,</span><span class="w"> </span><span class="nv">medicalOnly</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span>
</span><span id="__span-34-26"><a id="__codelineno-34-26" name="__codelineno-34-26" href="#__codelineno-34-26"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-34-27"><a id="__codelineno-34-27" name="__codelineno-34-27" href="#__codelineno-34-27"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-34-28"><a id="__codelineno-34-28" name="__codelineno-34-28" href="#__codelineno-34-28"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-34-29"><a id="__codelineno-34-29" name="__codelineno-34-29" href="#__codelineno-34-29"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">vehicle</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">vehicles</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-34-30"><a id="__codelineno-34-30" name="__codelineno-34-30" href="#__codelineno-34-30"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">vehicle</span><span class="p">.</span><span class="py">class</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">vehicle</span><span class="p">.</span><span class="py">data</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-34-31"><a id="__codelineno-34-31" name="__codelineno-34-31" href="#__codelineno-34-31"></a><span class="w">            </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">registerTrunk</span><span class="p">(</span><span class="nv">vehicle</span><span class="p">.</span><span class="py">class</span><span class="p">,</span><span class="w"> </span><span class="nv">vehicle</span><span class="p">.</span><span class="py">data</span><span class="p">)</span>
</span><span id="__span-34-32"><a id="__codelineno-34-32" name="__codelineno-34-32" href="#__codelineno-34-32"></a><span class="w">            </span><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;Registered trunk for vehicle: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">vehicle</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="py">name</span><span class="p">)</span>
</span><span id="__span-34-33"><a id="__codelineno-34-33" name="__codelineno-34-33" href="#__codelineno-34-33"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-34-34"><a id="__codelineno-34-34" name="__codelineno-34-34" href="#__codelineno-34-34"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-34-35"><a id="__codelineno-34-35" name="__codelineno-34-35" href="#__codelineno-34-35"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="gettrunk">getTrunk</h3>
<p><strong>Purpose</strong></p>
<p>Retrieves trunk configuration data for a specific vehicle class</p>
<p><strong>When Called</strong></p>
<p>When checking if a vehicle has a trunk or accessing trunk configuration</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>vehicleClass</code> (<em>string</em>): The vehicle class name to look up trunk data for</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Trunk data table if found, nil otherwise</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1">-- Simple: Get trunk data for a vehicle</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">getTrunk</span><span class="p">(</span><span class="s2">&quot;prop_vehicle_jeep&quot;</span><span class="p">)</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="kr">if</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Trunk name:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">name</span><span class="p">)</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="c1">-- Medium: Get trunk with validation</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">getVehicleTrunk</span><span class="p">(</span><span class="nv">vehicleClass</span><span class="p">)</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">isstring</span><span class="p">(</span><span class="nv">vehicleClass</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">getTrunk</span><span class="p">(</span><span class="nv">vehicleClass</span><span class="p">)</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="w">        </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">name</span><span class="p">,</span>
</span><span id="__span-36-10"><a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="w">        </span><span class="nb">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invType</span><span class="p">,</span>
</span><span id="__span-36-11"><a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="w">        </span><span class="nv">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">w</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">h</span><span class="p">,</span>
</span><span id="__span-36-12"><a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="w">        </span><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">maxWeight</span>
</span><span id="__span-36-13"><a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-36-14"><a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-36-15"><a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-36-16"><a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="c1">-- High: Get trunk with comprehensive validation and processing</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">getVehicleTrunkConfiguration</span><span class="p">(</span><span class="nv">vehicleClass</span><span class="p">)</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">isstring</span><span class="p">(</span><span class="nv">vehicleClass</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">warning</span><span class="p">(</span><span class="s2">&quot;Invalid vehicle class provided: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">vehicleClass</span><span class="p">))</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">getTrunk</span><span class="p">(</span><span class="nv">vehicleClass</span><span class="p">)</span>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;No trunk configuration found for vehicle: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">)</span>
</span><span id="__span-37-10"><a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-37-11"><a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-37-12"><a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="w">    </span><span class="c1">-- Validate trunk data structure</span>
</span><span id="__span-37-13"><a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">name</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invType</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-37-14"><a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Invalid trunk data structure for vehicle: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">)</span>
</span><span id="__span-37-15"><a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-37-16"><a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-37-17"><a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a><span class="w">    </span><span class="c1">-- Process and return validated data</span>
</span><span id="__span-37-18"><a id="__codelineno-37-18" name="__codelineno-37-18" href="#__codelineno-37-18"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-37-19"><a id="__codelineno-37-19" name="__codelineno-37-19" href="#__codelineno-37-19"></a><span class="w">    </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">name</span><span class="p">,</span>
</span><span id="__span-37-20"><a id="__codelineno-37-20" name="__codelineno-37-20" href="#__codelineno-37-20"></a><span class="w">    </span><span class="nb">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invType</span><span class="p">,</span>
</span><span id="__span-37-21"><a id="__codelineno-37-21" name="__codelineno-37-21" href="#__codelineno-37-21"></a><span class="w">    </span><span class="nv">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">w</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-37-22"><a id="__codelineno-37-22" name="__codelineno-37-22" href="#__codelineno-37-22"></a><span class="w">    </span><span class="nv">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">h</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
</span><span id="__span-37-23"><a id="__codelineno-37-23" name="__codelineno-37-23" href="#__codelineno-37-23"></a><span class="w">    </span><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">maxWeight</span><span class="p">,</span>
</span><span id="__span-37-24"><a id="__codelineno-37-24" name="__codelineno-37-24" href="#__codelineno-37-24"></a><span class="w">    </span><span class="nv">restrictions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">restrictions</span><span class="p">,</span>
</span><span id="__span-37-25"><a id="__codelineno-37-25" name="__codelineno-37-25" href="#__codelineno-37-25"></a><span class="w">    </span><span class="nv">isTrunk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">isTrunk</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-37-26"><a id="__codelineno-37-26" name="__codelineno-37-26" href="#__codelineno-37-26"></a><span class="w">    </span><span class="nv">trunkKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">trunkKey</span>
</span><span id="__span-37-27"><a id="__codelineno-37-27" name="__codelineno-37-27" href="#__codelineno-37-27"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-37-28"><a id="__codelineno-37-28" name="__codelineno-37-28" href="#__codelineno-37-28"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="getalltrunks">getAllTrunks</h3>
<p><strong>Purpose</strong></p>
<p>Retrieves all registered storage configurations with optional trunk filtering</p>
<p><strong>When Called</strong></p>
<p>When needing to iterate through all available storage containers</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>includeTrunks</code> (<em>boolean, optional</em>): If false, excludes vehicle trunks from results</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Table containing all storage configurations indexed by model/class</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="c1">-- Simple: Get all trunks</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">trunks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">getAllTrunks</span><span class="p">()</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="kr">for</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">trunks</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vehicle:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Trunk:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">name</span><span class="p">)</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="c1">-- Medium: Get trunks with processing</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">getAllTrunkInfo</span><span class="p">()</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trunks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">getAllTrunks</span><span class="p">()</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trunkList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">trunks</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="w">        </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">trunkList</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="w">        </span><span class="nv">vehicleClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">,</span>
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="w">        </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">name</span><span class="p">,</span>
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="w">        </span><span class="nv">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">w</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">h</span>
</span><span id="__span-39-10"><a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="w">        </span><span class="p">})</span>
</span><span id="__span-39-11"><a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-39-12"><a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">trunkList</span>
</span><span id="__span-39-13"><a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="c1">-- High: Get trunks with comprehensive validation and categorization</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">getCategorizedTrunks</span><span class="p">()</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trunks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">getAllTrunks</span><span class="p">()</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">categorized</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">    </span><span class="nv">civilian</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="w">    </span><span class="nv">emergency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="w">    </span><span class="nv">military</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="w">    </span><span class="nv">other</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-40-9"><a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-40-10"><a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">trunks</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-40-11"><a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">name</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-40-12"><a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a><span class="w">            </span><span class="nv">lia</span><span class="p">.</span><span class="nf">warning</span><span class="p">(</span><span class="s2">&quot;Invalid trunk data for vehicle: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">)</span>
</span><span id="__span-40-13"><a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a><span class="w">            </span><span class="kr">goto</span><span class="w"> </span><span class="nl">continue</span>
</span><span id="__span-40-14"><a id="__codelineno-40-14" name="__codelineno-40-14" href="#__codelineno-40-14"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-40-15"><a id="__codelineno-40-15" name="__codelineno-40-15" href="#__codelineno-40-15"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">trunkInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-40-16"><a id="__codelineno-40-16" name="__codelineno-40-16" href="#__codelineno-40-16"></a><span class="w">            </span><span class="nv">vehicleClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">,</span>
</span><span id="__span-40-17"><a id="__codelineno-40-17" name="__codelineno-40-17" href="#__codelineno-40-17"></a><span class="w">            </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">name</span><span class="p">,</span>
</span><span id="__span-40-18"><a id="__codelineno-40-18" name="__codelineno-40-18" href="#__codelineno-40-18"></a><span class="w">            </span><span class="nb">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invType</span><span class="p">,</span>
</span><span id="__span-40-19"><a id="__codelineno-40-19" name="__codelineno-40-19" href="#__codelineno-40-19"></a><span class="w">            </span><span class="nv">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">w</span><span class="p">,</span>
</span><span id="__span-40-20"><a id="__codelineno-40-20" name="__codelineno-40-20" href="#__codelineno-40-20"></a><span class="w">            </span><span class="nv">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">h</span><span class="p">,</span>
</span><span id="__span-40-21"><a id="__codelineno-40-21" name="__codelineno-40-21" href="#__codelineno-40-21"></a><span class="w">            </span><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">maxWeight</span><span class="p">,</span>
</span><span id="__span-40-22"><a id="__codelineno-40-22" name="__codelineno-40-22" href="#__codelineno-40-22"></a><span class="w">            </span><span class="nv">restricted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">restricted</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-40-23"><a id="__codelineno-40-23" name="__codelineno-40-23" href="#__codelineno-40-23"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-40-24"><a id="__codelineno-40-24" name="__codelineno-40-24" href="#__codelineno-40-24"></a><span class="w">        </span><span class="c1">-- Categorize based on vehicle class</span>
</span><span id="__span-40-25"><a id="__codelineno-40-25" name="__codelineno-40-25" href="#__codelineno-40-25"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">lowerClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">:</span><span class="nf">lower</span><span class="p">()</span>
</span><span id="__span-40-26"><a id="__codelineno-40-26" name="__codelineno-40-26" href="#__codelineno-40-26"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nb">string.find</span><span class="p">(</span><span class="nv">lowerClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;police&quot;</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nb">string.find</span><span class="p">(</span><span class="nv">lowerClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ambulance&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-40-27"><a id="__codelineno-40-27" name="__codelineno-40-27" href="#__codelineno-40-27"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">categorized</span><span class="p">.</span><span class="py">emergency</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkInfo</span><span class="p">)</span>
</span><span id="__span-40-28"><a id="__codelineno-40-28" name="__codelineno-40-28" href="#__codelineno-40-28"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nb">string.find</span><span class="p">(</span><span class="nv">lowerClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;military&quot;</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nb">string.find</span><span class="p">(</span><span class="nv">lowerClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tank&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-40-29"><a id="__codelineno-40-29" name="__codelineno-40-29" href="#__codelineno-40-29"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">categorized</span><span class="p">.</span><span class="py">military</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkInfo</span><span class="p">)</span>
</span><span id="__span-40-30"><a id="__codelineno-40-30" name="__codelineno-40-30" href="#__codelineno-40-30"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nb">string.find</span><span class="p">(</span><span class="nv">lowerClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;civilian&quot;</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nb">string.find</span><span class="p">(</span><span class="nv">lowerClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;jeep&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-40-31"><a id="__codelineno-40-31" name="__codelineno-40-31" href="#__codelineno-40-31"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">categorized</span><span class="p">.</span><span class="py">civilian</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkInfo</span><span class="p">)</span>
</span><span id="__span-40-32"><a id="__codelineno-40-32" name="__codelineno-40-32" href="#__codelineno-40-32"></a><span class="w">        </span><span class="kr">else</span>
</span><span id="__span-40-33"><a id="__codelineno-40-33" name="__codelineno-40-33" href="#__codelineno-40-33"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">categorized</span><span class="p">.</span><span class="py">other</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkInfo</span><span class="p">)</span>
</span><span id="__span-40-34"><a id="__codelineno-40-34" name="__codelineno-40-34" href="#__codelineno-40-34"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-40-35"><a id="__codelineno-40-35" name="__codelineno-40-35" href="#__codelineno-40-35"></a><span class="w">        </span><span class="p">::</span><span class="nl">continue</span><span class="p">::</span>
</span><span id="__span-40-36"><a id="__codelineno-40-36" name="__codelineno-40-36" href="#__codelineno-40-36"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-40-37"><a id="__codelineno-40-37" name="__codelineno-40-37" href="#__codelineno-40-37"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">categorized</span>
</span><span id="__span-40-38"><a id="__codelineno-40-38" name="__codelineno-40-38" href="#__codelineno-40-38"></a><span class="kr">end</span>
</span><span id="__span-40-39"><a id="__codelineno-40-39" name="__codelineno-40-39" href="#__codelineno-40-39"></a><span class="kr">function</span><span class="w"> </span><span class="nc">lia</span><span class="p">.</span><span class="nc">inventory</span><span class="p">.</span><span class="nf">getAllTrunks</span><span class="p">()</span>
</span><span id="__span-40-40"><a id="__codelineno-40-40" name="__codelineno-40-40" href="#__codelineno-40-40"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trunks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-40-41"><a id="__codelineno-40-41" name="__codelineno-40-41" href="#__codelineno-40-41"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">data</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="py">storage</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-40-42"><a id="__codelineno-40-42" name="__codelineno-40-42" href="#__codelineno-40-42"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">data</span><span class="p">.</span><span class="py">isTrunk</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="nv">trunks</span><span class="p">[</span><span class="nv">key</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-40-43"><a id="__codelineno-40-43" name="__codelineno-40-43" href="#__codelineno-40-43"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-40-44"><a id="__codelineno-40-44" name="__codelineno-40-44" href="#__codelineno-40-44"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">trunks</span>
</span><span id="__span-40-45"><a id="__codelineno-40-45" name="__codelineno-40-45" href="#__codelineno-40-45"></a><span class="kr">end</span>
</span><span id="__span-40-46"><a id="__codelineno-40-46" name="__codelineno-40-46" href="#__codelineno-40-46"></a><span class="nv">Low</span><span class="w"> </span><span class="nv">Complexity</span><span class="p">:</span>
</span><span id="__span-40-47"><a id="__codelineno-40-47" name="__codelineno-40-47" href="#__codelineno-40-47"></a>
</span><span id="__span-40-48"><a id="__codelineno-40-48" name="__codelineno-40-48" href="#__codelineno-40-48"></a><span class="py">Medium</span><span class="w"> </span><span class="nv">Complexity</span><span class="p">:</span>
</span><span id="__span-40-49"><a id="__codelineno-40-49" name="__codelineno-40-49" href="#__codelineno-40-49"></a>
</span><span id="__span-40-50"><a id="__codelineno-40-50" name="__codelineno-40-50" href="#__codelineno-40-50"></a><span class="py">High</span><span class="w"> </span><span class="nv">Complexity</span><span class="p">:</span>
</span><span id="__span-40-51"><a id="__codelineno-40-51" name="__codelineno-40-51" href="#__codelineno-40-51"></a>
</span><span id="__span-40-52"><a id="__codelineno-40-52" name="__codelineno-40-52" href="#__codelineno-40-52"></a><span class="err">]]</span>
</span></code></pre></div></p>
<hr />
<h3 id="getallstorage">getAllStorage</h3>
<p><strong>Purpose</strong></p>
<p>Retrieves all registered storage configurations with optional trunk filtering</p>
<p><strong>When Called</strong></p>
<p>When needing to iterate through all available storage containers</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>includeTrunks</code> (<em>boolean, optional</em>): If false, excludes vehicle trunks from results</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>Table containing all storage configurations indexed by model/class</li>
</ul>
<p><strong>Realm</strong></p>
<p>Server</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="c1">-- Simple: Get all trunks</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">trunks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">getAllTrunks</span><span class="p">()</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="kr">for</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">trunks</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vehicle:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Trunk:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">name</span><span class="p">)</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="c1">-- Medium: Get trunks with processing</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">getAllTrunkInfo</span><span class="p">()</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trunks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">getAllTrunks</span><span class="p">()</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trunkList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">trunks</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="w">        </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">trunkList</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-42-7"><a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="w">        </span><span class="nv">vehicleClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">,</span>
</span><span id="__span-42-8"><a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="w">        </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">name</span><span class="p">,</span>
</span><span id="__span-42-9"><a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="w">        </span><span class="nv">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">w</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">h</span>
</span><span id="__span-42-10"><a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a><span class="w">        </span><span class="p">})</span>
</span><span id="__span-42-11"><a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-42-12"><a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">trunkList</span>
</span><span id="__span-42-13"><a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="c1">-- High: Get trunks with comprehensive validation and categorization</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">getCategorizedTrunks</span><span class="p">()</span>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trunks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">getAllTrunks</span><span class="p">()</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">categorized</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">    </span><span class="nv">civilian</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="w">    </span><span class="nv">emergency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="w">    </span><span class="nv">military</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="w">    </span><span class="nv">other</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-43-10"><a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">trunks</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-43-11"><a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trunkData</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">name</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-43-12"><a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a><span class="w">            </span><span class="nv">lia</span><span class="p">.</span><span class="nf">warning</span><span class="p">(</span><span class="s2">&quot;Invalid trunk data for vehicle: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">)</span>
</span><span id="__span-43-13"><a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a><span class="w">            </span><span class="kr">goto</span><span class="w"> </span><span class="nl">continue</span>
</span><span id="__span-43-14"><a id="__codelineno-43-14" name="__codelineno-43-14" href="#__codelineno-43-14"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-43-15"><a id="__codelineno-43-15" name="__codelineno-43-15" href="#__codelineno-43-15"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">trunkInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-43-16"><a id="__codelineno-43-16" name="__codelineno-43-16" href="#__codelineno-43-16"></a><span class="w">            </span><span class="nv">vehicleClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">,</span>
</span><span id="__span-43-17"><a id="__codelineno-43-17" name="__codelineno-43-17" href="#__codelineno-43-17"></a><span class="w">            </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">name</span><span class="p">,</span>
</span><span id="__span-43-18"><a id="__codelineno-43-18" name="__codelineno-43-18" href="#__codelineno-43-18"></a><span class="w">            </span><span class="nb">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invType</span><span class="p">,</span>
</span><span id="__span-43-19"><a id="__codelineno-43-19" name="__codelineno-43-19" href="#__codelineno-43-19"></a><span class="w">            </span><span class="nv">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">w</span><span class="p">,</span>
</span><span id="__span-43-20"><a id="__codelineno-43-20" name="__codelineno-43-20" href="#__codelineno-43-20"></a><span class="w">            </span><span class="nv">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">h</span><span class="p">,</span>
</span><span id="__span-43-21"><a id="__codelineno-43-21" name="__codelineno-43-21" href="#__codelineno-43-21"></a><span class="w">            </span><span class="nv">maxWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">maxWeight</span><span class="p">,</span>
</span><span id="__span-43-22"><a id="__codelineno-43-22" name="__codelineno-43-22" href="#__codelineno-43-22"></a><span class="w">            </span><span class="nv">restricted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">trunkData</span><span class="p">.</span><span class="py">invData</span><span class="p">.</span><span class="py">restricted</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-43-23"><a id="__codelineno-43-23" name="__codelineno-43-23" href="#__codelineno-43-23"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-43-24"><a id="__codelineno-43-24" name="__codelineno-43-24" href="#__codelineno-43-24"></a><span class="w">        </span><span class="c1">-- Categorize based on vehicle class</span>
</span><span id="__span-43-25"><a id="__codelineno-43-25" name="__codelineno-43-25" href="#__codelineno-43-25"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">lowerClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vehicleClass</span><span class="p">:</span><span class="nf">lower</span><span class="p">()</span>
</span><span id="__span-43-26"><a id="__codelineno-43-26" name="__codelineno-43-26" href="#__codelineno-43-26"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nb">string.find</span><span class="p">(</span><span class="nv">lowerClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;police&quot;</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nb">string.find</span><span class="p">(</span><span class="nv">lowerClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ambulance&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-43-27"><a id="__codelineno-43-27" name="__codelineno-43-27" href="#__codelineno-43-27"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">categorized</span><span class="p">.</span><span class="py">emergency</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkInfo</span><span class="p">)</span>
</span><span id="__span-43-28"><a id="__codelineno-43-28" name="__codelineno-43-28" href="#__codelineno-43-28"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nb">string.find</span><span class="p">(</span><span class="nv">lowerClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;military&quot;</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nb">string.find</span><span class="p">(</span><span class="nv">lowerClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tank&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-43-29"><a id="__codelineno-43-29" name="__codelineno-43-29" href="#__codelineno-43-29"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">categorized</span><span class="p">.</span><span class="py">military</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkInfo</span><span class="p">)</span>
</span><span id="__span-43-30"><a id="__codelineno-43-30" name="__codelineno-43-30" href="#__codelineno-43-30"></a><span class="w">        </span><span class="kr">elseif</span><span class="w"> </span><span class="nb">string.find</span><span class="p">(</span><span class="nv">lowerClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;civilian&quot;</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nb">string.find</span><span class="p">(</span><span class="nv">lowerClass</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;jeep&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-43-31"><a id="__codelineno-43-31" name="__codelineno-43-31" href="#__codelineno-43-31"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">categorized</span><span class="p">.</span><span class="py">civilian</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkInfo</span><span class="p">)</span>
</span><span id="__span-43-32"><a id="__codelineno-43-32" name="__codelineno-43-32" href="#__codelineno-43-32"></a><span class="w">        </span><span class="kr">else</span>
</span><span id="__span-43-33"><a id="__codelineno-43-33" name="__codelineno-43-33" href="#__codelineno-43-33"></a><span class="w">            </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">categorized</span><span class="p">.</span><span class="py">other</span><span class="p">,</span><span class="w"> </span><span class="nv">trunkInfo</span><span class="p">)</span>
</span><span id="__span-43-34"><a id="__codelineno-43-34" name="__codelineno-43-34" href="#__codelineno-43-34"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-43-35"><a id="__codelineno-43-35" name="__codelineno-43-35" href="#__codelineno-43-35"></a><span class="w">        </span><span class="p">::</span><span class="nl">continue</span><span class="p">::</span>
</span><span id="__span-43-36"><a id="__codelineno-43-36" name="__codelineno-43-36" href="#__codelineno-43-36"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-43-37"><a id="__codelineno-43-37" name="__codelineno-43-37" href="#__codelineno-43-37"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">categorized</span>
</span><span id="__span-43-38"><a id="__codelineno-43-38" name="__codelineno-43-38" href="#__codelineno-43-38"></a><span class="kr">end</span>
</span><span id="__span-43-39"><a id="__codelineno-43-39" name="__codelineno-43-39" href="#__codelineno-43-39"></a><span class="kr">function</span><span class="w"> </span><span class="nc">lia</span><span class="p">.</span><span class="nc">inventory</span><span class="p">.</span><span class="nf">getAllTrunks</span><span class="p">()</span>
</span><span id="__span-43-40"><a id="__codelineno-43-40" name="__codelineno-43-40" href="#__codelineno-43-40"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">trunks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-43-41"><a id="__codelineno-43-41" name="__codelineno-43-41" href="#__codelineno-43-41"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">data</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="py">storage</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-43-42"><a id="__codelineno-43-42" name="__codelineno-43-42" href="#__codelineno-43-42"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">data</span><span class="p">.</span><span class="py">isTrunk</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="nv">trunks</span><span class="p">[</span><span class="nv">key</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data</span><span class="w"> </span><span class="kr">end</span>
</span><span id="__span-43-43"><a id="__codelineno-43-43" name="__codelineno-43-43" href="#__codelineno-43-43"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-43-44"><a id="__codelineno-43-44" name="__codelineno-43-44" href="#__codelineno-43-44"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">trunks</span>
</span><span id="__span-43-45"><a id="__codelineno-43-45" name="__codelineno-43-45" href="#__codelineno-43-45"></a><span class="kr">end</span>
</span><span id="__span-43-46"><a id="__codelineno-43-46" name="__codelineno-43-46" href="#__codelineno-43-46"></a><span class="nv">Low</span><span class="w"> </span><span class="nv">Complexity</span><span class="p">:</span>
</span><span id="__span-43-47"><a id="__codelineno-43-47" name="__codelineno-43-47" href="#__codelineno-43-47"></a>
</span><span id="__span-43-48"><a id="__codelineno-43-48" name="__codelineno-43-48" href="#__codelineno-43-48"></a><span class="py">Medium</span><span class="w"> </span><span class="nv">Complexity</span><span class="p">:</span>
</span><span id="__span-43-49"><a id="__codelineno-43-49" name="__codelineno-43-49" href="#__codelineno-43-49"></a>
</span><span id="__span-43-50"><a id="__codelineno-43-50" name="__codelineno-43-50" href="#__codelineno-43-50"></a><span class="py">High</span><span class="w"> </span><span class="nv">Complexity</span><span class="p">:</span>
</span><span id="__span-43-51"><a id="__codelineno-43-51" name="__codelineno-43-51" href="#__codelineno-43-51"></a>
</span><span id="__span-43-52"><a id="__codelineno-43-52" name="__codelineno-43-52" href="#__codelineno-43-52"></a><span class="err">]]</span>
</span></code></pre></div></p>
<hr />
<h3 id="show">show</h3>
<p><strong>Purpose</strong></p>
<p>Displays an inventory panel to the client</p>
<p><strong>When Called</strong></p>
<p>When a player opens an inventory (player inventory, storage container, etc.)</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>inventory</code> (<em>table</em>): The inventory instance to display</li>
<li><code>parent</code> (<em>panel, optional</em>): Parent panel to attach the inventory panel to</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The created inventory panel</li>
</ul>
<p><strong>Realm</strong></p>
<p>Client</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="c1">-- Simple: Show inventory panel</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">panel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">show</span><span class="p">(</span><span class="nv">inventory</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="c1">-- Medium: Show inventory with parent panel</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">showInventoryInFrame</span><span class="p">(</span><span class="nv">inventory</span><span class="p">)</span>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vgui</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;DFrame&quot;</span><span class="p">)</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="w">    </span><span class="nv">frame</span><span class="p">:</span><span class="nf">SetSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">)</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w">    </span><span class="nv">frame</span><span class="p">:</span><span class="nf">Center</span><span class="p">()</span>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="w">    </span><span class="nv">frame</span><span class="p">:</span><span class="nf">MakePopup</span><span class="p">()</span>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">invPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">show</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="nv">frame</span><span class="p">)</span>
</span><span id="__span-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">invPanel</span>
</span><span id="__span-45-9"><a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="c1">-- High: Show inventory with comprehensive validation and error handling</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">showInventorySafely</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="nv">parent</span><span class="p">)</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inventory</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inventory</span><span class="p">.</span><span class="py">id</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">notify</span><span class="p">(</span><span class="s2">&quot;Invalid inventory provided&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="w">    </span><span class="c1">-- Check if inventory is already open</span>
</span><span id="__span-46-8"><a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">globalName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;inv&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">inventory</span><span class="p">.</span><span class="py">id</span>
</span><span id="__span-46-9"><a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">lia</span><span class="p">.</span><span class="py">gui</span><span class="p">[</span><span class="nv">globalName</span><span class="p">])</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-46-10"><a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">gui</span><span class="p">[</span><span class="nv">globalName</span><span class="p">]:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-46-11"><a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-46-12"><a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a><span class="w">    </span><span class="c1">-- Validate parent panel</span>
</span><span id="__span-46-13"><a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">parent</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">parent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-46-14"><a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">warning</span><span class="p">(</span><span class="s2">&quot;Invalid parent panel provided to showInventorySafely&quot;</span><span class="p">)</span>
</span><span id="__span-46-15"><a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a><span class="w">        </span><span class="nv">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-46-16"><a id="__codelineno-46-16" name="__codelineno-46-16" href="#__codelineno-46-16"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-46-17"><a id="__codelineno-46-17" name="__codelineno-46-17" href="#__codelineno-46-17"></a><span class="w">    </span><span class="c1">-- Create inventory panel</span>
</span><span id="__span-46-18"><a id="__codelineno-46-18" name="__codelineno-46-18" href="#__codelineno-46-18"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">panel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">show</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="nv">parent</span><span class="p">)</span>
</span><span id="__span-46-19"><a id="__codelineno-46-19" name="__codelineno-46-19" href="#__codelineno-46-19"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">panel</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">panel</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-46-20"><a id="__codelineno-46-20" name="__codelineno-46-20" href="#__codelineno-46-20"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Failed to create inventory panel for inventory &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">inventory</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-46-21"><a id="__codelineno-46-21" name="__codelineno-46-21" href="#__codelineno-46-21"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-46-22"><a id="__codelineno-46-22" name="__codelineno-46-22" href="#__codelineno-46-22"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-46-23"><a id="__codelineno-46-23" name="__codelineno-46-23" href="#__codelineno-46-23"></a><span class="w">    </span><span class="c1">-- Add custom styling and behavior</span>
</span><span id="__span-46-24"><a id="__codelineno-46-24" name="__codelineno-46-24" href="#__codelineno-46-24"></a><span class="w">    </span><span class="nv">panel</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-46-25"><a id="__codelineno-46-25" name="__codelineno-46-25" href="#__codelineno-46-25"></a><span class="w">    </span><span class="nv">panel</span><span class="p">:</span><span class="nf">SetSize</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">)</span>
</span><span id="__span-46-26"><a id="__codelineno-46-26" name="__codelineno-46-26" href="#__codelineno-46-26"></a><span class="w">    </span><span class="c1">-- Add close button</span>
</span><span id="__span-46-27"><a id="__codelineno-46-27" name="__codelineno-46-27" href="#__codelineno-46-27"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">closeBtn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">panel</span><span class="p">:</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;DButton&quot;</span><span class="p">)</span>
</span><span id="__span-46-28"><a id="__codelineno-46-28" name="__codelineno-46-28" href="#__codelineno-46-28"></a><span class="w">    </span><span class="nv">closeBtn</span><span class="p">:</span><span class="nf">SetText</span><span class="p">(</span><span class="s2">&quot;Close&quot;</span><span class="p">)</span>
</span><span id="__span-46-29"><a id="__codelineno-46-29" name="__codelineno-46-29" href="#__codelineno-46-29"></a><span class="w">    </span><span class="nv">closeBtn</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="nv">panel</span><span class="p">:</span><span class="nf">GetWide</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-46-30"><a id="__codelineno-46-30" name="__codelineno-46-30" href="#__codelineno-46-30"></a><span class="w">    </span><span class="nv">closeBtn</span><span class="p">:</span><span class="nf">SetSize</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span>
</span><span id="__span-46-31"><a id="__codelineno-46-31" name="__codelineno-46-31" href="#__codelineno-46-31"></a><span class="w">    </span><span class="nv">closeBtn</span><span class="p">.</span><span class="py">DoClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-46-32"><a id="__codelineno-46-32" name="__codelineno-46-32" href="#__codelineno-46-32"></a><span class="w">    </span><span class="nv">panel</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-46-33"><a id="__codelineno-46-33" name="__codelineno-46-33" href="#__codelineno-46-33"></a><span class="kr">end</span>
</span><span id="__span-46-34"><a id="__codelineno-46-34" name="__codelineno-46-34" href="#__codelineno-46-34"></a><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;Successfully displayed inventory panel for inventory &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">inventory</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-46-35"><a id="__codelineno-46-35" name="__codelineno-46-35" href="#__codelineno-46-35"></a><span class="kr">return</span><span class="w"> </span><span class="nv">panel</span>
</span><span id="__span-46-36"><a id="__codelineno-46-36" name="__codelineno-46-36" href="#__codelineno-46-36"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="liapanelonremove">lia.panel:OnRemove</h3>
<p><strong>Purpose</strong></p>
<p>Displays an inventory panel to the client</p>
<p><strong>When Called</strong></p>
<p>When a player opens an inventory (player inventory, storage container, etc.)</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>inventory</code> (<em>table</em>): The inventory instance to display</li>
<li><code>parent</code> (<em>panel, optional</em>): Parent panel to attach the inventory panel to</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>The created inventory panel</li>
</ul>
<p><strong>Realm</strong></p>
<p>Client</p>
<p><strong>Example Usage</strong></p>
<p><strong>Low Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="c1">-- Simple: Show inventory panel</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">panel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">show</span><span class="p">(</span><span class="nv">inventory</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Medium Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="c1">-- Medium: Show inventory with parent panel</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">showInventoryInFrame</span><span class="p">(</span><span class="nv">inventory</span><span class="p">)</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vgui</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;DFrame&quot;</span><span class="p">)</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="w">    </span><span class="nv">frame</span><span class="p">:</span><span class="nf">SetSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">)</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="w">    </span><span class="nv">frame</span><span class="p">:</span><span class="nf">Center</span><span class="p">()</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="w">    </span><span class="nv">frame</span><span class="p">:</span><span class="nf">MakePopup</span><span class="p">()</span>
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">invPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">show</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="nv">frame</span><span class="p">)</span>
</span><span id="__span-48-8"><a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">invPanel</span>
</span><span id="__span-48-9"><a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="kr">end</span>
</span></code></pre></div></p>
<p><strong>High Complexity:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="c1">-- High: Show inventory with comprehensive validation and error handling</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">showInventorySafely</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="nv">parent</span><span class="p">)</span>
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inventory</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">inventory</span><span class="p">.</span><span class="py">id</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">notify</span><span class="p">(</span><span class="s2">&quot;Invalid inventory provided&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
</span><span id="__span-49-5"><a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-49-6"><a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-49-7"><a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="w">    </span><span class="c1">-- Check if inventory is already open</span>
</span><span id="__span-49-8"><a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">globalName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;inv&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">inventory</span><span class="p">.</span><span class="py">id</span>
</span><span id="__span-49-9"><a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">lia</span><span class="p">.</span><span class="py">gui</span><span class="p">[</span><span class="nv">globalName</span><span class="p">])</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-49-10"><a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">gui</span><span class="p">[</span><span class="nv">globalName</span><span class="p">]:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-49-11"><a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-49-12"><a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a><span class="w">    </span><span class="c1">-- Validate parent panel</span>
</span><span id="__span-49-13"><a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">parent</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">parent</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-49-14"><a id="__codelineno-49-14" name="__codelineno-49-14" href="#__codelineno-49-14"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">warning</span><span class="p">(</span><span class="s2">&quot;Invalid parent panel provided to showInventorySafely&quot;</span><span class="p">)</span>
</span><span id="__span-49-15"><a id="__codelineno-49-15" name="__codelineno-49-15" href="#__codelineno-49-15"></a><span class="w">        </span><span class="nv">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-49-16"><a id="__codelineno-49-16" name="__codelineno-49-16" href="#__codelineno-49-16"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-49-17"><a id="__codelineno-49-17" name="__codelineno-49-17" href="#__codelineno-49-17"></a><span class="w">    </span><span class="c1">-- Create inventory panel</span>
</span><span id="__span-49-18"><a id="__codelineno-49-18" name="__codelineno-49-18" href="#__codelineno-49-18"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">panel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">inventory</span><span class="p">.</span><span class="nf">show</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="nv">parent</span><span class="p">)</span>
</span><span id="__span-49-19"><a id="__codelineno-49-19" name="__codelineno-49-19" href="#__codelineno-49-19"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">panel</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">panel</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-49-20"><a id="__codelineno-49-20" name="__codelineno-49-20" href="#__codelineno-49-20"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s2">&quot;Failed to create inventory panel for inventory &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">inventory</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-49-21"><a id="__codelineno-49-21" name="__codelineno-49-21" href="#__codelineno-49-21"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">nil</span>
</span><span id="__span-49-22"><a id="__codelineno-49-22" name="__codelineno-49-22" href="#__codelineno-49-22"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-49-23"><a id="__codelineno-49-23" name="__codelineno-49-23" href="#__codelineno-49-23"></a><span class="w">    </span><span class="c1">-- Add custom styling and behavior</span>
</span><span id="__span-49-24"><a id="__codelineno-49-24" name="__codelineno-49-24" href="#__codelineno-49-24"></a><span class="w">    </span><span class="nv">panel</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-49-25"><a id="__codelineno-49-25" name="__codelineno-49-25" href="#__codelineno-49-25"></a><span class="w">    </span><span class="nv">panel</span><span class="p">:</span><span class="nf">SetSize</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">)</span>
</span><span id="__span-49-26"><a id="__codelineno-49-26" name="__codelineno-49-26" href="#__codelineno-49-26"></a><span class="w">    </span><span class="c1">-- Add close button</span>
</span><span id="__span-49-27"><a id="__codelineno-49-27" name="__codelineno-49-27" href="#__codelineno-49-27"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">closeBtn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">panel</span><span class="p">:</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;DButton&quot;</span><span class="p">)</span>
</span><span id="__span-49-28"><a id="__codelineno-49-28" name="__codelineno-49-28" href="#__codelineno-49-28"></a><span class="w">    </span><span class="nv">closeBtn</span><span class="p">:</span><span class="nf">SetText</span><span class="p">(</span><span class="s2">&quot;Close&quot;</span><span class="p">)</span>
</span><span id="__span-49-29"><a id="__codelineno-49-29" name="__codelineno-49-29" href="#__codelineno-49-29"></a><span class="w">    </span><span class="nv">closeBtn</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="nv">panel</span><span class="p">:</span><span class="nf">GetWide</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-49-30"><a id="__codelineno-49-30" name="__codelineno-49-30" href="#__codelineno-49-30"></a><span class="w">    </span><span class="nv">closeBtn</span><span class="p">:</span><span class="nf">SetSize</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span>
</span><span id="__span-49-31"><a id="__codelineno-49-31" name="__codelineno-49-31" href="#__codelineno-49-31"></a><span class="w">    </span><span class="nv">closeBtn</span><span class="p">.</span><span class="py">DoClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-49-32"><a id="__codelineno-49-32" name="__codelineno-49-32" href="#__codelineno-49-32"></a><span class="w">    </span><span class="nv">panel</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span>
</span><span id="__span-49-33"><a id="__codelineno-49-33" name="__codelineno-49-33" href="#__codelineno-49-33"></a><span class="kr">end</span>
</span><span id="__span-49-34"><a id="__codelineno-49-34" name="__codelineno-49-34" href="#__codelineno-49-34"></a><span class="nv">lia</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">&quot;Successfully displayed inventory panel for inventory &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">inventory</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-49-35"><a id="__codelineno-49-35" name="__codelineno-49-35" href="#__codelineno-49-35"></a><span class="kr">return</span><span class="w"> </span><span class="nv">panel</span>
</span><span id="__span-49-36"><a id="__codelineno-49-36" name="__codelineno-49-36" href="#__codelineno-49-36"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../lia.fonts/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Font Library">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Font Library
              </div>
            </div>
          </a>
        
        
          
          <a href="../lia.item/" class="md-footer__link md-footer__link--next" aria-label="Next: Item Library">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Item Library
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.instant.preview", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "toc.follow", "toc.integrate", "navigation.top", "header.autohide", "announce.dismiss", "navigation.footer", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.select", "content.code.annotate", "content.tabs.link", "content.tooltips", "content.footnote.tooltips"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>